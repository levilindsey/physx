{"version":3,"sources":["node_modules/browser-pack/_prelude.js","node_modules/lsl-animatex/index.js","node_modules/lsl-animatex/src/animation-job.js","node_modules/lsl-animatex/src/animator.js","node_modules/lsl-animatex/src/frame-latency-profiler.js","node_modules/lsl-animatex/src/index.js","node_modules/lsl-animatex/src/persistent-animation-job.js","node_modules/lsl-animatex/src/transient-animation-job.js","node_modules/lsl-animatex/src/util.js","src/collisions/collidables/index.js","src/collisions/collidables/src/aabb-collidable.js","src/collisions/collidables/src/capsule-collidable.js","src/collisions/collidables/src/collidable.js","src/collisions/collidables/src/line-segment.js","src/collisions/collidables/src/obb-collidable.js","src/collisions/collidables/src/sphere-collidable.js","src/collisions/collision-detection/index.js","src/collisions/collision-detection/src/aabb-collision-detection.js","src/collisions/collision-detection/src/capsule-collision-detection.js","src/collisions/collision-detection/src/obb-collision-detection.js","src/collisions/collision-detection/src/sphere-collision-detection.js","src/collisions/contact-calculation/index.js","src/collisions/contact-calculation/src/aabb-contact-calculation.js","src/collisions/contact-calculation/src/capsule-contact-calculation.js","src/collisions/contact-calculation/src/obb-contact-calculation.js","src/collisions/contact-calculation/src/sphere-contact-calculation.js","src/collisions/index.js","src/collisions/src/collidable-factories.js","src/collisions/src/collidable-physics-job.js","src/collisions/src/collidable-store.js","src/collisions/src/collision-handler.js","src/collisions/src/collision-utils.js","src/index.js","src/integrator/index.js","src/integrator/src/integrator.js","src/integrator/src/rk4-integrator.js","src/src/physics-engine.js","src/src/physics-job.js","src/src/physics-state.js","src/util/index.js","src/util/src/force-utils.js","src/util/src/geometry.js","src/util/src/inertia-tensor-utils.js","src/util/src/util.js"],"names":[],"mappings":"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","file":"physx.js","sourcesContent":["(function(){function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var c=\"function\"==typeof require&&require;if(!f&&c)return c(i,!0);if(u)return u(i,!0);var a=new Error(\"Cannot find module '\"+i+\"'\");throw a.code=\"MODULE_NOT_FOUND\",a}var p=n[i]={exports:{}};e[i][0].call(p.exports,function(r){var n=e[i][1][r];return o(n||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u=\"function\"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}return r})()","export * from './src';\n","/**\n * An AnimationJob is used with the animator controller to update and re-draw something each frame.\n *\n * @abstract\n */\nclass AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    // AnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === AnimationJob) {\n      throw new TypeError('Cannot construct AnimationJob instances directly');\n    }\n\n    this._startTime = 0;\n    this._isComplete = true;\n    this._onComplete = onComplete;\n  }\n\n  /**\n   * Indicates whether this AnimationJob is complete.\n   *\n   * @return {boolean}\n   */\n  get isComplete() {\n    return this._isComplete;\n  }\n\n  /**\n   * Sets this AnimationJob as started.\n   *\n   * @param {DOMHighResTimeStamp} startTime\n   */\n  start(startTime) {\n    this._startTime = startTime;\n    this._isComplete = false;\n  }\n\n  /**\n   * Updates the animation progress of this AnimationJob to match the given time.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @abstract\n   */\n  update(currentTime, deltaTime) {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Draws the current state of this AnimationJob.\n   *\n   * This is called from the overall animation loop.\n   *\n   * @abstract\n   */\n  draw() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n\n  /**\n   * Handles any necessary state for this AnimationJob being finished.\n   *\n   * @param {boolean} isCancelled\n   */\n  finish(isCancelled) {\n    console.log(`${this.constructor.name} ${isCancelled ? 'cancelled' : 'completed'}`);\n\n    this._isComplete = true;\n\n    if (this._onComplete) {\n      this._onComplete();\n    }\n  }\n}\n\nexport {AnimationJob};\n","import {FrameLatencyProfiler} from './frame-latency-profiler';\nimport {PersistentAnimationJob} from './persistent-animation-job';\nimport {TransientAnimationJob} from './transient-animation-job';\n\nconst _DELTA_TIME_UPPER_THRESHOLD = 200;\nconst _FRAME_DURATION_WARNING_THRESHOLD = 1000 / 30;\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\nconst _LATENCY_LOG_LABEL = 'Animation frame period';\n\n/**\n * This class handles the animation loop.\n *\n * This class's responsibilities include:\n * - updating modules for the current frame,\n * - drawing renderables for the current frame,\n * - starting and stopping transient animation jobs,\n * - capping time step durations at a max threshold.\n */\nclass Animator {\n  constructor() {\n    this._jobs = [];\n    this._previousTime = null;\n    this._isPaused = true;\n    this._requestAnimationFrameId = null;\n    this._totalUnpausedRunTime = 0;\n    this._lastUnpauseTime = null;\n    this._latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD,\n        _FRAME_DURATION_WARNING_THRESHOLD, _LATENCY_LOG_LABEL);\n  }\n\n  /**\n   * Starts the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  startJob(job) {\n    // Is this a restart?\n    if (!job.isComplete) {\n      console.debug(`Restarting AnimationJob: ${job.constructor.name}`);\n\n      if (job instanceof PersistentAnimationJob) {\n        job.reset();\n      } else {\n        job.finish(true);\n        job.start(window.performance.now());\n      }\n    } else {\n      console.debug(`Starting AnimationJob: ${job.constructor.name}`);\n\n      job.start(this._previousTime);\n      this._jobs.push(job);\n    }\n\n    this._startAnimationLoop();\n  }\n\n  /**\n   * Cancels the given AnimationJob.\n   *\n   * @param {AnimationJob} job\n   */\n  cancelJob(job) {\n    console.debug(`Cancelling AnimationJob: ${job.constructor.name}`);\n    job.finish(true);\n  }\n\n  /**\n   * Cancels all running AnimationJobs.\n   */\n  cancelAll() {\n    while (this._jobs.length) {\n      this.cancelJob(this._jobs[0]);\n    }\n  }\n\n  /** @returns {DOMHighResTimeStamp} */\n  get currentTime() {\n    return this._previousTime;\n  }\n\n  /** @returns {boolean} */\n  get isPaused() {\n    return this._isPaused;\n  }\n\n  pause() {\n    this._stopAnimationLoop();\n    console.debug('Animator paused');\n  }\n\n  unpause() {\n    this._startAnimationLoop();\n    console.debug('Animator unpaused');\n  }\n\n  /**\n   * This is the animation loop that drives all of the animation.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @private\n   */\n  _animationLoop(currentTime) {\n    // When pausing and restarting, it's possible for the previous time to be slightly inconsistent\n    // with the animationFrame time.\n    if (currentTime < this._previousTime) {\n      this._previousTime = currentTime - 1;\n    }\n\n    let deltaTime = currentTime - this._previousTime;\n    this._previousTime = currentTime;\n\n    this._latencyProfiler.recordFrameLatency(deltaTime);\n\n    // Large delays between frames can cause lead to instability in the system, so this caps them to\n    // a max threshold.\n    deltaTime = deltaTime > _DELTA_TIME_UPPER_THRESHOLD ?\n        _DELTA_TIME_UPPER_THRESHOLD : deltaTime;\n\n    if (!this._isPaused) {\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(currentTime => this._animationLoop(currentTime));\n      this._updateJobs(currentTime, deltaTime);\n      this._drawJobs();\n    }\n  }\n\n  /**\n   * Updates all of the active AnimationJobs.\n   *\n   * @param {DOMHighResTimeStamp} currentTime\n   * @param {DOMHighResTimeStamp} deltaTime\n   * @private\n   */\n  _updateJobs(currentTime, deltaTime) {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      let job = this._jobs[i];\n\n      // Remove jobs from the list after they are complete.\n      if (job.isComplete) {\n        this._removeJob(job, i);\n        i--;\n        count--;\n        continue;\n      }\n\n      // Check whether the job is transient and has reached its end.\n      if (job instanceof TransientAnimationJob && job.endTime < currentTime) {\n        job.finish(false);\n      } else {\n        job.update(currentTime, deltaTime);\n      }\n    }\n  }\n\n  /**\n   * Removes the given job from the collection of active, animating jobs.\n   *\n   * @param {AnimationJob} job\n   * @param {number} [index=-1]\n   * @private\n   */\n  _removeJob(job, index = -1) {\n    console.debug(`Removing AnimationJob: ${job.constructor.name}`);\n\n    if (index >= 0) {\n      this._jobs.splice(index, 1);\n    } else {\n      const count = this._jobs.length;\n      for (index = 0; index < count; index++) {\n        if (this._jobs[index] === job) {\n          this._jobs.splice(index, 1);\n          break;\n        }\n      }\n    }\n\n    // Stop the animation loop when there are no more jobs to animate.\n    if (this._jobs.length === 0) {\n      this._stopAnimationLoop();\n    }\n  }\n\n  /**\n   * Draws all of the active AnimationJobs.\n   *\n   * @private\n   */\n  _drawJobs() {\n    for (let i = 0, count = this._jobs.length; i < count; i++) {\n      this._jobs[i].draw();\n    }\n  }\n\n  /**\n   * Starts the animation loop if it is not already running.\n   *\n   * This method is idempotent.\n   *\n   * @private\n   */\n  _startAnimationLoop() {\n    if (this._isPaused) {\n      this._lastUnpauseTime = window.performance.now();\n    }\n    this._isPaused = false;\n\n    // Only actually start the loop if it isn't already running and the page has focus.\n    if (!this._requestAnimationFrameId && !document.hidden) {\n      this._latencyProfiler.start();\n      this._previousTime = window.performance.now();\n      this._requestAnimationFrameId =\n          window.requestAnimationFrame(time => this._animationLoop(time));\n    }\n  }\n\n  /**\n   * Stops the animation loop.\n   *\n   * @private\n   */\n  _stopAnimationLoop() {\n    if (!this._isPaused) {\n      this._totalUnpausedRunTime += this._timeSinceLastPaused;\n    }\n    this._isPaused = true;\n    window.cancelAnimationFrame(this._requestAnimationFrameId);\n    this._requestAnimationFrameId = null;\n    this._latencyProfiler.stop();\n  }\n\n  /**\n   * Creates a promise that will resolve on the next animation loop.\n   *\n   * @returns {Promise}\n   */\n  resolveOnNextFrame() {\n    return new Promise(window.requestAnimationFrame);\n  }\n\n  /**\n   * Gets the total amount of time the animator has been running while not paused.\n   *\n   * @returns {DOMHighResTimeStamp}\n   */\n  get totalRunTime() {\n    return this._isPaused\n        ? this._totalUnpausedRunTime\n        : this._totalUnpausedRunTime + this._timeSinceLastPaused;\n  }\n\n  /**\n   * @returns {DOMHighResTimeStamp}\n   */\n  get _timeSinceLastPaused() {\n    return window.performance.now() - this._lastUnpauseTime;\n  }\n}\n\nconst animator = new Animator();\n\nexport {animator};\n\n/**\n * @typedef {number} DOMHighResTimeStamp A number of milliseconds, accurate to one thousandth of a\n * millisecond.\n */\n\n","/**\n * This class keeps track of avg/min/max frame latencies over the last logging time period and\n * periodically logs these values.\n */\nclass FrameLatencyProfiler {\n  /**\n   * @param {number} logPeriod The period at which to print latency log messages. In milliseconds.\n   * @param {number} latencyWarningThreshold If the average latency exceeds this threshold, then the\n   * log message is shown as a warning. In milliseconds.\n   * @param {string} logLabel A label to show for each latency log message.\n   */\n  constructor(logPeriod, latencyWarningThreshold, logLabel) {\n    this._logPeriod = logPeriod;\n    this._latencyWarningThreshold = latencyWarningThreshold;\n    this._logLabel = logLabel;\n\n    this._frameCount = null;\n    this._maxFrameLatency = null;\n    this._minFrameLatency = null;\n    this._avgFrameLatency = null;\n\n    this._intervalId = null;\n  }\n\n  start() {\n    this.stop();\n    this.reset();\n\n    this._intervalId = setInterval(() => {\n      this.logFrameLatency();\n      this.reset();\n    }, this._logPeriod);\n  }\n\n  stop() {\n    clearInterval(this._intervalId);\n  }\n\n  reset() {\n    this._frameCount = 0;\n    this._maxFrameLatency = Number.MIN_VALUE;\n    this._minFrameLatency = Number.MAX_VALUE;\n    this._avgFrameLatency = 0;\n  }\n\n  /**\n   * Keeps track of a running average, min value, and max value for the frame latencies.\n   *\n   * @param {DOMHighResTimeStamp} frameLatency\n   */\n  recordFrameLatency(frameLatency) {\n    this._frameCount++;\n    this._maxFrameLatency =\n        this._maxFrameLatency < frameLatency ? frameLatency : this._maxFrameLatency;\n    this._minFrameLatency =\n        this._minFrameLatency > frameLatency ? frameLatency : this._minFrameLatency;\n    this._avgFrameLatency =\n        this._avgFrameLatency + (frameLatency - this._avgFrameLatency) / this._frameCount;\n  }\n\n  logFrameLatency() {\n    if (this._frameCount > 0) {\n      const message = `${this._logLabel}:  AVG=${this._avgFrameLatency.toFixed(3)}  ` +\n          `(MAX=${this._maxFrameLatency.toFixed(3)}; MIN=${this._minFrameLatency.toFixed(3)})`;\n      if (this._maxFrameLatency >= this._latencyWarningThreshold) {\n        console.warn(message);\n      } else {\n        console.debug(message);\n      }\n    }\n  }\n}\n\nexport {FrameLatencyProfiler};\n","export * from './animation-job';\nexport * from './animator';\nexport * from './frame-latency-profiler';\nexport * from './persistent-animation-job';\nexport * from './transient-animation-job';\n","import {AnimationJob} from './animation-job';\n\n/**\n * A PersistentAnimationJob recurs or has an indefinite duration.\n *\n * @abstract\n */\nclass PersistentAnimationJob extends AnimationJob {\n  /**\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(onComplete) {\n    super(onComplete);\n\n    // PersistentAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === PersistentAnimationJob) {\n      throw new TypeError('Cannot construct PersistentAnimationJob instances directly');\n    }\n  }\n\n  /**\n   * @abstract\n   */\n  reset() {\n    // Extending classes should implement this method.\n    throw new TypeError('Method not implemented');\n  }\n}\n\nexport {PersistentAnimationJob};\n","import {_util} from './util';\n\nimport {AnimationJob} from './animation-job';\n\n/**\n * A TransientAnimationJob is temporary and has a definite beginning and end.\n *\n * @abstract\n */\nclass TransientAnimationJob extends AnimationJob {\n  /**\n   * @param {number} duration\n   * @param {number} delay\n   * @param {Function|String} easingFunction\n   * @param {Function} [onComplete] A callback to be called when this AnimationJob is finished.\n   */\n  constructor(duration, delay, easingFunction, onComplete) {\n    super(onComplete);\n\n    // TransientAnimationJob is an abstract class. It should not be instantiated directly.\n    if (new.target === TransientAnimationJob) {\n      throw new TypeError('Cannot construct TransientAnimationJob instances directly');\n    }\n\n    this._duration = duration;\n    this._delay = delay;\n    this._easingFunction = typeof easingFunction === 'function'\n        ? easingFunction\n        : _util.easingFunctions[easingFunction];\n  }\n\n  /**\n   * @returns {number}\n   */\n  get endTime() {\n    return this._startTime + this._duration + this._delay;\n  }\n}\n\nexport {TransientAnimationJob};\n","/**\n * This module defines a collection of static utility functions.\n */\n\n// A collection of different types of easing functions.\nconst easingFunctions = {\n  linear: t => t,\n  easeInQuad: t => t * t,\n  easeOutQuad: t => t * (2 - t),\n  easeInOutQuad: t => t < 0.5 ? 2 * t * t : -1 + (4 - 2 * t) * t,\n  easeInCubic: t => t * t * t,\n  easeOutCubic: t => 1 + --t * t * t,\n  easeInOutCubic: t => t < 0.5 ? 4 * t * t * t : (t - 1) * (2 * t - 2) * (2 * t - 2) + 1,\n  easeInQuart: t => t * t * t * t,\n  easeOutQuart: t => 1 - --t * t * t * t,\n  easeInOutQuart: t => t < 0.5 ? 8 * t * t * t * t : 1 - 8 * --t * t * t * t,\n  easeInQuint: t => t * t * t * t * t,\n  easeOutQuint: t => 1 + --t * t * t * t * t,\n  easeInOutQuint: t => t < 0.5 ? 16 * t * t * t * t * t : 1 + 16 * --t * t * t * t * t\n};\n\nconst _util = {\n  easingFunctions,\n};\n\nexport {\n  _util,\n};\n","export * from './src/aabb-collidable';\r\nexport * from './src/capsule-collidable';\r\nexport * from './src/collidable';\r\nexport * from './src/line-segment';\r\nexport * from './src/obb-collidable';\r\nexport * from './src/sphere-collidable';\r\n","import {Collidable} from './collidable';\r\nimport {LineSegment} from './line-segment';\r\nimport {tmpVec1, tmpVec2} from '../../../util';\r\n\r\n/**\r\n * This class represents an axially-aligned bounding box (AABB).\r\n *\r\n * This is primarily useful for collision detection. An AABB is only appropriate for some\r\n * geometries. For other geometries, an oriented bounding box (OBB) or a bounding sphere may be more\r\n * appropriate.\r\n */\r\nclass Aabb extends Collidable {\r\n  /**\r\n   * @param {number} minX\r\n   * @param {number} minY\r\n   * @param {number} minZ\r\n   * @param {number} maxX\r\n   * @param {number} maxY\r\n   * @param {number} maxZ\r\n   * @param {boolean} [isStationary=false]\r\n   * @param {CollidablePhysicsJob} [physicsJob]\r\n   */\r\n  constructor(minX, minY, minZ, maxX, maxY, maxZ, isStationary = false, physicsJob) {\r\n    super(isStationary, physicsJob);\r\n    this.minX = minX;\r\n    this.minY = minY;\r\n    this.minZ = minZ;\r\n    this.maxX = maxX;\r\n    this.maxY = maxY;\r\n    this.maxZ = maxZ;\r\n  }\r\n\r\n  /**\r\n   * Creates a new bounding box with the dimensions of an axially-aligned cube centered around the \r\n   * given center and with the given half-side length.\r\n   *\r\n   * @param {vec3} center\r\n   * @param {number} halfSideLength\r\n   */\r\n  static createAsUniformAroundCenter(center, halfSideLength) {\r\n    const bounds = new Aabb(0, 0, 0, 0, 0, 0);\r\n    bounds.setAsUniformAroundCenter(center, halfSideLength);\r\n    return bounds;\r\n  }\r\n\r\n  /**\r\n   * Updates the dimensions of this bounding box to represent an axially-aligned cube centered\r\n   * around the given center and with the given half-side length.\r\n   *\r\n   * @param {vec3} center\r\n   * @param {number} halfSideLength\r\n   */\r\n  setAsUniformAroundCenter(center, halfSideLength) {\r\n    this.minX = center[0] - halfSideLength;\r\n    this.minY = center[1] - halfSideLength;\r\n    this.minZ = center[2] - halfSideLength;\r\n    this.maxX = center[0] + halfSideLength;\r\n    this.maxY = center[1] + halfSideLength;\r\n    this.maxZ = center[2] + halfSideLength;\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get rangeX() {\r\n    return this.maxX - this.minX;\r\n  }\r\n  /** @returns {number} */\r\n  get rangeY() {\r\n    return this.maxY - this.minY;\r\n  }\r\n  /** @returns {number} */\r\n  get rangeZ() {\r\n    return this.maxZ - this.minZ;\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get centerX() {\r\n    return this.minX + this.rangeX / 2;\r\n  }\r\n  /** @returns {number} */\r\n  get centerY() {\r\n    return this.minY + this.rangeY / 2;\r\n  }\r\n  /** @returns {number} */\r\n  get centerZ() {\r\n    return this.minZ + this.rangeZ / 2;\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get surfaceArea() {\r\n    const rangeX = this.rangeX;\r\n    const rangeY = this.rangeY;\r\n    const rangeZ = this.rangeZ;\r\n    return 2 * (rangeX * rangeY + rangeX * rangeZ + rangeY * rangeZ);\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @override\r\n   */\r\n  get centerOfVolume() {\r\n    // Reuse the same object when this is called multiple times.\r\n    this._centerOfVolume = this._centerOfVolume || vec3.create();\r\n    vec3.set(this._centerOfVolume, this.centerX, this.centerY, this.centerZ);\r\n    return this._centerOfVolume;\r\n  }\r\n\r\n  /**\r\n   * @returns {Collidable}\r\n   * @override\r\n   */\r\n  get boundingVolume() {\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} value\r\n   * @override\r\n   */\r\n  set position(value) {\r\n    const rangeX = this.rangeX;\r\n    const rangeY = this.rangeY;\r\n    const rangeZ = this.rangeZ;\r\n    this.minX = value[0] - rangeX / 2;\r\n    this.minY = value[1] - rangeY / 2;\r\n    this.minZ = value[2] - rangeZ / 2;\r\n    this.maxX = value[0] + rangeX / 2;\r\n    this.maxY = value[1] + rangeY / 2;\r\n    this.maxZ = value[2] + rangeZ / 2;\r\n  }\r\n\r\n  /**\r\n   * @param {quat} value\r\n   * @override\r\n   */\r\n  set orientation(value) {\r\n    // Do nothing.\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each vertex.\r\n   *\r\n   * Stops as soon as the callback returns true for a vertex.\r\n   *\r\n   * @param {VertexCallback} callback\r\n   * @param {vec3} [vertex] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  someVertex(callback, vertex) {\r\n    vertex = vertex || tmpVec1;\r\n\r\n    vec3.set(vertex, this.minX, this.minY, this.minZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.maxX, this.minY, this.minZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.minX, this.maxY, this.minZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.maxX, this.maxY, this.minZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.minX, this.minY, this.maxZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.maxX, this.minY, this.maxZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.minX, this.maxY, this.maxZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    vec3.set(vertex, this.maxX, this.maxY, this.maxZ);\r\n    if (callback(vertex)) return true;\r\n\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each edge.\r\n   *\r\n   * @param {EdgeCallback} callback\r\n   * @param {LineSegment} [edge] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  someEdge(callback, edge) {\r\n    edge = edge || _segment;\r\n\r\n    //\r\n    // Edges along front face.\r\n    //\r\n\r\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\r\n    vec3.set(tmpVec2, this.maxX, this.minY, this.minZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\r\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\r\n    vec3.set(tmpVec2, this.minX, this.maxY, this.minZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\r\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.minZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    //\r\n    // Edges along back face.\r\n    //\r\n\r\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\r\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.minX, this.maxY, this.maxZ);\r\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.minX, this.minY, this.maxZ);\r\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.maxX, this.minY, this.maxZ);\r\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    //\r\n    // Edges between front and back faces.\r\n    //\r\n\r\n    vec3.set(tmpVec1, this.minX, this.minY, this.minZ);\r\n    vec3.set(tmpVec2, this.minX, this.minY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.maxX, this.minY, this.minZ);\r\n    vec3.set(tmpVec2, this.maxX, this.minY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.minX, this.maxY, this.minZ);\r\n    vec3.set(tmpVec2, this.minX, this.maxY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    vec3.set(tmpVec1, this.maxX, this.maxY, this.minZ);\r\n    vec3.set(tmpVec2, this.maxX, this.maxY, this.maxZ);\r\n    edge.reset(tmpVec1, tmpVec2);\r\n    if (callback(edge)) return true;\r\n\r\n    return false;\r\n  }\r\n}\r\n\r\nconst _segment = new LineSegment(vec3.create(), vec3.create());\r\n\r\nexport {Aabb};\r\n","import {Collidable} from './collidable';\r\nimport {LineSegment} from './line-segment';\r\n\r\n/**\r\n * This class represents a capsule.\r\n *\r\n * - A capsule is a cylinder with semi-spheres on either end.\r\n * - A capsule can represent a rough approximation of many useful shapes.\r\n * - A capsule can be used for relatively efficient collision detection.\r\n */\r\nclass Capsule extends Collidable {\r\n  /**\r\n   * The default orientation of the capsule is along the z-axis.\r\n   *\r\n   * @param {number} halfDistance Half the distance from the centers of the capsule end spheres.\r\n   * @param {number} radius\r\n   * @param {boolean} [isStationary=false]\r\n   * @param {CollidablePhysicsJob} [physicsJob]\r\n   */\r\n  constructor(halfDistance, radius, isStationary = false, physicsJob) {\r\n    super(isStationary, physicsJob);\r\n    this.halfDistance = halfDistance;\r\n    this.segment = new LineSegment(vec3.fromValues(0, 0, -halfDistance),\r\n        vec3.fromValues(0, 0, halfDistance));\r\n    this.radius = radius;\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @override\r\n   */\r\n  get centerOfVolume() {\r\n    return this.segment.center;\r\n  }\r\n\r\n  /**\r\n   * @returns {Collidable}\r\n   * @override\r\n   */\r\n  get boundingVolume() {\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} value\r\n   * @override\r\n   */\r\n  set position(value) {\r\n    this.segment.center = value;\r\n  }\r\n\r\n  /**\r\n   * @param {quat} value\r\n   * @override\r\n   */\r\n  set orientation(value) {\r\n    this.segment.orientation = value;\r\n  }\r\n}\r\n\r\nexport {Capsule};\r\n","/**\r\n * This class represents a 3D collidable rigid object.\r\n *\r\n * This is useful for collision detection and response.\r\n *\r\n * @abstract\r\n */\r\nclass Collidable {\r\n  /**\r\n   * @param {boolean} isStationary\r\n   * @param {CollidablePhysicsJob} [physicsJob]\r\n   */\r\n  constructor(isStationary, physicsJob) {\r\n    // Collidable is an abstract class. It should not be instantiated directly.\r\n    if (new.target === Collidable) {\r\n      throw new TypeError('Cannot construct Collidable instances directly');\r\n    }\r\n\r\n    this.isStationary = isStationary;\r\n    this.physicsJob = physicsJob;\r\n    this.collisions = [];\r\n    this.previousCollisions = [];\r\n  }\r\n\r\n  /**\r\n   * Implementing classes can override this to provide a center of mass that is different than the\r\n   * center of volume.\r\n   *\r\n   * @returns {vec3}\r\n   */\r\n  get centerOfMass() {\r\n    return this.centerOfVolume;\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @abstract\r\n   */\r\n  get centerOfVolume() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @returns {Collidable}\r\n   * @abstract\r\n   */\r\n  get boundingVolume() {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} value\r\n   * @abstract\r\n   */\r\n  set position(value) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @param {quat} value\r\n   * @abstract\r\n   */\r\n  set orientation(value) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n}\r\n\r\nexport {Collidable};\r\n","import {tmpVec1, tmpVec2} from '../../../util';\r\n\r\n/**\r\n * This class represents a line segment.\r\n */\r\nclass LineSegment {\r\n  /**\r\n   * @param {vec3} start\r\n   * @param {vec3} end\r\n   */\r\n  constructor(start, end) {\r\n    this.start = vec3.create();\r\n    this.end = vec3.create();\r\n    this._center = vec3.create();\r\n    this._originalOrientationStart = vec3.create();\r\n    this._originalOrientationEnd = vec3.create();\r\n    this.reset(start, end);\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} start\r\n   * @param {vec3} end\r\n   */\r\n  reset(start, end) {\r\n    vec3.copy(this.start, start);\r\n    vec3.copy(this.end, end);\r\n    vec3.subtract(this._originalOrientationStart, this.start, this.center);\r\n    vec3.subtract(this._originalOrientationEnd, this.end, this.center);\r\n  }\r\n\r\n  /** @returns {LineSegment} */\r\n  clone() {\r\n    const segment = new LineSegment(this.start, this.end);\r\n    segment._originalOrientationStart = this._originalOrientationStart;\r\n    segment._originalOrientationEnd = this._originalOrientationEnd;\r\n    return segment;\r\n  }\r\n\r\n  /**\r\n   * The UN-NORMALIZED direction of this segment.\r\n   *\r\n   * @returns {vec3}\r\n   */\r\n  get dir() {\r\n    // Reuse the same object when this is called multiple times.\r\n    this._dir = this._dir || vec3.create();\r\n    return vec3.subtract(this._dir, this.end, this.start);\r\n  }\r\n\r\n  /** @returns {vec3} */\r\n  get center() {\r\n    vec3.lerp(this._center, this.start, this.end, 0.5);\r\n    return this._center;\r\n  }\r\n\r\n  /** @param {vec3} value */\r\n  set center(value) {\r\n    // Reuse the same object when this is called multiple times.\r\n    this._displacement = this._displacement || vec3.create();\r\n    vec3.subtract(this._displacement, value, this.center);\r\n\r\n    vec3.add(this.start, this.start, this._displacement);\r\n    vec3.add(this.end, this.end, this._displacement);\r\n  }\r\n\r\n  /** @param {quat} value */\r\n  set orientation(value) {\r\n    vec3.transformQuat(tmpVec1, this._originalOrientationStart, value);\r\n    vec3.transformQuat(tmpVec2, this._originalOrientationEnd, value);\r\n\r\n    // We don't want this to be re-calculated between start/end updates.\r\n    const center = this.center;\r\n\r\n    vec3.add(this.start, center, tmpVec1);\r\n    vec3.add(this.end, center, tmpVec2);\r\n  }\r\n}\r\n\r\nexport {LineSegment};\r\n","import {Collidable} from './collidable';\r\nimport {Sphere} from './sphere-collidable';\r\nimport {LineSegment} from './line-segment';\r\n\r\n/**\r\n * This class represents an oriented bounding box (OBB).\r\n *\r\n * This is useful both for collision detection and for representing any rotated rectangular cuboid.\r\n * An OBB is only appropriate for some geometries. For other geometries, an axially-aligned bounding\r\n * box (AABB) or a bounding sphere may be more appropriate.\r\n */\r\nclass Obb extends Collidable {\r\n  /**\r\n   * Defaults to being centered at the origin with its local axes aligned with the world axes.\r\n   *\r\n   * @param {number} halfSideLengthX\r\n   * @param {number} halfSideLengthY\r\n   * @param {number} halfSideLengthZ\r\n   * @param {boolean} [isStationary=false]\r\n   * @param {CollidablePhysicsJob} [physicsJob]\r\n   */\r\n  constructor(halfSideLengthX, halfSideLengthY, halfSideLengthZ, isStationary = false, physicsJob) {\r\n    super(isStationary, physicsJob);\r\n    this.extents = [\r\n      vec3.fromValues(halfSideLengthX, 0, 0),\r\n      vec3.fromValues(0, halfSideLengthY, 0),\r\n      vec3.fromValues(0, 0, halfSideLengthZ)\r\n    ];\r\n    this.axes = [\r\n      vec3.fromValues(1, 0, 0),\r\n      vec3.fromValues(0, 1, 0),\r\n      vec3.fromValues(0, 0, 1)\r\n    ];\r\n    this.halfSideLengths = [\r\n      halfSideLengthX,\r\n      halfSideLengthY,\r\n      halfSideLengthZ\r\n    ];\r\n    this._center = vec3.create();\r\n    this._orientation = quat.create();\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @override\r\n   */\r\n  get centerOfVolume() {\r\n    return this._center;\r\n  }\r\n\r\n  /**\r\n   * @returns {Collidable}\r\n   * @override\r\n   */\r\n  get boundingVolume() {\r\n    // Reuse the same value when this is called multiple times.\r\n    if (!this._boundingSphere) {\r\n      const radius = Math.sqrt(this.halfSideLengthX * this.halfSideLengthX +\r\n          this.halfSideLengthY * this.halfSideLengthY +\r\n          this.halfSideLengthZ * this.halfSideLengthZ);\r\n      this._boundingSphere = new Sphere(0, 0, 0, radius, this.isStationary);\r\n    }\r\n    this._boundingSphere.position = this._center;\r\n    return this._boundingSphere;\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} value\r\n   * @override\r\n   */\r\n  set position(value) {\r\n    vec3.copy(this._center, value);\r\n  }\r\n\r\n  /**\r\n   * @param {quat} value\r\n   * @override\r\n   */\r\n  set orientation(value) {\r\n    quat.copy(this._orientation, value);\r\n    this._updateExtents();\r\n  }\r\n  /** @returns {quat} */\r\n  get orientation() {\r\n    return this._orientation;\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get halfSideLengthX() {\r\n    return this.halfSideLengths[0];\r\n  }\r\n  /** @param {number} value */\r\n  set halfSideLengthX(value) {\r\n    this.halfSideLengths[0] = value;\r\n    this._updateExtents();\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get halfSideLengthY() {\r\n    return this.halfSideLengths[1];\r\n  }\r\n  /** @param {number} value */\r\n  set halfSideLengthY(value) {\r\n    this.halfSideLengths[1] = value;\r\n    this._updateExtents();\r\n  }\r\n\r\n  /** @returns {number} */\r\n  get halfSideLengthZ() {\r\n    return this.halfSideLengths[2];\r\n  }\r\n  /** @param {number} value */\r\n  set halfSideLengthZ(value) {\r\n    this.halfSideLengths[2] = value;\r\n    this._updateExtents();\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each vertex.\r\n   *\r\n   * Stops as soon as the callback returns true for a vertex.\r\n   *\r\n   * @param {VertexCallback} callback\r\n   * @param {vec3} [vertex] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  someVertex(callback, vertex) {\r\n    vertex = vertex || _vertex1;\r\n\r\n    for (let xScale = -1; xScale <= 1; xScale += 2) {\r\n      for (let yScale = -1; yScale <= 1; yScale += 2) {\r\n        for (let zScale = -1; zScale <= 1; zScale += 2) {\r\n          vec3.copy(vertex, this._center);\r\n          vec3.scaleAndAdd(vertex, vertex, this.extents[0], xScale);\r\n          vec3.scaleAndAdd(vertex, vertex, this.extents[1], yScale);\r\n          vec3.scaleAndAdd(vertex, vertex, this.extents[2], zScale);\r\n          if (callback(vertex)) {\r\n            return true;\r\n          }\r\n        }\r\n      }\r\n    }\r\n    return false;\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each edge.\r\n   *\r\n   * @param {EdgeCallback} callback\r\n   * @param {LineSegment} [edge] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  someEdge(callback, edge) {\r\n    edge = edge || _segment;\r\n\r\n    return _edgeExtentScales.some(edgeExtentScalePair => {\r\n      const vertex1ExtentScales = edgeExtentScalePair[0];\r\n      const vertex2ExtentScales = edgeExtentScalePair[1];\r\n\r\n      // Calculate the edge's first and second vertex.\r\n      vec3.copy(_vertex1, this._center);\r\n      vec3.copy(_vertex2, this._center);\r\n      for (let i = 0; i < 3; i++) {\r\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\r\n      }\r\n\r\n      // Call back with the edge.\r\n      edge.reset(_vertex1, _vertex2);\r\n      return callback(edge);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each face.\r\n   *\r\n   * @param {FaceCallback} callback\r\n   * @param {Array.<vec3>} [face] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  someFace(callback, face) {\r\n    face = face || [];\r\n\r\n    return _faceExtentScales.some(faceExtentScales => {\r\n      const vertex1ExtentScales = faceExtentScales[0];\r\n      const vertex2ExtentScales = faceExtentScales[1];\r\n      const vertex3ExtentScales = faceExtentScales[2];\r\n      const vertex4ExtentScales = faceExtentScales[3];\r\n\r\n      // Calculate the face's vertices.\r\n      vec3.copy(_vertex1, this._center);\r\n      vec3.copy(_vertex2, this._center);\r\n      vec3.copy(_vertex3, this._center);\r\n      vec3.copy(_vertex4, this._center);\r\n      for (let i = 0; i < 3; i++) {\r\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\r\n      }\r\n\r\n      // Call back with the face.\r\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\r\n      return callback(face);\r\n    });\r\n  }\r\n\r\n  /**\r\n   * Calls the given callback once for each face with a given additional offset from the center\r\n   * applied to each face.\r\n   *\r\n   * @param {FaceCallback} callback\r\n   * @param {number} radiusOffset\r\n   * @param {Array.<vec3>} [face] Output param.\r\n   * @returns {boolean} True if one of the callbacks returned true.\r\n   */\r\n  somePushedOutFace(callback, radiusOffset, face) {\r\n    face = face || [];\r\n\r\n    return _faceExtentScales.some((faceExtentScales, index) => {\r\n      const vertex1ExtentScales = faceExtentScales[0];\r\n      const vertex2ExtentScales = faceExtentScales[1];\r\n      const vertex3ExtentScales = faceExtentScales[2];\r\n      const vertex4ExtentScales = faceExtentScales[3];\r\n      const directionOffsets = _pushedOutFaceOffsetDirections[index];\r\n\r\n      // Calculate the face's vertices.\r\n      vec3.copy(_vertex1, this._center);\r\n      vec3.copy(_vertex2, this._center);\r\n      vec3.copy(_vertex3, this._center);\r\n      vec3.copy(_vertex4, this._center);\r\n      for (let i = 0; i < 3; i++) {\r\n        // Add the offset for the normal vertex position.\r\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i], vertex1ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i], vertex2ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i], vertex3ExtentScales[i]);\r\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i], vertex4ExtentScales[i]);\r\n        // Add the pushed-out offset.\r\n        vec3.scaleAndAdd(_vertex1, _vertex1, this.extents[i],\r\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\r\n        vec3.scaleAndAdd(_vertex2, _vertex2, this.extents[i],\r\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\r\n        vec3.scaleAndAdd(_vertex3, _vertex3, this.extents[i],\r\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\r\n        vec3.scaleAndAdd(_vertex4, _vertex4, this.extents[i],\r\n            radiusOffset / this.halfSideLengths[i] * directionOffsets[i]);\r\n      }\r\n\r\n      // Call back with the face.\r\n      face.splice(0, 4, _vertex1, _vertex2, _vertex3, _vertex4);\r\n      return callback(face);\r\n    });\r\n  }\r\n\r\n  _updateExtents() {\r\n    vec3.set(_vertex1, this.halfSideLengths[0], 0, 0);\r\n    vec3.transformQuat(this.extents[0], _vertex1, this._orientation);\r\n    vec3.set(_vertex1, 0, this.halfSideLengths[1], 0);\r\n    vec3.transformQuat(this.extents[1], _vertex1, this._orientation);\r\n    vec3.set(_vertex1, 0, 0, this.halfSideLengths[2]);\r\n    vec3.transformQuat(this.extents[2], _vertex1, this._orientation);\r\n\r\n    vec3.set(_vertex1, 1, 0, 0);\r\n    vec3.transformQuat(this.axes[0], _vertex1, this._orientation);\r\n    vec3.set(_vertex1, 0, 1, 0);\r\n    vec3.transformQuat(this.axes[1], _vertex1, this._orientation);\r\n    vec3.set(_vertex1, 0, 0, 1);\r\n    vec3.transformQuat(this.axes[2], _vertex1, this._orientation);\r\n  }\r\n}\r\n\r\nconst _vertex1 = vec3.create();\r\nconst _vertex2 = vec3.create();\r\nconst _vertex3 = vec3.create();\r\nconst _vertex4 = vec3.create();\r\nconst _segment = new LineSegment(vec3.create(), vec3.create());\r\n\r\nconst _edgeExtentScales = [\r\n  // Front-face edges.\r\n  [[1, -1, -1], [1, -1, 1]],\r\n  [[1, -1, -1], [1, 1, -1]],\r\n  [[1, 1, 1], [1, -1, 1]],\r\n  [[1, 1, 1], [1, 1, -1]],\r\n  // Back-face edges.\r\n  [[-1, -1, -1], [-1, -1, 1]],\r\n  [[-1, -1, -1], [-1, 1, -1]],\r\n  [[-1, 1, 1], [-1, -1, 1]],\r\n  [[-1, 1, 1], [-1, 1, -1]],\r\n  // Front-to-back edges.\r\n  [[1, -1, 1], [-1, -1, 1]],\r\n  [[1, 1, -1], [-1, 1, -1]],\r\n  [[1, 1, 1], [-1, 1, 1]],\r\n  [[1, -1, -1], [-1, -1, -1]],\r\n];\r\n\r\nconst _faceExtentScales = [\r\n  [[1, -1, -1], [1, -1, 1], [1, 1, 1], [1, 1, -1]],\r\n  [[-1, -1, -1], [-1, -1, 1], [-1, 1, 1], [-1, 1, -1]],\r\n  [[-1, 1, -1], [1, 1, -1], [1, 1, 1], [-1, 1, 1]],\r\n  [[-1, -1, -1], [1, -1, -1], [1, -1, 1], [-1, -1, 1]],\r\n  [[-1, -1, 1], [1, -1, 1], [1, 1, 1], [-1, 1, 1]],\r\n  [[-1, -1, -1], [1, -1, -1], [1, 1, -1], [-1, 1, -1]],\r\n];\r\n\r\nconst _pushedOutFaceOffsetDirections = [\r\n  vec3.fromValues(1, 0, 0),\r\n  vec3.fromValues(-1, 0, 0),\r\n  vec3.fromValues(0, 1, 0),\r\n  vec3.fromValues(0, -1, 0),\r\n  vec3.fromValues(0, 0, 1),\r\n  vec3.fromValues(0, 0, -1),\r\n];\r\n\r\nexport {Obb};\r\n\r\n/**\r\n * @callback VertexCallback\r\n * @param {vec3}\r\n * @returns {boolean} If true, iteration will stop.\r\n */\r\n\r\n/**\r\n * @callback EdgeCallback\r\n * @param {LineSegment}\r\n * @returns {boolean} If true, iteration will stop.\r\n */\r\n\r\n/**\r\n * @callback FaceCallback\r\n * @param {Array.<vec3>}\r\n * @returns {boolean} If true, iteration will stop.\r\n */\r\n","import {Collidable} from './collidable';\r\n\r\n/**\r\n * This class represents a bounding sphere.\r\n *\r\n * This is primarily useful for collision detection. A bounding sphere is only appropriate for some\r\n * geometries. For other geometries, an axially-aligned bounding box may be more appropriate. For\r\n * others still, an oriented bounding box or a more complicated hierarchical model may be more\r\n * appropriate.\r\n */\r\nclass Sphere extends Collidable {\r\n  /**\r\n   * @param {number} centerX\r\n   * @param {number} centerY\r\n   * @param {number} centerZ\r\n   * @param {number} radius\r\n   * @param {boolean} [isStationary=false]\r\n   * @param {CollidablePhysicsJob} [physicsJob]\r\n   */\r\n  constructor(centerX, centerY, centerZ, radius, isStationary = false, physicsJob) {\r\n    super(isStationary, physicsJob);\r\n    this.centerX = centerX;\r\n    this.centerY = centerY;\r\n    this.centerZ = centerZ;\r\n    this.radius = radius;\r\n  }\r\n\r\n  /**\r\n   * @returns {vec3}\r\n   * @override\r\n   */\r\n  get centerOfVolume() {\r\n    // Reuse the same object when this is called multiple times.\r\n    this._center = this._center || vec3.create();\r\n    vec3.set(this._center, this.centerX, this.centerY, this.centerZ);\r\n    return this._center;\r\n  }\r\n\r\n  /**\r\n   * @returns {Collidable}\r\n   * @override\r\n   */\r\n  get boundingVolume() {\r\n    return this;\r\n  }\r\n\r\n  /**\r\n   * @param {vec3} value\r\n   * @override\r\n   */\r\n  set position(value) {\r\n    this.centerX = value[0];\r\n    this.centerY = value[1];\r\n    this.centerZ = value[2];\r\n  }\r\n\r\n  /**\r\n   * @param {quat} value\r\n   * @override\r\n   */\r\n  set orientation(value) {\r\n    // Do nothing.\r\n  }\r\n}\r\n\r\nexport {Sphere};\r\n","import * as aabbCollisionDetection from './src/aabb-collision-detection';\r\nimport * as capsuleCollisionDetection from './src/capsule-collision-detection';\r\nimport * as obbCollisionDetection from './src/obb-collision-detection';\r\nimport * as sphereCollisionDetection from './src/sphere-collision-detection';\r\n\r\nexport {\r\n  aabbCollisionDetection,\r\n  capsuleCollisionDetection,\r\n  obbCollisionDetection,\r\n  sphereCollisionDetection,\r\n};\r\n","import * as sphereCollisionDetection from './sphere-collision-detection';\r\nimport * as obbCollisionDetection from './obb-collision-detection';\r\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\r\nimport {aabbVsPoint as geometryAabbVsPoint} from '../../../util';\r\n\r\n/**\r\n * This module defines utility methods for detecting whether intersection has occurred between\r\n * axially-aligned bounding boxes and other shapes.\r\n */\r\n\r\n/**\r\n * @param {Aabb} aabb\r\n * @param {vec3} point\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsPoint(aabb, point) {\r\n  return geometryAabbVsPoint(aabb, point);\r\n}\r\n\r\n/**\r\n * @param {Aabb} aabb\r\n * @param {Sphere} sphere\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsSphere(aabb, sphere) {\r\n  return sphereCollisionDetection.sphereVsAabb(sphere, aabb);\r\n}\r\n\r\n/**\r\n * @param {Aabb} aabbA\r\n * @param {Aabb} aabbB\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsAabb(aabbA, aabbB) {\r\n  return aabbA.maxX >= aabbB.minX && aabbA.minX <= aabbB.maxX &&\r\n      aabbA.maxY >= aabbB.minY && aabbA.minY <= aabbB.maxY &&\r\n      aabbA.maxZ >= aabbB.minZ && aabbA.minZ <= aabbB.maxZ;\r\n}\r\n\r\n/**\r\n * @param {Aabb} aabb\r\n * @param {Obb} obb\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsObb(aabb, obb) {\r\n  return obbCollisionDetection.obbVsAabb(obb, aabb);\r\n}\r\n\r\n/**\r\n * @param {Aabb} aabb\r\n * @param {Capsule} capsule\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsCapsule(aabb, capsule) {\r\n  return capsuleCollisionDetection.capsuleVsAabb(capsule, aabb);\r\n}\r\n\r\nexport {\r\n  aabbVsPoint,\r\n  aabbVsSphere,\r\n  aabbVsAabb,\r\n  aabbVsObb,\r\n  aabbVsCapsule,\r\n};\r\n","/**\r\n * This module defines utility methods for detecting whether intersection has occurred between\r\n * capsules and other shapes.\r\n */\r\n\r\nimport {\r\n  findClosestPointFromAabbToPoint,\r\n  findSquaredDistanceBetweenSegments,\r\n  findSquaredDistanceFromSegmentToPoint,\r\n  tmpVec1\r\n} from '../../../util';\r\nimport * as obbCollisionDetection from './obb-collision-detection';\r\n\r\n/**\r\n * @param {Capsule} capsule\r\n * @param {vec3} point\r\n * @returns {boolean}\r\n */\r\nfunction capsuleVsPoint(capsule, point) {\r\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, point) <=\r\n      capsule.radius * capsule.radius;\r\n}\r\n\r\n/**\r\n * @param {Capsule} capsule\r\n * @param {Sphere} sphere\r\n * @returns {boolean}\r\n */\r\nfunction capsuleVsSphere(capsule, sphere) {\r\n  const sumOfRadii = capsule.radius + sphere.radius;\r\n  return findSquaredDistanceFromSegmentToPoint(capsule.segment, sphere.centerOfVolume) <=\r\n      sumOfRadii * sumOfRadii;\r\n}\r\n\r\n/**\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {Capsule} capsule\r\n * @param {Aabb} aabb\r\n * @returns {boolean}\r\n */\r\nfunction capsuleVsAabb(capsule, aabb) {\r\n  const squaredRadius = capsule.radius * capsule.radius;\r\n\r\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\r\n  // capsule-vs-AABB-face case).\r\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.start);\r\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.start) <= squaredRadius) {\r\n    return true;\r\n  }\r\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, capsule.segment.end);\r\n  if (vec3.squaredDistance(tmpVec1, capsule.segment.end) <= squaredRadius) {\r\n    return true;\r\n  }\r\n\r\n  // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\r\n  // case).\r\n  return aabb.someEdge(edge =>\r\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) <= squaredRadius);\r\n\r\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\r\n}\r\n\r\n/**\r\n * @param {Capsule} capsule\r\n * @param {Obb} obb\r\n * @returns {boolean}\r\n */\r\nfunction capsuleVsObb(capsule, obb) {\r\n  return obbCollisionDetection.obbVsCapsule(obb, capsule);\r\n}\r\n\r\n/**\r\n * @param {Capsule} capsuleA\r\n * @param {Capsule} capsuleB\r\n * @returns {boolean}\r\n */\r\nfunction capsuleVsCapsule(capsuleA, capsuleB) {\r\n  const sumOfRadii = capsuleA.radius + capsuleB.radius;\r\n  return findSquaredDistanceBetweenSegments(capsuleA.segment, capsuleB.segment) <=\r\n      sumOfRadii * sumOfRadii;\r\n}\r\n\r\nexport {\r\n  capsuleVsPoint,\r\n  capsuleVsSphere,\r\n  capsuleVsAabb,\r\n  capsuleVsObb,\r\n  capsuleVsCapsule,\r\n};\r\n","/**\r\n * This module defines utility methods for detecting whether intersection has occurred between\r\n * oriented bounding boxes and other shapes.\r\n */\r\n\r\nimport {\r\n  findClosestPointFromObbToPoint,\r\n  findPoiBetweenSegmentAndPlaneRegion,\r\n  findSquaredDistanceBetweenSegments,\r\n  tmpVec1,\r\n  tmpVec2,\r\n  tmpVec3,\r\n  tmpVec4\r\n} from '../../../util';\r\nimport * as aabbCollisionDetection from './aabb-collision-detection';\r\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\r\n\r\n// TODO: Refactor these to not actually calculate the point of intersection. These checks can\r\n// instead be done more efficiently using SAT.\r\n\r\n/**\r\n * @param {Obb} obb\r\n * @param {vec3} point\r\n * @returns {boolean}\r\n */\r\nfunction obbVsPoint(obb, point) {\r\n  vec3.subtract(tmpVec4, point, obb.centerOfVolume);\r\n\r\n  vec3.set(tmpVec1, 1, 0, 0);\r\n  vec3.transformQuat(tmpVec1, tmpVec1, obb.orientation);\r\n  const axis1Distance = vec3.dot(tmpVec4, tmpVec1);\r\n\r\n  if (axis1Distance >= -obb.halfSideLengthX && axis1Distance <= obb.halfSideLengthX) {\r\n    vec3.set(tmpVec2, 0, 1, 0);\r\n    vec3.transformQuat(tmpVec2, tmpVec2, obb.orientation);\r\n    const axis2Distance = vec3.dot(tmpVec4, tmpVec2);\r\n\r\n    if (axis2Distance >= -obb.halfSideLengthY && axis2Distance <= obb.halfSideLengthY) {\r\n      vec3.set(tmpVec3, 0, 0, 1);\r\n      vec3.transformQuat(tmpVec3, tmpVec3, obb.orientation);\r\n      const axis3Distance = vec3.dot(tmpVec4, tmpVec3);\r\n\r\n      return axis3Distance >= -obb.halfSideLengthZ && axis3Distance <= obb.halfSideLengthZ;\r\n    }\r\n  }\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @param {Obb} obb\r\n * @param {Sphere} sphere\r\n * @returns {boolean}\r\n */\r\nfunction obbVsSphere(obb, sphere) {\r\n  findClosestPointFromObbToPoint(tmpVec1, obb, sphere.centerOfVolume);\r\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <=\r\n      sphere.radius * sphere.radius;\r\n}\r\n\r\n/**\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {Obb} obb\r\n * @param {Aabb} aabb\r\n * @returns {boolean}\r\n */\r\nfunction obbVsAabb(obb, aabb) {\r\n  return _obbVsBoxHelper(obb, aabb, aabbCollisionDetection.aabbVsPoint);\r\n}\r\n\r\n/**\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {Obb} obbA\r\n * @param {Obb} obbB\r\n * @returns {boolean}\r\n */\r\nfunction obbVsObb(obbA, obbB) {\r\n  return _obbVsBoxHelper(obbA, obbB, obbVsPoint);\r\n}\r\n\r\n/**\r\n * @param {Obb} obb\r\n * @param {Obb|Aabb} other\r\n * @param {Function} otherVsPointCallback\r\n * @returns {boolean}\r\n * @private\r\n */\r\nfunction _obbVsBoxHelper(obb, other, otherVsPointCallback) {\r\n  // Check whether any vertices from A lie within B's bounds.\r\n  if (obb.someVertex(vertex => otherVsPointCallback(other, vertex))) return true;\r\n\r\n  // Check whether any vertices from B lie within A's bounds.\r\n  if (other.someVertex(vertex => obbVsPoint(obb, vertex))) return true;\r\n\r\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\r\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\r\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\r\n  if (other.someEdge(edge =>\r\n          obb.someFace(face =>\r\n              findPoiBetweenSegmentAndPlaneRegion(tmpVec1, edge, ...face))))\r\n    return true;\r\n\r\n  return false;\r\n}\r\n\r\n/**\r\n * @param {Obb} obb\r\n * @param {Capsule} capsule\r\n * @returns {boolean}\r\n */\r\nfunction obbVsCapsule(obb, capsule) {\r\n  // Check the edges.\r\n  const squaredRadius = capsule.radius * capsule.radius;\r\n  let areIntersecting = obb.someEdge(edge =>\r\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius);\r\n\r\n  if (areIntersecting) return true;\r\n\r\n  // Check the faces.\r\n  areIntersecting = obb.somePushedOutFace(face =>\r\n          findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\r\n\r\n  // Check for inclusion of one shape inside the other.\r\n  areIntersecting = areIntersecting || obbVsPoint(obb, capsule.centerOfVolume);\r\n  areIntersecting = areIntersecting || capsuleCollisionDetection.capsuleVsPoint(capsule,\r\n      obb.centerOfVolume);\r\n\r\n  return areIntersecting;\r\n}\r\n\r\nexport {\r\n  obbVsPoint,\r\n  obbVsSphere,\r\n  obbVsAabb,\r\n  obbVsObb,\r\n  obbVsCapsule,\r\n};\r\n","import {findClosestPointFromAabbToPoint, tmpVec1} from '../../../util';\r\nimport * as obbCollisionDetection from './obb-collision-detection';\r\nimport * as capsuleCollisionDetection from './capsule-collision-detection';\r\n\r\n/**\r\n * This module defines utility methods for detecting whether intersection has occurred between\r\n * spheres and other shapes.\r\n */\r\n\r\n/**\r\n * @param {Sphere} sphere\r\n * @param {vec3} point\r\n * @returns {boolean}\r\n */\r\nfunction sphereVsPoint(sphere, point) {\r\n  return vec3.squaredDistance(point, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\r\n}\r\n\r\n/**\r\n * @param {Sphere} sphereA\r\n * @param {Sphere} sphereB\r\n * @returns {boolean}\r\n */\r\nfunction sphereVsSphere(sphereA, sphereB) {\r\n  const sumOfRadii = sphereA.radius + sphereB.radius;\r\n  return vec3.squaredDistance(sphereA.centerOfVolume, sphereB.centerOfVolume) <=\r\n      sumOfRadii * sumOfRadii;\r\n}\r\n\r\n/**\r\n * @param {Sphere} sphere\r\n * @param {Aabb} aabb\r\n * @returns {boolean}\r\n */\r\nfunction sphereVsAabb(sphere, aabb) {\r\n  findClosestPointFromAabbToPoint(tmpVec1, aabb, sphere.centerOfVolume);\r\n  return vec3.squaredDistance(tmpVec1, sphere.centerOfVolume) <= sphere.radius * sphere.radius;\r\n}\r\n\r\n/**\r\n * @param {Sphere} sphere\r\n * @param {Obb} obb\r\n * @returns {boolean}\r\n */\r\nfunction sphereVsObb(sphere, obb) {\r\n  return obbCollisionDetection.obbVsSphere(obb, sphere);\r\n}\r\n\r\n/**\r\n * @param {Sphere} sphere\r\n * @param {Capsule} capsule\r\n * @returns {boolean}\r\n */\r\nfunction sphereVsCapsule(sphere, capsule) {\r\n  return capsuleCollisionDetection.capsuleVsSphere(capsule, sphere);\r\n}\r\n\r\nexport {\r\n  sphereVsPoint,\r\n  sphereVsSphere,\r\n  sphereVsAabb,\r\n  sphereVsObb,\r\n  sphereVsCapsule,\r\n};\r\n","import * as aabbContactCalculation from './src/aabb-contact-calculation';\r\nimport * as capsuleContactCalculation from './src/capsule-contact-calculation';\r\nimport * as obbContactCalculation from './src/obb-contact-calculation';\r\nimport * as sphereContactCalculation from './src/sphere-contact-calculation';\r\n\r\nexport {\r\n  aabbContactCalculation,\r\n  capsuleContactCalculation,\r\n  obbContactCalculation,\r\n  sphereContactCalculation,\r\n};\r\n","/**\r\n * This module defines utility methods for calculating a contact point between axially-aligned \r\n * bounding boxes and other shapes.\r\n *\r\n * - Each of these functions assumes that the objects are actually colliding.\r\n * - The resulting contact point may be anywhere within the intersection of the two objects.\r\n */\r\n\r\nimport * as sphereContactCalculation from './sphere-contact-calculation';\r\nimport * as obbContactCalculation from './obb-contact-calculation';\r\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\r\nimport {tmpVec1} from '../../../util';\r\nimport {aabbCollisionDetection} from '../../collision-detection';\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Aabb} aabb\r\n * @param {vec3} point\r\n */\r\nfunction aabbVsPoint(contactPoint, contactNormal, aabb, point) {\r\n  vec3.copy(contactPoint, point);\r\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Aabb} aabb\r\n * @param {Sphere} sphere\r\n */\r\nfunction aabbVsSphere(contactPoint, contactNormal, aabb, sphere) {\r\n  sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, sphere, aabb);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Aabb} aabbA\r\n * @param {Aabb} aabbB\r\n */\r\nfunction aabbVsAabb(contactPoint, contactNormal, aabbA, aabbB) {\r\n  // Compute the contact normal.\r\n  vec3.set(contactNormal, 0, 0, 0);\r\n  const xIntersectionDepth = Math.min(aabbA.maxX - aabbB.minX, aabbB.maxX - aabbA.minX);\r\n  const yIntersectionDepth = Math.min(aabbA.maxY - aabbB.minY, aabbB.maxY - aabbA.minY);\r\n  const zIntersectionDepth = Math.min(aabbA.maxZ - aabbB.minZ, aabbB.maxZ - aabbA.minZ);\r\n  // Assume that the direction of intersection corresponds to whichever axis has the shallowest\r\n  // intersection.\r\n  if (xIntersectionDepth <= yIntersectionDepth) {\r\n    if (xIntersectionDepth <= zIntersectionDepth) {\r\n      contactNormal[0] = aabbA.maxX - aabbB.minX <= aabbB.maxX - aabbA.minX ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\r\n    }\r\n  } else {\r\n    if (yIntersectionDepth <= zIntersectionDepth) {\r\n      contactNormal[1] = aabbA.maxY - aabbB.minY <= aabbB.maxY - aabbA.minY ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = aabbA.maxZ - aabbB.minZ <= aabbB.maxZ - aabbA.minZ ? 1 : -1;\r\n    }\r\n  }\r\n\r\n  // TODO: The two AABBs form a square intersection cross-section region along the direction of the\r\n  // normal. Calculate the center of that square to use as the point of contact.\r\n  if (!aabbA.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbB, vertex),\r\n          contactPoint)) {\r\n    aabbB.someVertex(vertex => aabbCollisionDetection.aabbVsPoint(aabbA, vertex), contactPoint);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Aabb} aabb\r\n * @param {Obb} obb\r\n */\r\nfunction aabbVsObb(contactPoint, contactNormal, aabb, obb) {\r\n  obbContactCalculation.obbVsAabb(contactPoint, contactNormal, obb, aabb);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Aabb} aabb\r\n * @param {Capsule} capsule\r\n */\r\nfunction aabbVsCapsule(contactPoint, contactNormal, aabb, capsule) {\r\n  capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, capsule, aabb);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactNormal Output param.\r\n * @param {vec3} contactPoint\r\n * @param {Aabb} aabb\r\n * @private\r\n */\r\nfunction findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb) {\r\n  vec3.set(contactNormal, 0, 0, 0);\r\n  vec3.subtract(tmpVec1, contactPoint, aabb.centerOfVolume);\r\n  const xDistanceFromFace = aabb.rangeX / 2 - Math.abs(tmpVec1[0]);\r\n  const yDistanceFromFace = aabb.rangeY / 2 - Math.abs(tmpVec1[1]);\r\n  const zDistanceFromFace = aabb.rangeZ / 2 - Math.abs(tmpVec1[2]);\r\n  // Assume that the point is contacting whichever face it's closest to.\r\n  if (xDistanceFromFace <= yDistanceFromFace) {\r\n    if (xDistanceFromFace <= zDistanceFromFace) {\r\n      contactNormal[0] = tmpVec1[0] > 0 ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\r\n    }\r\n  } else {\r\n    if (yDistanceFromFace <= zDistanceFromFace) {\r\n      contactNormal[1] = tmpVec1[1] > 0 ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = tmpVec1[2] > 0 ? 1 : -1;\r\n    }\r\n  }\r\n}\r\n\r\nexport {\r\n  aabbVsPoint,\r\n  aabbVsSphere,\r\n  aabbVsAabb,\r\n  aabbVsObb,\r\n  aabbVsCapsule,\r\n  findAabbNormalFromContactPoint,\r\n};\r\n","/**\r\n * This module defines utility methods for calculating a contact point between capsules and other \r\n * shapes.\r\n *\r\n * - Each of these functions assumes that the objects are actually colliding.\r\n * - The resulting contact point may be anywhere within the intersection of the two objects.\r\n */\r\n\r\nimport {\r\n  findClosestPointFromAabbToPoint,\r\n  findClosestPointOnSegmentToPoint,\r\n  findClosestPointsFromSegmentToSegment,\r\n  tmpVec1,\r\n  tmpVec2\r\n} from '../../../util';\r\nimport * as obbContactCalculation from './obb-contact-calculation';\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Capsule} capsule\r\n * @param {vec3} point\r\n */\r\nfunction capsuleVsPoint(contactPoint, contactNormal, capsule, point) {\r\n  vec3.copy(contactPoint, point);\r\n  findClosestPointOnSegmentToPoint(contactNormal, capsule.segment, point);\r\n  vec3.subtract(contactNormal, contactPoint, contactNormal);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * Finds the closest point on the surface of the capsule to the sphere center.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Capsule} capsule\r\n * @param {Sphere} sphere\r\n */\r\nfunction capsuleVsSphere(contactPoint, contactNormal, capsule, sphere) {\r\n  const sphereCenter = sphere.centerOfVolume;\r\n  findClosestPointOnSegmentToPoint(contactPoint, capsule.segment, sphereCenter);\r\n  vec3.subtract(contactNormal, sphereCenter, contactPoint);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n  vec3.scaleAndAdd(contactPoint, contactPoint, contactNormal, capsule.radius);\r\n}\r\n\r\n/**\r\n * Finds the closest point on the surface of the capsule to the AABB.\r\n *\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Capsule} capsule\r\n * @param {Aabb} aabb\r\n */\r\nfunction capsuleVsAabb(contactPoint, contactNormal, capsule, aabb) {\r\n  // tmpVec1 represents the closest point on the capsule to the AABB. tmpVec2\r\n  // represents the closest point on the AABB to the capsule.\r\n\r\n  //\r\n  // Check whether the two capsule ends intersect the AABB (sphere vs AABB) (addresses the\r\n  // capsule-vs-AABB-face case).\r\n  //\r\n\r\n  const squaredRadius = capsule.radius * capsule.radius;\r\n  let doesAabbIntersectAnEndPoint = false;\r\n\r\n  let endPoint = capsule.segment.start;\r\n  findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\r\n  if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\r\n    doesAabbIntersectAnEndPoint = true;\r\n  } else {\r\n    endPoint = capsule.segment.end;\r\n    findClosestPointFromAabbToPoint(tmpVec2, aabb, endPoint);\r\n    if (vec3.squaredDistance(tmpVec2, endPoint) <= squaredRadius) {\r\n      doesAabbIntersectAnEndPoint = true;\r\n    }\r\n  }\r\n\r\n  if (!doesAabbIntersectAnEndPoint) {\r\n    //\r\n    // Check whether the capsule intersects with any AABB edge (addresses the capsule-vs-AABB-edge\r\n    // case).\r\n    //\r\n    aabb.someEdge(edge => {\r\n      findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\r\n          capsule.segment, edge);\r\n      const distance = vec3.squaredDistance(tmpVec1, tmpVec2);\r\n      return distance <= squaredRadius;\r\n    });\r\n  }\r\n\r\n  // (The capsule-vs-AABB-vertex case is covered by the capsule-vs-AABB-edge case).\r\n\r\n  findClosestPointOnSegmentToPoint(tmpVec1, capsule.segment, tmpVec2);\r\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsule.radius);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Capsule} capsule\r\n * @param {Obb} obb\r\n */\r\nfunction capsuleVsObb(contactPoint, contactNormal, capsule, obb) {\r\n  obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, obb, capsule);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * Finds the closest point on the surface of capsule A to capsule B.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Capsule} capsuleA\r\n * @param {Capsule} capsuleB\r\n */\r\nfunction capsuleVsCapsule(contactPoint, contactNormal, capsuleA, capsuleB) {\r\n  findClosestPointsFromSegmentToSegment(tmpVec1, tmpVec2,\r\n      capsuleA.segment, capsuleB.segment);\r\n  vec3.subtract(contactNormal, tmpVec2, tmpVec1);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, capsuleA.radius);\r\n}\r\n\r\nexport {\r\n  capsuleVsPoint,\r\n  capsuleVsSphere,\r\n  capsuleVsAabb,\r\n  capsuleVsObb,\r\n  capsuleVsCapsule,\r\n};\r\n","/**\r\n * This module defines utility methods for calculating a contact point between oriented bounding\r\n * boxes and other shapes.\r\n *\r\n * - Each of these functions assumes that the objects are actually colliding.\r\n * - The resulting contact point may be anywhere within the intersection of the two objects.\r\n */\r\n\r\nimport {\r\n  findPoiBetweenSegmentAndPlaneRegion,\r\n  findClosestPointFromObbToPoint,\r\n  findSquaredDistanceBetweenSegments,\r\n  findClosestPointsFromSegmentToSegment,\r\n  tmpVec1\r\n} from '../../../util';\r\nimport {aabbCollisionDetection, obbCollisionDetection} from '../../collision-detection';\r\nimport {LineSegment} from '../../collidables';\r\nimport * as aabbContactCalculation from './aabb-contact-calculation';\r\n\r\n// TODO: There are more efficient (but far more complicated) algorithms for finding the point of\r\n// intersection with OBBs. Port over some other pre-existing solutions for these.\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obb\r\n * @param {vec3} point\r\n */\r\nfunction obbVsPoint(contactPoint, contactNormal, obb, point) {\r\n  vec3.copy(contactPoint, point);\r\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\r\n}\r\n\r\n/**\r\n * Finds the closest point anywhere inside the OBB to the center of the sphere.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obb\r\n * @param {Sphere} sphere\r\n */\r\nfunction obbVsSphere(contactPoint, contactNormal, obb, sphere) {\r\n  findClosestPointFromObbToPoint(contactPoint, obb, sphere.centerOfVolume);\r\n  vec3.subtract(contactNormal, sphere.centerOfVolume, contactPoint);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obb\r\n * @param {Aabb} aabb\r\n */\r\nfunction obbVsAabb(contactPoint, contactNormal, obb, aabb) {\r\n  return _obbVsBoxHelper(contactPoint, contactNormal, obb, aabb, aabbCollisionDetection.aabbVsPoint,\r\n      aabbContactCalculation.findAabbNormalFromContactPoint);\r\n}\r\n\r\n/**\r\n * NOTE: This implementation cheats by checking whether vertices from one shape lie within the\r\n * other. Due to the tunnelling problem, it is possible that intersection occurs without any\r\n * vertices lying within the other shape. However, (A) this is unlikely, and (B) we are ignoring the\r\n * tunnelling problem for the rest of this collision system anyway.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obbA\r\n * @param {Obb} obbB\r\n */\r\nfunction obbVsObb(contactPoint, contactNormal, obbA, obbB) {\r\n  return _obbVsBoxHelper(contactPoint, contactNormal, obbA, obbB, obbCollisionDetection.obbVsPoint,\r\n      findObbNormalFromContactPoint);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obb\r\n * @param {Obb|Aabb} other\r\n * @param {Function} otherVsPointCollisionDetectionCallback\r\n * @param {Function} findOtherNormalFromContactPoint\r\n * @private\r\n */\r\nfunction _obbVsBoxHelper(contactPoint, contactNormal, obb, other,\r\n                         otherVsPointCollisionDetectionCallback,\r\n                         findOtherNormalFromContactPoint) {\r\n  // Check whether any vertices from A lie within B's bounds.\r\n  if (obb.someVertex(vertex => otherVsPointCollisionDetectionCallback(other, vertex),\r\n          contactPoint)) {\r\n    findOtherNormalFromContactPoint(contactNormal, contactPoint, other);\r\n    vec3.negate(contactNormal, contactNormal);\r\n    return;\r\n  }\r\n\r\n  // Check whether any vertices from B lie within A's bounds.\r\n  if (other.someVertex(vertex => obbCollisionDetection.obbVsPoint(obb, vertex), contactPoint)) {\r\n    findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\r\n    return;\r\n  }\r\n\r\n  // We assume that a vertex-to-face collision would have been detected by one of the two above\r\n  // checks. Any edge-to-edge collision must involve both an edge from A through a face of B and\r\n  // vice versa. So it is sufficient to only check the edges of one and the faces of the other.\r\n  other.someEdge(edge =>\r\n      obb.someFace(face => findPoiBetweenSegmentAndPlaneRegion(contactPoint, edge, ...face)));\r\n  findObbNormalFromContactPoint(contactNormal, contactPoint, obb);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Obb} obb\r\n * @param {Capsule} capsule\r\n */\r\nfunction obbVsCapsule(contactPoint, contactNormal, obb, capsule) {\r\n  // tmpVec1 is the point on the capsule segment that is closest to the OBB.\r\n\r\n  //\r\n  // Check the edges.\r\n  //\r\n\r\n  const segment = new LineSegment(vec3.create(), vec3.create());\r\n  const squaredRadius = capsule.radius * capsule.radius;\r\n  const areIntersecting = obb.someEdge(edge =>\r\n      findSquaredDistanceBetweenSegments(capsule.segment, edge) < squaredRadius, segment);\r\n\r\n  if (areIntersecting) {\r\n    findClosestPointsFromSegmentToSegment(tmpVec1, contactPoint, capsule.segment, segment);\r\n    vec3.subtract(contactNormal, tmpVec1, contactPoint);\r\n    vec3.normalize(contactNormal, contactNormal);\r\n    return;\r\n  }\r\n\r\n  //\r\n  // Check the faces.\r\n  //\r\n\r\n  obb.somePushedOutFace(face =>\r\n      findPoiBetweenSegmentAndPlaneRegion(tmpVec1, capsule.segment, ...face), capsule.radius);\r\n\r\n  findObbNormalFromContactPoint(contactNormal, tmpVec1, obb);\r\n\r\n  // NOTE: This assumes that the angle between the capsule segment and the face plane is not oblique\r\n  // and that the depth of penetration is shallow. When both of these conditions are not true, the\r\n  // contact point will be offset from the intersection point on the pushed-out face.\r\n  vec3.scaleAndAdd(contactPoint, tmpVec1, contactNormal, -capsule.radius);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactNormal Output param.\r\n * @param {vec3} contactPoint\r\n * @param {Obb} obb\r\n * @private\r\n */\r\nfunction findObbNormalFromContactPoint(contactNormal, contactPoint, obb) {\r\n  // Calculate the displacement along each axis.\r\n  const projections = [];\r\n  vec3.subtract(tmpVec1, contactPoint, obb.centerOfVolume);\r\n  for (let i = 0; i < 3; i++) {\r\n    projections[i] = vec3.dot(obb.axes[i], tmpVec1);\r\n  }\r\n\r\n  // Determine which face the normal is pointing away from.\r\n  vec3.set(contactNormal, 0, 0, 0);\r\n  const xDistanceFromFace = obb.halfSideLengths[0] - Math.abs(projections[0]);\r\n  const yDistanceFromFace = obb.halfSideLengths[1] - Math.abs(projections[1]);\r\n  const zDistanceFromFace = obb.halfSideLengths[2] - Math.abs(projections[2]);\r\n  // Assume that the point is contacting whichever face it's closest to.\r\n  if (xDistanceFromFace <= yDistanceFromFace) {\r\n    if (xDistanceFromFace <= zDistanceFromFace) {\r\n      contactNormal[0] = projections[0] > 0 ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\r\n    }\r\n  } else {\r\n    if (yDistanceFromFace <= zDistanceFromFace) {\r\n      contactNormal[1] = projections[1] > 0 ? 1 : -1;\r\n    } else {\r\n      contactNormal[2] = projections[2] > 0 ? 1 : -1;\r\n    }\r\n  }\r\n\r\n  // Apply the OBB's orientation to the normal.\r\n  vec3.transformQuat(contactNormal, contactNormal, obb.orientation);\r\n}\r\n\r\nexport {\r\n  obbVsPoint,\r\n  obbVsSphere,\r\n  obbVsAabb,\r\n  obbVsObb,\r\n  obbVsCapsule,\r\n  findObbNormalFromContactPoint,\r\n};\r\n","/**\r\n * This module defines utility methods for calculating a contact point between spheres and other\r\n * shapes.\r\n *\r\n * - Each of these functions assumes that the objects are actually colliding.\r\n * - The resulting contact point may be anywhere within the intersection of the two objects.\r\n */\r\n\r\nimport {findClosestPointFromAabbSurfaceToPoint} from '../../../util';\r\nimport {findAabbNormalFromContactPoint} from './aabb-contact-calculation';\r\nimport * as obbContactCalculation from './obb-contact-calculation';\r\nimport * as capsuleContactCalculation from './capsule-contact-calculation';\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Sphere} sphere\r\n * @param {vec3} point\r\n */\r\nfunction sphereVsPoint(contactPoint, contactNormal, sphere, point) {\r\n  vec3.copy(contactPoint, point);\r\n  // Assume that the point is contacting the closest point on the surface of the sphere.\r\n  vec3.subtract(contactNormal, point, sphere.centerOfVolume);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Sphere} sphereA\r\n * @param {Sphere} sphereB\r\n */\r\nfunction sphereVsSphere(contactPoint, contactNormal, sphereA, sphereB) {\r\n  vec3.subtract(contactNormal, sphereB.centerOfVolume, sphereA.centerOfVolume);\r\n  vec3.normalize(contactNormal, contactNormal);\r\n  // The point on the surface of sphere A that is closest to the center of sphere B.\r\n  vec3.scaleAndAdd(contactPoint, sphereA.centerOfVolume, contactNormal, sphereA.radius);\r\n}\r\n\r\n/**\r\n * Finds the closest point on the surface of the AABB to the sphere center.\r\n *\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Sphere} sphere\r\n * @param {Aabb} aabb\r\n */\r\nfunction sphereVsAabb(contactPoint, contactNormal, sphere, aabb) {\r\n  findClosestPointFromAabbSurfaceToPoint(contactPoint, aabb, sphere.centerOfVolume);\r\n  findAabbNormalFromContactPoint(contactNormal, contactPoint, aabb);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Sphere} sphere\r\n * @param {Obb} obb\r\n */\r\nfunction sphereVsObb(contactPoint, contactNormal, sphere, obb) {\r\n  obbContactCalculation.obbVsSphere(contactPoint, contactNormal, obb, sphere);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\n/**\r\n * @param {vec3} contactPoint Output param.\r\n * @param {vec3} contactNormal Output param.\r\n * @param {Sphere} sphere\r\n * @param {Capsule} capsule\r\n */\r\nfunction sphereVsCapsule(contactPoint, contactNormal, sphere, capsule) {\r\n  capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, capsule, sphere);\r\n  vec3.negate(contactNormal, contactNormal);\r\n}\r\n\r\nexport {\r\n  sphereVsPoint,\r\n  sphereVsSphere,\r\n  sphereVsAabb,\r\n  sphereVsObb,\r\n  sphereVsCapsule,\r\n};\r\n","export * from './collidables';\r\nexport * from './collision-detection';\r\nexport * from './contact-calculation';\r\n\r\nexport * from './src/collidable-factories';\r\nexport * from './src/collidable-physics-job';\r\nexport * from './src/collidable-store';\r\nexport * from './src/collision-handler';\r\nexport * from './src/collision-utils';\r\n","/**\r\n * This module defines a set of factory functions for creating Collidable instances.\r\n */\r\n\r\nimport {\r\n  Capsule,\r\n  Obb,\r\n  Sphere\r\n} from '../collidables';\r\nimport {_geometry} from '../../util';\r\n\r\n/**\r\n * @param {CollidableShapeConfig} params\r\n * @param {CollidablePhysicsJob} [physicsJob]\r\n * @returns {Collidable}\r\n */\r\nfunction createCollidableFromRenderableShape(params, physicsJob) {\r\n  return _collidableCreators[params.collidableShapeId](params, physicsJob);\r\n}\r\n\r\n/**\r\n * This assumes the base RenderableShape has a side length of one unit.\r\n *\r\n * @param {CollidableShapeConfig} params\r\n * @param {CollidablePhysicsJob} [physicsJob]\r\n * @returns {Collidable}\r\n */\r\nfunction createObbFromRenderableShape(params, physicsJob) {\r\n  const halfRangeX = params.scale[0] / 2;\r\n  const halfRangeY = params.scale[1] / 2;\r\n  const halfRangeZ = params.scale[2] / 2;\r\n  return new Obb(halfRangeX, halfRangeY, halfRangeZ, params.isStationary, physicsJob);\r\n}\r\n\r\n/**\r\n * This assumes the base RenderableShape has a \"radius\" of one unit.\r\n *\r\n * @param {CollidableShapeConfig} params\r\n * @param {CollidablePhysicsJob} [physicsJob]\r\n * @returns {Collidable}\r\n */\r\nfunction createSphereFromRenderableShape(params, physicsJob) {\r\n  const radius = params.radius || vec3.length(params.scale) / Math.sqrt(3);\r\n  return new Sphere(0, 0, 0, radius, params.isStationary, physicsJob);\r\n}\r\n\r\n/**\r\n * The radius of the created capsule will be an average from the two shortest sides.\r\n *\r\n * There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\r\n *\r\n * @param {CollidableShapeConfig} params\r\n * @param {CollidablePhysicsJob} [physicsJob]\r\n * @returns {Collidable}\r\n */\r\nfunction createCapsuleFromRenderableShape(params, physicsJob) {\r\n  const scale = params.scale;\r\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\r\n  const isStationary = params.isStationary;\r\n  let radius = params.radius;\r\n\r\n  let halfDistance;\r\n\r\n  // There are two modes: either we use scale, or we use radius and capsuleEndPointsDistance.\r\n  if (typeof radius === 'number' && typeof capsuleEndPointsDistance === 'number') {\r\n    halfDistance = capsuleEndPointsDistance / 2;\r\n  } else {\r\n    const copy = vec3.clone(scale);\r\n    copy.sort();\r\n\r\n    const length = copy[2];\r\n    radius = (copy[0] + copy[1]) / 2;\r\n    halfDistance = length / 2 - radius;\r\n  }\r\n\r\n  const orientation = quat.create();\r\n  if (scale[0] > scale[1]) {\r\n    if (scale[0] > scale[2]) {\r\n      vec3.rotateY(orientation, orientation, _geometry.HALF_PI);\r\n    } else {\r\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\r\n    }\r\n  } else {\r\n    if (scale[1] > scale[2]) {\r\n      vec3.rotateX(orientation, orientation, -_geometry.HALF_PI);\r\n    } else {\r\n      // Do nothing; the capsule defaults to being aligned with the z-axis.\r\n    }\r\n  }\r\n\r\n  const capsule = new Capsule(halfDistance, radius, isStationary, physicsJob);\r\n  capsule.orientation = orientation;\r\n\r\n  return capsule;\r\n}\r\n\r\n/**\r\n * @param {CollidableShapeConfig} params\r\n * @param {CollidablePhysicsJob} [physicsJob]\r\n * @returns {Collidable}\r\n */\r\nfunction createSphereOrCapsuleFromRenderableShape(params, physicsJob) {\r\n  const scale = params.scale;\r\n  const radius = params.radius;\r\n  const capsuleEndPointsDistance = params.capsuleEndPointsDistance;\r\n\r\n  const halfLengthX = scale[0] * radius;\r\n  const halfLengthY = scale[1] * radius;\r\n  const halfLengthZ = scale[2] * (radius + capsuleEndPointsDistance) / 2;\r\n\r\n  const minLength = Math.min(Math.min(halfLengthX, halfLengthY), halfLengthZ);\r\n  const maxLength = Math.max(Math.max(halfLengthX, halfLengthY), halfLengthZ);\r\n\r\n  if (maxLength / minLength >= _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD) {\r\n    return createCapsuleFromRenderableShape(params, physicsJob);\r\n  } else {\r\n    return createSphereFromRenderableShape(params, physicsJob);\r\n  }\r\n}\r\n\r\nconst _SPHERE_VS_CAPSULE_ASPECT_RATIO_THRESHOLD = 2;\r\n\r\nconst _collidableCreators = {\r\n  'CUBE': createObbFromRenderableShape,\r\n  'SPHERE_OR_CAPSULE': createSphereOrCapsuleFromRenderableShape,\r\n  'SPHERE': createSphereFromRenderableShape,\r\n  'CAPSULE': createCapsuleFromRenderableShape,\r\n};\r\n\r\nexport {\r\n  createCapsuleFromRenderableShape,\r\n  createCollidableFromRenderableShape,\r\n  createObbFromRenderableShape,\r\n  createSphereFromRenderableShape,\r\n  createSphereOrCapsuleFromRenderableShape,\r\n};\r\n\r\n/**\r\n * @typedef {Object} CollidableShapeConfig\r\n * @property {string} collidableShapeId The ID of the type of collidable shape.\r\n * @property {vec3} [scale]\r\n * @property {boolean} [isStationary=false] Whether the collidable is fixed in place.\r\n */\r\n\r\n/**\r\n * @typedef {CollidableShapeConfig} SphericalCollidableShapeParams\r\n * @property {number} radius\r\n */\r\n\r\n/**\r\n * @typedef {SphericalCollidableShapeParams} CapsuleCollidableShapeParams\r\n * @property {number} capsuleEndPointsDistance The distance between the centers of the spheres on either end\r\n * of the capsule.\r\n */\r\n","import {createCollidableFromRenderableShape} from './collidable-factories';\r\nimport {collidableStore} from './collidable-store';\r\nimport {PhysicsJob} from '../../src/physics-job';\r\nimport {createForCollidable} from '../../util';\r\n\r\n/**\r\n * A CollidablePhysicsJob extends the standard PhysicsJob with a collidable geometry.\r\n */\r\nclass CollidablePhysicsJob extends PhysicsJob {\r\n  /**\r\n   * @param {CollidableShapeConfig} collidableParams\r\n   * @param {PhysicsState} state\r\n   * @param {Array.<ForceApplier>} forceAppliers\r\n   * @param {Object} controller\r\n   * @param {CollisionHandler} collisionHandler\r\n   */\r\n  constructor(collidableParams, state, forceAppliers, controller, collisionHandler) {\r\n    super(forceAppliers, state);\r\n\r\n    collidableParams.scale = collidableParams.scale || vec3.fromValues(1, 1, 1);\r\n    this.collidable = createCollidableFromRenderableShape(collidableParams, this);\r\n    this.currentState.unrotatedInertiaTensor =\r\n        createForCollidable(this.collidable, this.currentState.mass);\r\n    this.currentState.updateDependentFields();\r\n    this.isAtRest = false;\r\n    this.controller = controller;\r\n    this._collisionHandler = collisionHandler;\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplier} forceApplier\r\n   */\r\n  addForceApplier(forceApplier) {\r\n    super.addForceApplier(forceApplier);\r\n    this.isAtRest = false;\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplier} forceApplier\r\n   */\r\n  removeForceApplier(forceApplier) {\r\n    super.removeForceApplier(forceApplier);\r\n    this.isAtRest = false;\r\n  }\r\n\r\n  /**\r\n   * This callback is triggered in response to a collision.\r\n   *\r\n   * @param {Collision} collision\r\n   * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n   */\r\n  handleCollision(collision) {\r\n    return this._collisionHandler(collision);\r\n  }\r\n\r\n  /**\r\n   * @param {number} [startTime]\r\n   * @override\r\n   */\r\n  start(startTime) {\r\n    super.start(startTime);\r\n    collidableStore.registerCollidable(this.collidable);\r\n  }\r\n\r\n  /**\r\n   * @override\r\n   */\r\n  finish() {\r\n    super.finish();\r\n    collidableStore.unregisterCollidable(this.collidable);\r\n  }\r\n\r\n  /** @returns {vec3} */\r\n  get position() {\r\n    return this.currentState.position;\r\n  }\r\n\r\n  /** @param {vec3} value */\r\n  set position(value) {\r\n    this.currentState.position = vec3.clone(value);\r\n    this.collidable.position = vec3.clone(value);\r\n  }\r\n}\r\n\r\nexport {CollidablePhysicsJob};\r\n\r\n/**\r\n * @typedef {Function} CollisionHandler\r\n * @param {Collision} collision\r\n * @returns {boolean} True if this needs the standard collision restitution to proceed.\r\n */\r\n","import {detectBoundingVolumeIntersection} from './collision-utils';\r\n\r\n// TODO: Implement some form of bounding volume hierarchy to make searching for potential collisions\r\n// more efficient.\r\n\r\n/**\r\n * This class registers and retrieves all Collidables within a scene.\r\n */\r\nclass CollidableStore {\r\n  constructor() {\r\n    this._collidables = [];\r\n  }\r\n\r\n  /**\r\n   * Caches the given program wrapper.\r\n   *\r\n   * This method is idempotent; a given program will only be cached once.\r\n   *\r\n   * @param {Collidable} collidable\r\n   */\r\n  registerCollidable(collidable) {\r\n    this._collidables.push(collidable);\r\n  }\r\n\r\n  /**\r\n   * @param {Collidable} collidable\r\n   */\r\n  unregisterCollidable(collidable) {\r\n    const index = this._collidables.indexOf(collidable);\r\n    if (index >= 0) {\r\n      this._collidables.splice(index, 1);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {Collidable} collidable\r\n   * @returns {Array.<Collidable>}\r\n   */\r\n  getPossibleCollisionsForCollidable(collidable) {\r\n    return this._collidables.filter(other =>\r\n      collidable !== other &&\r\n      detectBoundingVolumeIntersection(collidable, other));\r\n  }\r\n\r\n  /**\r\n   * @returns {Array.<Collision>}\r\n   */\r\n  getPossibleCollisionsForAllCollidables() {\r\n    const result = [];\r\n    for (let i = 0, count = this._collidables.length; i < count; i++) {\r\n      const collidableA = this._collidables[i];\r\n      for (let j = i + 1; j < count; j++) {\r\n        const collidableB = this._collidables[j];\r\n        if (detectBoundingVolumeIntersection(collidableA, collidableB)) {\r\n          result.push({collidableA: collidableA, collidableB: collidableB});\r\n        }\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * @param {Function} callback\r\n   */\r\n  forEach(callback) {\r\n    this._collidables.forEach(callback);\r\n  }\r\n}\r\n\r\nconst collidableStore = new CollidableStore();\r\nexport {collidableStore};\r\n\r\n/**\r\n * @typedef {Object} Collision\r\n * @property {Collidable} collidableA\r\n * @property {Collidable} collidableB\r\n * @property {vec3} [contactPoint] In world coordinates.\r\n * @property {vec3} [contactNormal] Points away from body A and toward body B.\r\n * @property {number} [time]\r\n */\r\n","import {\r\n  areVec3sClose,\r\n  tmpVec1,\r\n  tmpVec2,\r\n  tmpVec3,\r\n  tmpVec4,\r\n} from '../../util';\r\n\r\nimport {collidableStore} from './collidable-store';\r\nimport {detectIntersection, calculateContact} from './collision-utils';\r\n\r\n/**\r\n * This module defines a collision pipeline.\r\n *\r\n * These functions will detect collisions between collidable bodies and update their momenta in\r\n * response to the collisions.\r\n *\r\n * - Consists of an efficient broad-phase collision detection step followed by a precise\r\n *   narrow-phase step.\r\n * - Calculates the position, surface normal, and time of each contact.\r\n * - Calculates the impulse of a collision and updates the bodies' linear and angular momenta in\r\n *   response.\r\n * - Applies Coulomb friction to colliding bodies.\r\n * - Sub-divides the time step to more precisely determine when and where a collision occurs.\r\n * - Supports multiple collisions with a single body in a single time step.\r\n * - Efficiently supports bodies coming to rest against each other.\r\n * - Bodies will never penetrate one another.\r\n * - This does not address the tunnelling problem. That is, it is possible for two fast-moving\r\n *   bodies to pass through each other as long as they did not intersect each other during any time\r\n *   step.\r\n * - This only supports collisions between certain types of shapes. Fortunately, this set provides\r\n *   reasonable approximations for most other shapes. The supported types of shapes are: spheres,\r\n *   capsules, AABBs, and OBBs.\r\n *\r\n * ## Objects that come to rest\r\n *\r\n * An important efficiency improvement is to not process objects through the physics engine pipeline\r\n * after they have come to rest. The isAtRest field indicates when a body has come to rest.\r\n *\r\n * isAtRest is set to true after a physics frame is finished if the collisions, forces, position,\r\n * and orientation of a job have not changed from the previous to the current state.\r\n *\r\n * isAtRest is set to false from two possible events: after a physics frame is finished if the\r\n * collisions have changed from the previous to the current state, or when a force is added to\r\n * removed from the job.\r\n *\r\n * ## Collision calculations do not consider velocity\r\n *\r\n * Collision detection works by waiting until two bodies intersect. However, because time frames are\r\n * not infinitely small, when an intersection is detected, it's already past the exact instance of\r\n * collision. To alleviate problems from this, the velocity of each body can be considered when\r\n * calculating the collision time, position, and contact normal. However, taking velocity into\r\n * account makes the contact calculations much more complex, so we do not consider velocity in our\r\n * calculations.\r\n *\r\n * A notable consequence of this is that the calculated contact normals can be incorrect. Consider\r\n * the following moving squares. At time t2 they are found to have collided. The calculated contact\r\n * point will be somewhere within the intersection of the corners. But the calculated contact normal\r\n * will point upwards, while the true contact normal should point to the right. This is because the\r\n * contact calculations do not consider velocity and instead only consider the shallowest direction\r\n * of overlap.\r\n *\r\n * // Time t1\r\n *                    +------------+\r\n *                    |            |\r\n *                    |            |\r\n *                <-- |      B     |\r\n *                    |            |\r\n *  +------------+    |            |\r\n *  |            |    +------------+\r\n *  |            |\r\n *  |      A     | -->\r\n *  |            |\r\n *  |            |\r\n *  +------------+\r\n *\r\n * // Time t2\r\n *         +------------+\r\n *         |            |\r\n *         |            |\r\n *         |      B     |\r\n *         |            |\r\n *  +------------+      |\r\n *  |      +-----|------+\r\n *  |            |\r\n *  |      A     |\r\n *  |            |\r\n *  |            |\r\n *  +------------+\r\n */\r\n\r\n/**\r\n * Detect and handle any collisions between a given job and all other collidable bodies.\r\n *\r\n * @param {CollidablePhysicsJob} job\r\n * @param {DOMHighResTimeStamp} elapsedTime\r\n * @param {PhysicsConfig} physicsParams\r\n */\r\nfunction handleCollisionsForJob(job, elapsedTime, physicsParams) {\r\n  const collidable = job.collidable;\r\n\r\n  // Clear any previous collision info.\r\n  collidable.previousCollisions = collidable.collisions;\r\n  collidable.collisions = [];\r\n\r\n  // Find all colliding collidables.\r\n  const collidingCollidables = findIntersectingCollidablesForCollidable(collidable);\r\n\r\n  // Store the time of collision for each collision.\r\n  const collisions = _recordCollisions(collidable, collidingCollidables, elapsedTime);\r\n\r\n  // Calculate the points of contact for each collision.\r\n  _calculatePointsOfContact(collisions);\r\n\r\n  // Collision resolution.\r\n  _resolveCollisions(collisions, physicsParams);\r\n}\r\n\r\n/**\r\n * Finds all other collidables that intersect with the given collidable.\r\n *\r\n * @param {Collidable} collidable\r\n * @returns {Array.<Collidable>}\r\n */\r\nfunction findIntersectingCollidablesForCollidable(collidable) {\r\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\r\n  const collidingCollidables = collidableStore.getPossibleCollisionsForCollidable(collidable);\r\n\r\n  // Narrow-phase collision detection (pairs that actually intersect).\r\n  return _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables);\r\n}\r\n\r\n/**\r\n * @param {Array.<CollidablePhysicsJob>} jobs\r\n */\r\nfunction determineJobsAtRest(jobs) {\r\n  jobs.forEach(job => job.isAtRest = _isJobAtRest(job));\r\n}\r\n\r\nfunction recordOldCollisionsForDevModeForAllCollidables() {\r\n  collidableStore.forEach(_recordOldCollisionsForDevModeForCollidable);\r\n}\r\n\r\n/**\r\n * Logs a warning message for any pair of objects that intersect.\r\n */\r\nfunction checkThatNoObjectsCollide() {\r\n  // Broad-phase collision detection (pairs whose bounding volumes intersect).\r\n  let collisions = collidableStore.getPossibleCollisionsForAllCollidables();\r\n\r\n  // Narrow-phase collision detection (pairs that actually intersect).\r\n  collisions = _detectPreciseCollisionsFromCollisions(collisions);\r\n\r\n  collisions.forEach(collision => {\r\n    console.warn('Objects still intersect after collision resolution', collision);\r\n  });\r\n}\r\n\r\n/**\r\n * Create collision objects that record the time of collision and the collidables in the collision.\r\n *\r\n * Also record references to these collisions on the collidables.\r\n *\r\n * @param {Collidable} collidable\r\n * @param {Array.<Collidable>} collidingCollidables\r\n * @param {DOMHighResTimeStamp} elapsedTime\r\n * @returns {Array.<Collision>}\r\n * @private\r\n */\r\nfunction _recordCollisions(collidable, collidingCollidables, elapsedTime) {\r\n  return collidingCollidables.map(other => {\r\n    const collision = {\r\n      collidableA: collidable,\r\n      collidableB: other,\r\n      time: elapsedTime\r\n    };\r\n\r\n    // Record the fact that these objects collided (the ModelController may want to handle this).\r\n    collision.collidableA.collisions.push(collision);\r\n    collision.collidableB.collisions.push(collision);\r\n\r\n    return collision;\r\n  });\r\n}\r\n\r\n/**\r\n * Narrow-phase collision detection.\r\n *\r\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\r\n *\r\n * @param {Array.<Collision>} collisions\r\n * @returns {Array.<Collision>}\r\n * @private\r\n */\r\nfunction _detectPreciseCollisionsFromCollisions(collisions) {\r\n  return collisions.filter(collision => {\r\n    // TODO:\r\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\r\n    //       x-vs-y-specific intersection detection methods).\r\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\r\n    //   before collision and the time from the sub-step after collision (determined from the\r\n    //   previous temporal bisection search...)\r\n\r\n    return detectIntersection(collision.collidableA, collision.collidableB);\r\n  });\r\n}\r\n\r\n/**\r\n * Narrow-phase collision detection.\r\n *\r\n * Given a list of possible collision pairs, filter out which pairs are actually colliding.\r\n *\r\n * @param {Collidable} collidable\r\n * @param {Array.<Collidable>} collidingCollidables\r\n * @returns {Array.<Collidable>}\r\n * @private\r\n */\r\nfunction _detectPreciseCollisionsFromCollidingCollidables(collidable, collidingCollidables) {\r\n  return collidingCollidables.filter(other => {\r\n    // TODO:\r\n    // - Use temporal bisection with discrete sub-time steps to find time of collision (use\r\n    //       x-vs-y-specific intersection detection methods).\r\n    // - Make sure the collision object is set up with the \"previousState\" from the sub-step\r\n    //   before collision and the time from the sub-step after collision (determined from the\r\n    //   previous temporal bisection search...)\r\n\r\n    return detectIntersection(collidable, other);\r\n  });\r\n}\r\n\r\n/**\r\n * Calculate the intersection position and contact normal of each collision.\r\n *\r\n * @param {Array.<Collision>} collisions\r\n * @private\r\n */\r\nfunction _calculatePointsOfContact(collisions) {\r\n  collisions.forEach(calculateContact);\r\n}\r\n\r\n/**\r\n * Updates the linear and angular momenta of each body in response to its collision.\r\n *\r\n * @param {Array.<Collision>} collisions\r\n * @param {PhysicsConfig} physicsParams\r\n * @private\r\n */\r\nfunction _resolveCollisions(collisions, physicsParams) {\r\n  collisions.forEach(collision => {\r\n    // If neither physics job needs the standard collision restitution, then don't do it.\r\n    if (_notifyPhysicsJobsOfCollision(collision)) {\r\n      if (collision.collidableA.physicsJob && collision.collidableB.physicsJob) {\r\n        // Neither of the collidables is stationary.\r\n        _resolveCollision(collision, physicsParams);\r\n      } else {\r\n        // One of the two collidables is stationary.\r\n        _resolveCollisionWithStationaryObject(collision, physicsParams);\r\n      }\r\n    }\r\n  });\r\n}\r\n\r\n/**\r\n * @param {Collision} collision\r\n * @returns {boolean} True if one of the PhysicsJobs need the standard collision restitution to\r\n * proceed.\r\n * @private\r\n */\r\nfunction _notifyPhysicsJobsOfCollision(collision) {\r\n  return collision.collidableA.physicsJob.handleCollision(collision) ||\r\n      collision.collidableB.physicsJob.handleCollision(collision)\r\n}\r\n\r\n/**\r\n * Resolve a collision between two moving, physics-based objects.\r\n *\r\n * This is based on collision-response algorithms from Wikipedia\r\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model).\r\n *\r\n * @param {Collision} collision\r\n * @param {PhysicsConfig} physicsParams\r\n * @private\r\n */\r\nfunction _resolveCollision(collision, physicsParams) {\r\n  const collidableA = collision.collidableA;\r\n  const collidableB = collision.collidableB;\r\n  const previousStateA = collidableA.physicsJob.previousState;\r\n  const previousStateB = collidableB.physicsJob.previousState;\r\n  const nextStateA = collidableA.physicsJob.currentState;\r\n  const nextStateB = collidableB.physicsJob.currentState;\r\n  const centerA = collidableA.centerOfMass;\r\n  const centerB = collidableB.centerOfMass;\r\n  const contactPoint = collision.contactPoint;\r\n\r\n  const contactPointOffsetA = tmpVec3;\r\n  vec3.subtract(contactPointOffsetA, contactPoint, centerA);\r\n  const contactPointOffsetB = tmpVec4;\r\n  vec3.subtract(contactPointOffsetB, contactPoint, centerB);\r\n\r\n  //\r\n  // Calculate the relative velocity of the bodies at the point of contact.\r\n  //\r\n  // We use the velocity from the previous state, since it is the velocity that led to the\r\n  // collision.\r\n  //\r\n\r\n  const velocityA = tmpVec1;\r\n  vec3.cross(tmpVec1, previousStateA.angularVelocity, contactPointOffsetA);\r\n  vec3.add(velocityA, previousStateA.velocity, tmpVec1);\r\n\r\n  const velocityB = tmpVec2;\r\n  vec3.cross(tmpVec2, previousStateB.angularVelocity, contactPointOffsetB);\r\n  vec3.add(velocityB, previousStateB.velocity, tmpVec2);\r\n\r\n  const relativeVelocity = vec3.create();\r\n  vec3.subtract(relativeVelocity, velocityB, velocityA);\r\n\r\n  if (vec3.dot(relativeVelocity, collision.contactNormal) >= 0) {\r\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\r\n    // incorrectly (this is likely due to the time step being too large and the fact that our\r\n    // contact calculations don't consider velocity). So update the contact normal to be in the\r\n    // direction of the relative velocity.\r\n\r\n    // TODO: Check that this works as expected.\r\n\r\n    // console.warn('Non-collision because objects are moving away from each other.');\r\n\r\n    vec3.copy(collision.contactNormal, relativeVelocity);\r\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\r\n    vec3.negate(collision.contactNormal, collision.contactNormal);\r\n  }\r\n\r\n  _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\r\n      contactPointOffsetB, physicsParams);\r\n\r\n  // NOTE: This state reversion is only applied to collidableA. This assumes that only A is moving\r\n  // during this iteration of the collision pipeline.\r\n\r\n  // Revert to the position and orientation from immediately before the collision.\r\n  vec3.copy(nextStateA.position, previousStateA.position);\r\n  quat.copy(nextStateA.orientation, previousStateA.orientation);\r\n\r\n  // Also revert the collidables' position and orientation.\r\n  collidableA.position = previousStateA.position;\r\n  collidableA.orientation = previousStateA.orientation;\r\n\r\n  nextStateA.updateDependentFields();\r\n  nextStateB.updateDependentFields();\r\n}\r\n\r\n/**\r\n * Resolve a collision between one moving, physics-based object and one stationary object.\r\n *\r\n * @param {Collision} collision\r\n * @param {PhysicsConfig} physicsParams\r\n * @private\r\n */\r\nfunction _resolveCollisionWithStationaryObject(collision, physicsParams) {\r\n  const contactNormal = collision.contactNormal;\r\n\r\n  let physicsCollidable;\r\n  if (collision.collidableA.physicsJob) {\r\n    physicsCollidable = collision.collidableA;\r\n  } else {\r\n    physicsCollidable = collision.collidableB;\r\n    vec3.negate(contactNormal, contactNormal);\r\n  }\r\n\r\n  const previousState = physicsCollidable.physicsJob.previousState;\r\n  const nextState = physicsCollidable.physicsJob.currentState;\r\n  const center = physicsCollidable.centerOfMass;\r\n  const contactPoint = collision.contactPoint;\r\n\r\n  const contactPointOffset = tmpVec3;\r\n  vec3.subtract(contactPointOffset, contactPoint, center);\r\n\r\n  // Calculate the relative velocity of the bodies at the point of contact. We use the velocity from\r\n  // the previous state, since it is the velocity that led to the collision.\r\n  const velocity = vec3.create();\r\n  vec3.cross(tmpVec1, previousState.angularVelocity, contactPointOffset);\r\n  vec3.add(velocity, previousState.velocity, tmpVec1);\r\n\r\n  if (vec3.dot(velocity, contactNormal) <= 0) {\r\n    // If the relative velocity is not pointing against the normal, then the normal was calculated\r\n    // incorrectly (this is likely due to the time step being too large and the fact that our\r\n    // contact calculations don't consider velocity). So update the contact normal to be in the\r\n    // direction of the relative velocity.\r\n\r\n    // TODO: Check that this works as expected.\r\n\r\n    console.warn('Non-collision because object is moving away from stationary object.');\r\n\r\n    vec3.copy(collision.contactNormal, velocity);\r\n    vec3.normalize(collision.contactNormal, collision.contactNormal);\r\n    vec3.negate(collision.contactNormal, collision.contactNormal);\r\n  }\r\n\r\n  _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\r\n      contactPointOffset, physicsParams);\r\n\r\n  // Revert to the position and orientation from immediately before the collision.\r\n  vec3.copy(nextState.position, previousState.position);\r\n  quat.copy(nextState.orientation, previousState.orientation);\r\n\r\n  // Also revert the collidable's position and orientation.\r\n  physicsCollidable.position = previousState.position;\r\n  physicsCollidable.orientation = previousState.orientation;\r\n\r\n  nextState.updateDependentFields();\r\n}\r\n\r\n/**\r\n * This is based on collision-response algorithms from Wikipedia\r\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\r\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\r\n *\r\n * @param {Collision} collision\r\n * @param {vec3} relativeVelocity\r\n * @param {vec3} contactPointOffsetA\r\n * @param {vec3} contactPointOffsetB\r\n * @param {PhysicsConfig} physicsParams\r\n * @private\r\n */\r\nfunction _applyImpulseFromCollision(collision, relativeVelocity, contactPointOffsetA,\r\n                                    contactPointOffsetB, physicsParams) {\r\n  const collidableA = collision.collidableA;\r\n  const collidableB = collision.collidableB;\r\n\r\n  const stateA = collidableA.physicsJob.currentState;\r\n  const stateB = collidableB.physicsJob.currentState;\r\n\r\n  const contactNormal = collision.contactNormal;\r\n\r\n  //\r\n  // Calculate and apply the main collision impulse.\r\n  //\r\n\r\n  vec3.scale(tmpVec1, relativeVelocity, -(1 + physicsParams.coefficientOfRestitution));\r\n  const numerator = vec3.dot(tmpVec1, contactNormal);\r\n\r\n  vec3.cross(tmpVec1, contactPointOffsetA, contactNormal);\r\n  vec3.transformMat3(tmpVec1, tmpVec1, stateA.inverseInertiaTensor);\r\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffsetA);\r\n\r\n  vec3.cross(tmpVec2, contactPointOffsetB, contactNormal);\r\n  vec3.transformMat3(tmpVec2, tmpVec2, stateB.inverseInertiaTensor);\r\n  vec3.cross(tmpVec2, tmpVec2, contactPointOffsetB);\r\n\r\n  vec3.add(tmpVec1, tmpVec1, tmpVec2);\r\n  const denominator = vec3.dot(tmpVec1, contactNormal) + stateA.inverseMass + stateB.inverseMass;\r\n\r\n  const impulseMagnitude = numerator / denominator;\r\n\r\n  _applyImpulse(stateA, -impulseMagnitude, contactNormal, contactPointOffsetA);\r\n  _applyImpulse(stateB, impulseMagnitude, contactNormal, contactPointOffsetB);\r\n\r\n  //\r\n  // Calculate and apply a dynamic friction impulse.\r\n  //\r\n\r\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\r\n\r\n  const tangent = tmpVec2;\r\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(relativeVelocity, contactNormal));\r\n  vec3.subtract(tangent, relativeVelocity, tmpVec1);\r\n  vec3.normalize(tangent, tangent);\r\n\r\n  _applyImpulse(stateA, frictionImpulseMagnitude, tangent, contactPointOffsetA);\r\n  _applyImpulse(stateB, -frictionImpulseMagnitude, tangent, contactPointOffsetB);\r\n}\r\n\r\n/**\r\n * This is based on collision-response algorithms from Wikipedia\r\n * (https://en.wikipedia.org/wiki/Collision_response#Impulse-based_reaction_model). This algorithm\r\n * has been simplified by assuming the stationary body has infinite mass and zero velocity.\r\n *\r\n * @param {Collidable} physicsCollidable\r\n * @param {Collision} collision\r\n * @param {vec3} velocity\r\n * @param {vec3} contactPointOffset\r\n * @param {PhysicsConfig} physicsParams\r\n * @private\r\n */\r\nfunction _applyImpulseFromCollisionWithStationaryObject(physicsCollidable, collision, velocity,\r\n                                                        contactPointOffset, physicsParams) {\r\n  const state = physicsCollidable.physicsJob.currentState;\r\n  const contactNormal = collision.contactNormal;\r\n\r\n  //\r\n  // Calculate and apply the main collision impulse.\r\n  //\r\n\r\n  vec3.scale(tmpVec1, velocity, -(1 + physicsParams.coefficientOfRestitution));\r\n  const numerator = vec3.dot(tmpVec1, contactNormal);\r\n\r\n  vec3.cross(tmpVec1, contactPointOffset, contactNormal);\r\n  vec3.transformMat3(tmpVec1, tmpVec1, state.inverseInertiaTensor);\r\n  vec3.cross(tmpVec1, tmpVec1, contactPointOffset);\r\n  const denominator = vec3.dot(tmpVec1, contactNormal) + state.inverseMass;\r\n\r\n  const impulseMagnitude = numerator / denominator;\r\n\r\n  _applyImpulse(state, impulseMagnitude, contactNormal, contactPointOffset);\r\n\r\n  //\r\n  // Calculate and apply a dynamic friction impulse.\r\n  //\r\n\r\n  const frictionImpulseMagnitude = impulseMagnitude * physicsParams.coefficientOfFriction;\r\n\r\n  const tangent = tmpVec2;\r\n  vec3.scale(tmpVec1, contactNormal, vec3.dot(velocity, contactNormal));\r\n  vec3.subtract(tangent, velocity, tmpVec1);\r\n  vec3.normalize(tangent, tangent);\r\n\r\n  _applyImpulse(state, frictionImpulseMagnitude, tangent, contactPointOffset);\r\n}\r\n\r\n/**\r\n * @param {PhysicsState} state\r\n * @param {number} impulseMagnitude\r\n * @param {vec3} impulseDirection\r\n * @param {vec3} contactPointOffset\r\n * @private\r\n */\r\nfunction _applyImpulse(state, impulseMagnitude, impulseDirection, contactPointOffset) {\r\n  // Calculate the updated linear momenta.\r\n  const finalLinearMomentum = vec3.create();\r\n  vec3.scaleAndAdd(finalLinearMomentum, state.momentum, impulseDirection, impulseMagnitude);\r\n\r\n  // Calculate the updated angular momenta.\r\n  const finalAngularMomentum = vec3.create();\r\n  vec3.cross(tmpVec1, contactPointOffset, impulseDirection);\r\n  vec3.scaleAndAdd(finalAngularMomentum, state.angularMomentum, tmpVec1, impulseMagnitude);\r\n\r\n  // Apply the updated momenta.\r\n  vec3.copy(state.momentum, finalLinearMomentum);\r\n  vec3.copy(state.angularMomentum, finalAngularMomentum);\r\n}\r\n\r\n/**\r\n * @param {CollidablePhysicsJob} job\r\n * @returns {boolean}\r\n * @private\r\n */\r\nfunction _isJobAtRest(job) {\r\n  return areVec3sClose(job.currentState.position, job.previousState.position) &&\r\n      areVec3sClose(job.currentState.velocity, job.previousState.velocity) &&\r\n      areVec3sClose(job.currentState.orientation, job.previousState.orientation) &&\r\n      _doCollisionsMatch(job.collidable.collisions, job.collidable.previousCollisions);\r\n}\r\n\r\n/**\r\n * @param {Array.<Collision>} collisionsA\r\n * @param {Array.<Collision>} collisionsB\r\n * @returns {boolean}\r\n * @private\r\n */\r\nfunction _doCollisionsMatch(collisionsA, collisionsB) {\r\n  const count = collisionsA.length;\r\n\r\n  if (count !== collisionsB.length) return false;\r\n\r\n  for (let i = 0; i < count; i++) {\r\n    const collisionA = collisionsA[i];\r\n    const collisionB = collisionsB[i];\r\n    if (collisionA.collidableA !== collisionB.collidableA ||\r\n        collisionA.collidableB !== collisionB.collidableB ||\r\n        !areVec3sClose(collisionA.contactPoint, collisionB.contactPoint) ||\r\n        !areVec3sClose(collisionA.contactNormal, collisionB.contactNormal)) {\r\n      return false\r\n    }\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * @param {Collidable} collidable\r\n * @private\r\n */\r\nfunction _recordOldCollisionsForDevModeForCollidable(collidable) {\r\n  if (!collidable.extraPreviousCollisions) {\r\n    collidable.extraPreviousCollisions = [];\r\n  }\r\n\r\n  for (let i = 3; i > 0; i--) {\r\n    collidable.extraPreviousCollisions[i] = collidable.extraPreviousCollisions[i - 1];\r\n  }\r\n  collidable.extraPreviousCollisions[0] = collidable.previousCollisions;\r\n}\r\n\r\n/**\r\n * @param {Collision} collision\r\n * @param {Object} thisController\r\n * @returns {Object}\r\n */\r\nfunction getOtherControllerFromCollision(collision, thisController) {\r\n  const controllerA = collision.collidableA.physicsJob.controller;\r\n  const controllerB = collision.collidableB.physicsJob.controller;\r\n  if (controllerA === thisController) {\r\n    return controllerB;\r\n  } else if (controllerB === thisController) {\r\n    return controllerA;\r\n  } else {\r\n    throw new Error('Neither collidable corresponds to the given controller');\r\n  }\r\n}\r\n\r\nexport {\r\n  handleCollisionsForJob,\r\n  findIntersectingCollidablesForCollidable,\r\n  determineJobsAtRest,\r\n  recordOldCollisionsForDevModeForAllCollidables,\r\n  checkThatNoObjectsCollide,\r\n  getOtherControllerFromCollision,\r\n};\r\n","import {\r\n  Aabb,\r\n  Capsule,\r\n  Obb,\r\n  Sphere\r\n} from '../collidables';\r\n\r\nimport {\r\n  aabbCollisionDetection,\r\n  capsuleCollisionDetection,\r\n  obbCollisionDetection,\r\n  sphereCollisionDetection,\r\n} from '../collision-detection';\r\n\r\nimport {\r\n  aabbContactCalculation,\r\n  capsuleContactCalculation,\r\n  obbContactCalculation,\r\n  sphereContactCalculation,\r\n} from '../contact-calculation';\r\n\r\n/**\r\n * This module defines a collection of static utility functions for detecting and responding to\r\n * collisions.\r\n */\r\n\r\n/**\r\n * @param {Collidable} a\r\n * @param {Collidable} b\r\n * @returns {boolean}\r\n */\r\nfunction detectIntersection(a, b) {\r\n  if (a instanceof Sphere) {\r\n    if (b instanceof Sphere) {\r\n      return sphereCollisionDetection.sphereVsSphere(a, b);\r\n    } else if (b instanceof Aabb) {\r\n      return sphereCollisionDetection.sphereVsAabb(a, b);\r\n    } else if (b instanceof Capsule) {\r\n      return sphereCollisionDetection.sphereVsCapsule(a, b);\r\n    } else if (b instanceof Obb) {\r\n      return sphereCollisionDetection.sphereVsObb(a, b);\r\n    } else {\r\n      return sphereCollisionDetection.sphereVsPoint(a, b);\r\n    }\r\n  } else if (a instanceof Aabb) {\r\n    if (b instanceof Sphere) {\r\n      return aabbCollisionDetection.aabbVsSphere(a, b);\r\n    } else if (b instanceof Aabb) {\r\n      return aabbCollisionDetection.aabbVsAabb(a, b);\r\n    } else if (b instanceof Capsule) {\r\n      return aabbCollisionDetection.aabbVsCapsule(a, b);\r\n    } else if (b instanceof Obb) {\r\n      return aabbCollisionDetection.aabbVsObb(a, b);\r\n    } else {\r\n      return aabbCollisionDetection.aabbVsPoint(a, b);\r\n    }\r\n  } else if (a instanceof Capsule) {\r\n    if (b instanceof Sphere) {\r\n      return capsuleCollisionDetection.capsuleVsSphere(a, b);\r\n    } else if (b instanceof Aabb) {\r\n      return capsuleCollisionDetection.capsuleVsAabb(a, b);\r\n    } else if (b instanceof Capsule) {\r\n      return capsuleCollisionDetection.capsuleVsCapsule(a, b);\r\n    } else if (b instanceof Obb) {\r\n      return capsuleCollisionDetection.capsuleVsObb(a, b);\r\n    } else {\r\n      return capsuleCollisionDetection.capsuleVsPoint(a, b);\r\n    }\r\n  } else if (a instanceof Obb) {\r\n    if (b instanceof Sphere) {\r\n      return obbCollisionDetection.obbVsSphere(a, b);\r\n    } else if (b instanceof Aabb) {\r\n      return obbCollisionDetection.obbVsAabb(a, b);\r\n    } else if (b instanceof Capsule) {\r\n      return obbCollisionDetection.obbVsCapsule(a, b);\r\n    } else if (b instanceof Obb) {\r\n      return obbCollisionDetection.obbVsObb(a, b);\r\n    } else {\r\n      return obbCollisionDetection.obbVsPoint(a, b);\r\n    }\r\n  } else {\r\n    if (b instanceof Sphere) {\r\n      return sphereCollisionDetection.sphereVsPoint(b, a);\r\n    } else if (b instanceof Aabb) {\r\n      return aabbCollisionDetection.aabbVsPoint(b, a);\r\n    } else if (b instanceof Capsule) {\r\n      return capsuleCollisionDetection.capsuleVsPoint(b, a);\r\n    } else if (b instanceof Obb) {\r\n      return obbCollisionDetection.obbVsPoint(b, a);\r\n    } else {\r\n      return false;\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {Collision} collision\r\n */\r\nfunction calculateContact(collision) {\r\n  const a = collision.collidableA;\r\n  const b = collision.collidableB;\r\n  const contactPoint = vec3.create();\r\n  const contactNormal = vec3.create();\r\n\r\n  if (a instanceof Sphere) {\r\n    if (b instanceof Sphere) {\r\n      sphereContactCalculation.sphereVsSphere(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Aabb) {\r\n      sphereContactCalculation.sphereVsAabb(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Capsule) {\r\n      sphereContactCalculation.sphereVsCapsule(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Obb) {\r\n      sphereContactCalculation.sphereVsObb(contactPoint, contactNormal, a, b);\r\n    } else {\r\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, a, b);\r\n    }\r\n  } else if (a instanceof Aabb) {\r\n    if (b instanceof Sphere) {\r\n      aabbContactCalculation.aabbVsSphere(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Aabb) {\r\n      aabbContactCalculation.aabbVsAabb(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Capsule) {\r\n      aabbContactCalculation.aabbVsCapsule(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Obb) {\r\n      aabbContactCalculation.aabbVsObb(contactPoint, contactNormal, a, b);\r\n    } else {\r\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, a, b);\r\n    }\r\n  } else if (a instanceof Capsule) {\r\n    if (b instanceof Sphere) {\r\n      capsuleContactCalculation.capsuleVsSphere(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Aabb) {\r\n      capsuleContactCalculation.capsuleVsAabb(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Capsule) {\r\n      capsuleContactCalculation.capsuleVsCapsule(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Obb) {\r\n      capsuleContactCalculation.capsuleVsObb(contactPoint, contactNormal, a, b);\r\n    } else {\r\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, a, b);\r\n    }\r\n  } else if (a instanceof Obb) {\r\n    if (b instanceof Sphere) {\r\n      obbContactCalculation.obbVsSphere(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Aabb) {\r\n      obbContactCalculation.obbVsAabb(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Capsule) {\r\n      obbContactCalculation.obbVsCapsule(contactPoint, contactNormal, a, b);\r\n    } else if (b instanceof Obb) {\r\n      obbContactCalculation.obbVsObb(contactPoint, contactNormal, a, b);\r\n    } else {\r\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, a, b);\r\n    }\r\n  } else {\r\n    if (b instanceof Sphere) {\r\n      sphereContactCalculation.sphereVsPoint(contactPoint, contactNormal, b, a);\r\n    } else if (b instanceof Aabb) {\r\n      aabbContactCalculation.aabbVsPoint(contactPoint, contactNormal, b, a);\r\n    } else if (b instanceof Capsule) {\r\n      capsuleContactCalculation.capsuleVsPoint(contactPoint, contactNormal, b, a);\r\n    } else if (b instanceof Obb) {\r\n      obbContactCalculation.obbVsPoint(contactPoint, contactNormal, b, a);\r\n    } else {}\r\n    vec3.negate(contactNormal, contactNormal);\r\n  }\r\n\r\n  collision.contactPoint = contactPoint;\r\n  collision.contactNormal = contactNormal;\r\n}\r\n\r\n/**\r\n * @param {Collidable} a\r\n * @param {Collidable} b\r\n * @returns {boolean}\r\n */\r\nfunction detectBoundingVolumeIntersection(a, b) {\r\n  return detectIntersection(a.boundingVolume, b.boundingVolume);\r\n}\r\n\r\nexport {\r\n  detectIntersection,\r\n  calculateContact,\r\n  detectBoundingVolumeIntersection,\r\n};\r\n","/**\r\n * This module re-exports all of the exports in the grafx framework. This makes the entire framework\r\n * conveniently accessible via this single module.\r\n */\r\n\r\nexport * from './collisions';\r\nexport * from './integrator';\r\nexport * from './util';\r\n\r\nexport * from './src/physics-engine';\r\nexport * from './src/physics-job';\r\nexport * from './src/physics-state';\r\n","export * from './src/integrator';\r\nexport * from './src/rk4-integrator';\r\n","/**\r\n * This class numerically integrates the equations of motion. That is, an integrator implements\r\n * physics simulations by updating position and velocity values for each time step.\r\n *\r\n * @abstract\r\n */\r\nclass Integrator {\r\n  constructor() {\r\n    // Integrator is an abstract class. It should not be instantiated directly.\r\n    if (new.target === Integrator) {\r\n      throw new TypeError('Cannot construct Integrator instances directly');\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Integrate the state from t to t + dt.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   * @param {number} t Total elapsed time.\r\n   * @param {number} dt Duration of the current time step.\r\n   * @abstract\r\n   */\r\n  integrate(job, t, dt) {\r\n    // Extending classes should implement this method.\r\n    throw new TypeError('Method not implemented');\r\n  }\r\n\r\n  /**\r\n   * @returns {PhysicsDerivative}\r\n   */\r\n  static createDerivative() {\r\n    return {\r\n      velocity: vec3.create(),\r\n      force: vec3.create(),\r\n      spin: quat.create(),\r\n      torque: vec3.create()\r\n    };\r\n  }\r\n}\r\n\r\nexport {Integrator};\r\n\r\n/**\r\n * @typedef {Object} PhysicsDerivative\r\n * @property {vec3} velocity Derivative of position.\r\n * @property {vec3} force Derivative of momentum.\r\n * @property {quat} spin Derivative of orientation.\r\n * @property {vec3} torque Derivative of angular momentum.\r\n */\r\n\r\n/**\r\n * @typedef {Object} ForceApplierOutput\r\n * @property {vec3} force\r\n * @property {vec3} torque\r\n */\r\n\r\n/**\r\n * @typedef {Object} ForceApplierInput\r\n * @property {PhysicsState} state\r\n * @property {number} t\r\n * @property {number} dt\r\n */\r\n","import {_geometry, _util} from '../../util';\r\nimport {Integrator} from './integrator';\r\nimport {PhysicsState} from '../../src/physics-state';\r\n\r\n// TODO: Account for the fact that collisions take place between time steps; integration should\r\n// really consider the previous state as being the time and state at the moment of collision.\r\n\r\n/**\r\n * This class numerically integrates the equations of motion. That is, this implements physics\r\n * simulations by updating position and velocity values for each time step.\r\n *\r\n * This integrator is an implementation of the classical Runge-Kutta method (RK4)\r\n * (https://en.wikipedia.org/wiki/Runge_kutta).\r\n *\r\n * This integrator causes energy to be lost at a small rate. This is a common problem for numerical\r\n * integrators, and is usually negligible.\r\n */\r\nclass RK4Integrator extends Integrator {\r\n  constructor() {\r\n    super();\r\n    if (_util.isInDevMode) {\r\n      this._wrapForDevMode();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Integrate the state from t to t + dt.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   * @param {number} t Total elapsed time.\r\n   * @param {number} dt Duration of the current time step.\r\n   */\r\n  integrate(job, t, dt) {\r\n    const state = job.currentState;\r\n    _tempState.copy(state);\r\n\r\n    _calculateDerivative(_a, _tempState, job, t, 0, _EMPTY_DERIVATIVE);\r\n    _calculateDerivative(_b, _tempState, job, t, dt * 0.5, _a);\r\n    _calculateDerivative(_c, _tempState, job, t, dt * 0.5, _b);\r\n    _calculateDerivative(_d, _tempState, job, t, dt, _c);\r\n\r\n    _calculateVec3DerivativeWeightedSum(\r\n        _positionDerivative, _a.velocity, _b.velocity, _c.velocity, _d.velocity);\r\n    _calculateVec3DerivativeWeightedSum(\r\n        _momentumDerivative, _a.force, _b.force, _c.force, _d.force);\r\n    _calculateQuatDerivativeWeightedSum(_orientationDerivative, _a.spin, _b.spin, _c.spin, _d.spin);\r\n    _calculateVec3DerivativeWeightedSum(\r\n        _angularMomentumDerivative, _a.torque, _b.torque, _c.torque, _d.torque);\r\n\r\n    vec3.scaleAndAdd(state.position, state.position, _positionDerivative, dt);\r\n    vec3.scaleAndAdd(state.momentum, state.momentum, _momentumDerivative, dt);\r\n    _geometry.scaleAndAddQuat(state.orientation, state.orientation, _orientationDerivative, dt);\r\n    vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, _angularMomentumDerivative, dt);\r\n\r\n    state.updateDependentFields();\r\n  }\r\n\r\n  /**\r\n   * Wraps the integrate method and check for NaN values after each integration.\r\n   *\r\n   * @private\r\n   */\r\n  _wrapForDevMode() {\r\n    const unguardedIntegrate = this.integrate.bind(this);\r\n    this.integrate = (job, t, dt) => {\r\n      unguardedIntegrate(job, t, dt);\r\n      _checkForStateError(job.currentState);\r\n    };\r\n  }\r\n}\r\n\r\n/**\r\n * Calculate the derivative from the given state with the given time step.\r\n *\r\n * @param {PhysicsDerivative} out\r\n * @param {PhysicsState} state\r\n * @param {PhysicsJob} job\r\n * @param {number} t\r\n * @param {number} dt\r\n * @param {PhysicsDerivative} d\r\n * @private\r\n */\r\nfunction _calculateDerivative(out, state, job, t, dt, d) {\r\n  vec3.scaleAndAdd(state.position, state.position, d.velocity, dt);\r\n  vec3.scaleAndAdd(state.momentum, state.momentum, d.force, dt);\r\n  _geometry.scaleAndAddQuat(state.orientation, state.orientation, d.spin, dt);\r\n  vec3.scaleAndAdd(state.angularMomentum, state.angularMomentum, d.torque, dt);\r\n\r\n  state.updateDependentFields();\r\n\r\n  out.velocity = state.velocity;\r\n  out.spin = state.spin;\r\n  vec3.set(out.force, 0, 0, 0);\r\n  vec3.set(out.torque, 0, 0, 0);\r\n\r\n  _forceApplierOutput.force = out.force;\r\n  _forceApplierOutput.torque = out.torque;\r\n  _forceApplierInput.state = state;\r\n  _forceApplierInput.t = t + dt;\r\n  _forceApplierInput.dt = dt;\r\n\r\n  job.applyForces(_forceApplierOutput, _forceApplierInput);\r\n}\r\n\r\nconst _EMPTY_DERIVATIVE = Integrator.createDerivative();\r\n\r\nconst _tempState = new PhysicsState();\r\nconst _a = Integrator.createDerivative();\r\nconst _b = Integrator.createDerivative();\r\nconst _c = Integrator.createDerivative();\r\nconst _d = Integrator.createDerivative();\r\n\r\nconst _positionDerivative = vec3.create();\r\nconst _momentumDerivative = vec3.create();\r\nconst _orientationDerivative = quat.create();\r\nconst _angularMomentumDerivative = vec3.create();\r\n\r\nconst _forceApplierOutput = {};\r\nconst _forceApplierInput = {};\r\n\r\n/**\r\n * @param {vec3} out\r\n * @param {vec3} a\r\n * @param {vec3} b\r\n * @param {vec3} c\r\n * @param {vec3} d\r\n * @private\r\n */\r\nfunction _calculateVec3DerivativeWeightedSum(out, a, b, c, d) {\r\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\r\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\r\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\r\n}\r\n\r\n/**\r\n * @param {quat} out\r\n * @param {quat} a\r\n * @param {quat} b\r\n * @param {quat} c\r\n * @param {quat} d\r\n * @private\r\n */\r\nfunction _calculateQuatDerivativeWeightedSum(out, a, b, c, d) {\r\n  out[0] = 1 / 6 * (a[0] + 2 * (b[0] + c[0]) + d[0]);\r\n  out[1] = 1 / 6 * (a[1] + 2 * (b[1] + c[1]) + d[1]);\r\n  out[2] = 1 / 6 * (a[2] + 2 * (b[2] + c[2]) + d[2]);\r\n  out[3] = 1 / 6 * (a[3] + 2 * (b[3] + c[3]) + d[3]);\r\n}\r\n\r\n/**\r\n * @param {PhysicsState} state\r\n * @private\r\n */\r\nfunction _checkForStateError(state) {\r\n  const errorProperties = [\r\n    'position',\r\n    'momentum',\r\n    'orientation',\r\n    'angularMomentum',\r\n  ].filter(property => _containsNaN(state[property]));\r\n  const property = errorProperties[0];\r\n  if (property) {\r\n    throw new Error(`${property} contains a NaN value after integrating: ${state[property]}`);\r\n  }\r\n}\r\n\r\n/**\r\n * Determines whether the given vector contains a NaN value.\r\n *\r\n * @param {vec3} v\r\n * @private\r\n */\r\nfunction _containsNaN(v) {\r\n  return isNaN(v[0]) || isNaN(v[1]) || isNaN(v[2]);\r\n}\r\n\r\nconst rk4Integrator = new RK4Integrator();\r\n\r\nexport {rk4Integrator};\r\n","import {FrameLatencyProfiler, PersistentAnimationJob} from 'lsl-animatex';\r\nimport {_util} from '../util';\r\n\r\nimport {\r\n  checkThatNoObjectsCollide,\r\n  CollidablePhysicsJob,\r\n  determineJobsAtRest,\r\n  handleCollisionsForJob,\r\n  recordOldCollisionsForDevModeForAllCollidables,\r\n} from '../collisions';\r\nimport {PhysicsState} from './physics-state';\r\nimport {rk4Integrator} from '../integrator';\r\n\r\nconst _FRAME_LATENCY_LOG_PERIOD = 5000;\r\nconst _LATENCY_LOG_LABEL = 'Physics frame duration';\r\n\r\n/**\r\n * This physics engine simulates high-performance, three-dimensional rigid-body dynamics.\r\n *\r\n * Notable features:\r\n * - Includes collision detection with impulse-based resolution.\r\n * - Decouples the physics simulation and animation rendering time steps, and uses a fixed timestep\r\n * for the physics loop. This gives us numerical stability and precise reproducibility.\r\n * - Suppresses linear and angular momenta below a certain threshold.\r\n *\r\n * The engine consists primarily of a collection of individual physics jobs and an update loop. This\r\n * update loop is in turn controlled by the animation loop. However, whereas the animation loop\r\n * renders each job once per frame loop--regardless of how much time actually elapsed since the\r\n * previous frame--the physics loop updates its jobs at a constant rate. To reconcile these frame\r\n * rates, the physics loop runs as many times as is needed in order to catch up to the time of the\r\n * current animation frame. The physics frame rate should be much higher than the animation frame\r\n * rate.\r\n *\r\n * It is VERY IMPORTANT for a PhysicsJob to minimize the runtime of its update step.\r\n *\r\n * ## A note on job order\r\n *\r\n * The integration+collision pipeline handle one job at a time. A consequence of this design\r\n * is that half of the collisions technically represent a false interaction between the state of the\r\n * first object at time t and the state of the second object at time t - 1.\r\n *\r\n * This implementation prevents a more problematic issue. If all objects were first integrated, then\r\n * all objects were checked for collisions, then all collisions were resolved, then the following\r\n * scenario could arise:\r\n * - The next position of object A collides with the previous position of object B, but not with the\r\n *   next position of object B, so object A moves successfully to its new position.\r\n * - The next position of object B collides with the next position of object C, so objects B and C\r\n *   are reset to their previous positions.\r\n * - Object B and C now intersect.\r\n */\r\nclass PhysicsEngine extends PersistentAnimationJob {\r\n  /**\r\n   * Clients should call PhysicsEngine.create instead of instantiating a PhysicsEngine directly.\r\n   *\r\n   * @param {PhysicsConfig} physicsParams\r\n   */\r\n  constructor(physicsParams) {\r\n    super();\r\n\r\n    if (_physicsEngine) {\r\n      throw new Error('Can\\'t instantiate multiple instances of PhysicsEngine.');\r\n    }\r\n\r\n    _physicsEngine = this;\r\n\r\n    this._physicsParams = physicsParams;\r\n    this.integrator = rk4Integrator;\r\n    this._elapsedTime = 0.0;\r\n    this._remainingTime = 0.0;\r\n    this._nonCollidableJobs = [];\r\n    this._collidableJobs = [];\r\n\r\n    if (_util.isInDevMode) {\r\n      this._setUpForInDevMode();\r\n    }\r\n  }\r\n\r\n  /**\r\n   * @param {PhysicsConfig} physicsParams\r\n   */\r\n  static create(physicsParams) {\r\n    new PhysicsEngine(physicsParams);\r\n  }\r\n\r\n  reset() {\r\n    this._elapsedTime = 0.0;\r\n    this._remainingTime = 0.0;\r\n    this._nonCollidableJobs = [];\r\n    this._collidableJobs = [];\r\n  }\r\n\r\n  /**\r\n   * Adds the given PhysicsJob.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   */\r\n  addJob(job) {\r\n    // console.debug(`Starting PhysicsJob`);\r\n\r\n    if (job instanceof CollidablePhysicsJob) {\r\n      this._collidableJobs.push(job);\r\n    } else {\r\n      this._nonCollidableJobs.push(job);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Removes the given PhysicsJob.\r\n   *\r\n   * Throws no error if the job is not registered.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   */\r\n  removeJob(job) {\r\n    // console.debug(`Cancelling PhysicsJob`);\r\n    this._removeJob(job);\r\n  }\r\n\r\n  /**\r\n   * Wraps the draw and update methods in a profiler function that will track the frame latencies.\r\n   *\r\n   * @private\r\n   */\r\n  _setUpForInDevMode() {\r\n    const unwrappedUpdate = this.update.bind(this);\r\n    const latencyProfiler = new FrameLatencyProfiler(_FRAME_LATENCY_LOG_PERIOD, \r\n        this._physicsParams.timeStepDuration, _LATENCY_LOG_LABEL);\r\n    latencyProfiler.start();\r\n\r\n    this.update = (...args) => {\r\n      const beforeTime = performance.now();\r\n      unwrappedUpdate(...args);\r\n      const deltaTime = performance.now() - beforeTime;\r\n      latencyProfiler.recordFrameLatency(deltaTime);\r\n    };\r\n  }\r\n\r\n  /**\r\n   * Update the physics state for the current animation update frame.\r\n   *\r\n   * @param {DOMHighResTimeStamp} currentTime\r\n   * @param {DOMHighResTimeStamp} deltaTime\r\n   */\r\n  update(currentTime, deltaTime) {\r\n    this._remainingTime += deltaTime;\r\n\r\n    // Run as many constant-interval physics updates as are needed for the given animation frame\r\n    // interval.\r\n    while (this._remainingTime >= this._physicsParams.timeStepDuration) {\r\n      this._updateToNextPhysicsFrame();\r\n      this._elapsedTime += this._physicsParams.timeStepDuration;\r\n      this._remainingTime -= this._physicsParams.timeStepDuration;\r\n    }\r\n\r\n    // Calculate the intermediate physics state to use for rendering the current animation frame.\r\n    const partialRatio = this._remainingTime / this._physicsParams.timeStepDuration;\r\n    this._setPartialStateForRenderTimeStepForAllJobs(partialRatio);\r\n  }\r\n\r\n  _updateToNextPhysicsFrame() {\r\n    if (_util.isInDevMode) {\r\n      this._recordOldStatesForAllJobsForDevMode();\r\n      recordOldCollisionsForDevModeForAllCollidables();\r\n    }\r\n\r\n    this._nonCollidableJobs.forEach(this._integratePhysicsStateForJob.bind(this));\r\n    this._collidableJobs.forEach(job => {\r\n      if (!job.isAtRest) {\r\n        this._integratePhysicsStateForCollidableJob(job);\r\n        handleCollisionsForJob(job, this._elapsedTime, this._physicsParams);\r\n      }\r\n    });\r\n\r\n    if (_util.isInDevMode) {\r\n      checkThatNoObjectsCollide();\r\n    }\r\n\r\n    this._suppressLowMomentaForAllJobs();\r\n\r\n    determineJobsAtRest(this._collidableJobs);\r\n  }\r\n\r\n  /**\r\n   * Removes the given job from the collection of active jobs if it exists.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   * @param {number} [index=-1]\r\n   * @private\r\n   */\r\n  _removeJob(job, index = -1) {\r\n    if (job instanceof CollidablePhysicsJob) {\r\n      _removeJobFromCollection(job, index, this._collidableJobs);\r\n    } else {\r\n      _removeJobFromCollection(job, index, this._nonCollidableJobs);\r\n    }\r\n  }\r\n\r\n  /**\r\n   * Update the current physics state for a job for the current physics update frame.\r\n   *\r\n   * This includes applying all forces that have been registered with the physics job.\r\n   *\r\n   * @param {CollidablePhysicsJob} job\r\n   * @private\r\n   */\r\n  _integratePhysicsStateForCollidableJob(job) {\r\n    this._integratePhysicsStateForJob(job);\r\n\r\n    // Update the collidable's position and orientation.\r\n    job.collidable.position = job.currentState.position;\r\n    job.collidable.orientation = job.currentState.orientation;\r\n  }\r\n\r\n  /**\r\n   * Update the current physics state for a job for the current physics update frame.\r\n   *\r\n   * This includes applying all forces that have been registered with the physics job.\r\n   *\r\n   * @param {PhysicsJob} job\r\n   * @private\r\n   */\r\n  _integratePhysicsStateForJob(job) {\r\n    job.previousState.copy(job.currentState);\r\n    this.integrator.integrate(job, this._elapsedTime, this._physicsParams.timeStepDuration);\r\n  }\r\n\r\n  _suppressLowMomentaForAllJobs() {\r\n    this._collidableJobs.forEach(job => _suppressLowMomentaForJob(job,\r\n        this._physicsParams.lowMomentumSuppressionThreshold,\r\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\r\n    this._nonCollidableJobs.forEach(job => _suppressLowMomentaForJob(job,\r\n        this._physicsParams.lowMomentumSuppressionThreshold,\r\n        this._physicsParams.lowAngularMomentumSuppressionThreshold));\r\n  }\r\n\r\n  /**\r\n   * Calculate the intermediate physics state to use for rendering the current animation frame. The\r\n   * given ratio specifies how far the current render frame is between the previous and current\r\n   * physics update frames.\r\n   *\r\n   * @param {number} partialRatio\r\n   * @private\r\n   */\r\n  _setPartialStateForRenderTimeStepForAllJobs(partialRatio) {\r\n    this._collidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\r\n    this._nonCollidableJobs.forEach(_setPartialStateForRenderTimeStepForJob.bind(null, partialRatio));\r\n  }\r\n\r\n  _recordOldStatesForAllJobsForDevMode() {\r\n    this._collidableJobs.forEach(_recordOldStatesForJob);\r\n    this._nonCollidableJobs.forEach(_recordOldStatesForJob);\r\n  }\r\n\r\n  draw() {}\r\n\r\n  /**\r\n   * @returns {PhysicsEngine}\r\n   */\r\n  static get instance() {\r\n    if (!_physicsEngine) {\r\n      throw new Error('Can\\'t access PhysicsEngine.instance before it has been instantiated.');\r\n    }\r\n    return _physicsEngine;\r\n  }\r\n}\r\n\r\n/**\r\n * @param {PhysicsJob} job\r\n * @param {number} lowMomentumSuppressionThreshold\r\n * @param {number} lowAngularMomentumSuppressionThreshold\r\n * @private\r\n */\r\nfunction _suppressLowMomentaForJob(job, lowMomentumSuppressionThreshold,\r\n                                   lowAngularMomentumSuppressionThreshold) {\r\n  const currentState = job.currentState;\r\n\r\n  if (vec3.squaredLength(currentState.momentum) < lowMomentumSuppressionThreshold) {\r\n    vec3.set(currentState.momentum, 0, 0, 0);\r\n  }\r\n\r\n  if (vec3.squaredLength(currentState.angularMomentum) < lowAngularMomentumSuppressionThreshold) {\r\n    vec3.set(currentState.angularMomentum, 0, 0, 0);\r\n  }\r\n}\r\n\r\n/**\r\n * @param {PhysicsJob} job\r\n * @param {number} index\r\n * @param {Array.<PhysicsJob>} jobs\r\n * @private\r\n */\r\nfunction _removeJobFromCollection(job, index, jobs) {\r\n  if (index >= 0) {\r\n    jobs.splice(index, 1);\r\n  } else {\r\n    const count = jobs.length;\r\n    for (index = 0; index < count; index++) {\r\n      if (jobs[index] === job) {\r\n        jobs.splice(index, 1);\r\n        break;\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * @param {number} partialRatio\r\n * @param {PhysicsJob} job\r\n * @private\r\n */\r\nfunction _setPartialStateForRenderTimeStepForJob(partialRatio, job) {\r\n  job.renderState.lerp(job.previousState, job.currentState, partialRatio);\r\n}\r\n\r\n/**\r\n * @param {PhysicsJob} job\r\n * @private\r\n */\r\nfunction _recordOldStatesForJob(job) {\r\n  if (!job.extraPreviousStates) {\r\n    job.extraPreviousStates = [];\r\n    for (let i = 0; i < 4; i++) {\r\n      job.extraPreviousStates[i] = new PhysicsState();\r\n    }\r\n  }\r\n\r\n  for (let i = 3; i > 0; i--) {\r\n    job.extraPreviousStates[i].copy(job.extraPreviousStates[i - 1]);\r\n  }\r\n  job.extraPreviousStates[0].copy(job.previousState);\r\n}\r\n\r\nlet _physicsEngine = null;\r\n\r\nexport {PhysicsEngine};\r\n","import {animator} from 'lsl-animatex';\r\nimport {PhysicsEngine} from './physics-engine';\r\nimport {PhysicsState} from './physics-state';\r\nimport {_util} from '../util';\r\n\r\n/**\r\n * A PhysicsJob maintains a current force/momentum state and defines a method for applying forces at\r\n * a given physics time step.\r\n */\r\nclass PhysicsJob {\r\n  /**\r\n   * @param {Array.<ForceApplier>} [forceAppliers]\r\n   * @param {PhysicsState} [state]\r\n   */\r\n  constructor(forceAppliers, state) {\r\n    forceAppliers = forceAppliers || [];\r\n    state = state || new PhysicsState();\r\n\r\n    this.startTime = null;\r\n    this.currentState = state;\r\n    this.previousState = null;\r\n    this.renderState = null;\r\n    this._forceAppliers = forceAppliers;\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplierOutput} outputParams\r\n   * @param {ForceApplierInput} inputParams\r\n   */\r\n  applyForces(outputParams, inputParams) {\r\n    this._forceAppliers.forEach(forceApplier => forceApplier(outputParams, inputParams));\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplier} forceApplier\r\n   * @param {number} [index=0] The index to add the given force applier in the current list of\r\n   * appliers.\r\n   */\r\n  addForceApplier(forceApplier, index = 0) {\r\n    this._forceAppliers.splice(index, 0, forceApplier);\r\n  }\r\n\r\n  /**\r\n   * @param {ForceApplier} forceApplier\r\n   */\r\n  removeForceApplier(forceApplier) {\r\n    this._forceAppliers.splice(this._forceAppliers.indexOf(forceApplier), 1);\r\n  }\r\n\r\n  /**\r\n   * Registers this PhysicsJob and all of its descendant child jobs with the physics engine.\r\n   *\r\n   * @param {number} [startTime]\r\n   */\r\n  start(startTime) {\r\n    this.startTime = startTime || animator.currentTime;\r\n\r\n    const previousState = new PhysicsState();\r\n    previousState.copy(this.currentState);\r\n    const renderState = new PhysicsState();\r\n    renderState.copy(this.currentState);\r\n\r\n    this.previousState = previousState;\r\n    this.renderState = renderState;\r\n\r\n    if (_util.isInDevMode) {\r\n      // It is useful for debugging to be able to trace the states back to their jobs.\r\n      this.currentState.job = this;\r\n      this.previousState.job = this;\r\n      this.renderState.job = this;\r\n    }\r\n\r\n    PhysicsEngine.instance.addJob(this);\r\n  }\r\n\r\n  /**\r\n   * Unregisters this PhysicsJob and all of its descendant child jobs with the physics engine.\r\n   *\r\n   * Throws no error if the job is not registered.\r\n   */\r\n  finish() {\r\n    PhysicsEngine.instance.removeJob(this);\r\n  }\r\n\r\n  /**\r\n   * @param {number} [startTime]\r\n   */\r\n  restart(startTime) {\r\n    this.finish();\r\n    this.start(startTime);\r\n  }\r\n}\r\n\r\nexport {PhysicsJob};\r\n\r\n/**\r\n * @typedef {Function} ForceApplier\r\n * @property {vec3} force Output.\r\n * @property {vec3} torque Output.\r\n * @property {PhysicsState} state Input.\r\n * @property {number} t Input.\r\n * @property {number} dt Input.\r\n */\r\n\r\n/**\r\n * @typedef {Object} PhysicsConfig\r\n * @property {number} timeStepDuration\r\n * @property {number} gravity\r\n * @property {vec3} _gravityVec\r\n * @property {number} linearDragCoefficient\r\n * @property {number} angularDragCoefficient\r\n * @property {number} coefficientOfRestitution\r\n * @property {number} coefficientOfFriction\r\n * @property {number} lowMomentumSuppressionThreshold\r\n * @property {number} lowAngularMomentumSuppressionThreshold\r\n */\r\n","import {rotateTensor, createBoxInertiaTensor} from '../util';\r\n\r\n/**\r\n * This class represents the state of an object that is needed for a physics simulation (such as\r\n * position, momentum, and mass).\r\n */\r\nclass PhysicsState {\r\n  /**\r\n   * @param {DynamicsConfig} [dynamicsParams={}]\r\n   */\r\n  constructor(dynamicsParams = {}) {\r\n    const position = dynamicsParams.position || vec3.create();\r\n    const momentum = dynamicsParams.momentum || vec3.create();\r\n    const orientation = dynamicsParams.orientation || quat.create();\r\n    const angularMomentum = dynamicsParams.angularMomentum || vec3.create();\r\n    const mass = dynamicsParams.mass || 1;\r\n    const unrotatedInertiaTensor = dynamicsParams.unrotatedInertiaTensor || createBoxInertiaTensor(1, 1, 1, mass);\r\n\r\n    // Constant fields.\r\n\r\n    this.mass = mass;\r\n    this.inverseMass = 1 / mass;\r\n    this.unrotatedInertiaTensor = unrotatedInertiaTensor;\r\n\r\n    // Independent fields.\r\n\r\n    this.position = position;\r\n    this.momentum = momentum;\r\n    this.orientation = orientation;\r\n    this.angularMomentum = angularMomentum;\r\n\r\n    // Dependent fields.\r\n\r\n    // Linear velocity.\r\n    this.velocity = vec3.create();\r\n    // Quaternion-based representation of the rate of change in orientation.\r\n    this.spin = quat.create();\r\n    // Vector-based representation of the angular velocity.\r\n    this.angularVelocity = vec3.create();\r\n    // The inverse inertia tensor rotated to the world coordinate frame.\r\n    this.inverseInertiaTensor = mat3.create();\r\n\r\n    this.updateDependentFields();\r\n  }\r\n\r\n  updateDependentFields() {// TODO: Test this somehow...\r\n    // Update linear velocity.\r\n    vec3.scale(this.velocity, this.momentum, this.inverseMass);\r\n\r\n    // Update angular velocity.\r\n    quat.normalize(this.orientation, this.orientation);\r\n    rotateTensor(this.inverseInertiaTensor, this.unrotatedInertiaTensor, this.orientation);\r\n    mat3.invert(this.inverseInertiaTensor, this.unrotatedInertiaTensor);\r\n    vec3.transformMat3(this.angularVelocity, this.angularMomentum, this.inverseInertiaTensor);\r\n    quat.set(this.spin, this.angularVelocity[0], this.angularVelocity[1],\r\n        this.angularVelocity[2], 0);\r\n    quat.scale(this.spin, this.spin, 0.5);\r\n    quat.multiply(this.spin, this.spin, this.orientation);\r\n  }\r\n\r\n  /**\r\n   * Perform a deep copy.\r\n   *\r\n   * @param {PhysicsState} other\r\n   */\r\n  copy(other) {\r\n    this.mass = other.mass;\r\n    this.inverseMass = other.inverseMass;\r\n    mat3.copy(this.unrotatedInertiaTensor, other.unrotatedInertiaTensor);\r\n    mat3.copy(this.inverseInertiaTensor, other.inverseInertiaTensor);\r\n    vec3.copy(this.position, other.position);\r\n    vec3.copy(this.momentum, other.momentum);\r\n    quat.copy(this.orientation, other.orientation);\r\n    vec3.copy(this.angularMomentum, other.angularMomentum);\r\n    vec3.copy(this.velocity, other.velocity);\r\n    quat.copy(this.spin, other.spin);\r\n    vec3.copy(this.angularVelocity, other.angularVelocity);\r\n  }\r\n\r\n  /**\r\n   * @param {PhysicsState} a\r\n   * @param {PhysicsState} b\r\n   * @param {number} partialRatio\r\n   */\r\n  lerp(a, b, partialRatio) {\r\n    vec3.lerp(this.position, a.position, b.position, partialRatio);\r\n    vec3.lerp(this.momentum, a.momentum, b.momentum, partialRatio);\r\n    quat.slerp(this.orientation, a.orientation, b.orientation, partialRatio);\r\n    quat.normalize(this.orientation, this.orientation);\r\n    vec3.lerp(this.angularMomentum, a.angularMomentum, b.angularMomentum, partialRatio);\r\n    this.updateDependentFields();\r\n  }\r\n}\r\n\r\nexport {PhysicsState};\r\n\r\n/**\r\n * @typedef {Object} DynamicsConfig\r\n * @property {vec3} [position]\r\n * @property {vec3} [momentum]\r\n * @property {quat} [orientation]\r\n * @property {vec3} [angularMomentum]\r\n * @property {number} [mass]\r\n * @property {mat3} [unrotatedInertiaTensor]\r\n */\r\n","export * from './src/force-utils';\r\nexport * from './src/geometry';\r\nexport * from './src/inertia-tensor-utils';\r\nexport * from './src/util';\r\n","/**\r\n * This module defines a collection of static general utility functions for calculating forces.\r\n */\r\n\r\n/**\r\n * @param {GravityApplierConfig} config\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n */\r\nfunction applyGravity(config, output, input) {\r\n  vec3.scaleAndAdd(output.force, output.force, config._gravityVec, input.state.mass);\r\n}\r\n\r\n/**\r\n * @param {LinearDragApplierConfig} config\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n */\r\nfunction applyLinearDrag(config, output, input) {\r\n  const dragMagnitude = -vec3.squaredLength(input.state.velocity) * config.linearDragCoefficient;\r\n  vec3.normalize(_vec3, input.state.velocity);\r\n  vec3.scaleAndAdd(output.force, output.force, _vec3, dragMagnitude);\r\n}\r\n\r\n/**\r\n * @param {AngularDragApplierConfig} config\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n */\r\nfunction applyAngularDrag(config, output, input) {\r\n  vec3.scaleAndAdd(output.torque, output.torque, input.state.angularVelocity,\r\n      config.angularDragCoefficient);\r\n}\r\n\r\n/**\r\n * Applies a simple linear spring force (using Hooke's law).\r\n *\r\n * force = displacement * coefficient\r\n *\r\n * @param {LinearSpringForceApplierConfig} config\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n */\r\nfunction applyLinearSpringForce(config, output, input) {\r\n  vec3.subtract(_vec3, config.getIntendedPosition(), input.state.position);\r\n  vec3.scaleAndAdd(output.force, output.force, _vec3, config.springCoefficient);\r\n}\r\n\r\n/**\r\n * @param {SpringDampingApplierConfig} config\r\n * @param {ForceApplierOutput} output\r\n * @param {ForceApplierInput} input\r\n */\r\nfunction applySpringDamping(config, output, input) {\r\n  vec3.scale(_vec3, input.state.velocity, -config.dampingCoefficient);\r\n  vec3.add(output.force, output.force, _vec3);\r\n}\r\n\r\nconst _vec3 = vec3.create();\r\n\r\nexport {\r\n  applyAngularDrag,\r\n  applyGravity,\r\n  applyLinearDrag,\r\n  applyLinearSpringForce,\r\n  applySpringDamping,\r\n}\r\n\r\n/**\r\n * @typedef {Object} GravityApplierConfig\r\n * @property {vec3} _gravityVec\r\n */\r\n\r\n/**\r\n * @typedef {Object} LinearDragApplierConfig\r\n * @property {number} linearDragCoefficient\r\n */\r\n\r\n/**\r\n * @typedef {Object} AngularDragApplierConfig\r\n * @property {number} angularDragCoefficient\r\n */\r\n\r\n/**\r\n * @typedef {Object} LinearSpringForceApplierConfig\r\n * @property {number} springCoefficient\r\n * @property {Function.<vec3>} getIntendedPosition\r\n */\r\n\r\n/**\r\n * @typedef {Object} SpringDampingApplierConfig\r\n * @property {number} dampingCoefficient\r\n */\r\n","/**\r\n * This module defines a collection of static geometry utility functions.\r\n */\r\n\r\nconst EPSILON = 0.0000001;\r\nconst HALF_PI = Math.PI / 2;\r\nconst TWO_PI = Math.PI * 2;\r\n\r\n/**\r\n * Finds the minimum squared distance between two line segments.\r\n *\r\n * @param {LineSegment} segmentA\r\n * @param {LineSegment} segmentB\r\n * @returns {number}\r\n */\r\nfunction findSquaredDistanceBetweenSegments(segmentA, segmentB) {\r\n  findClosestPointsFromSegmentToSegment(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB,\r\n      segmentA, segmentB);\r\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, _segmentDistance_tmpVecB);\r\n}\r\n\r\n/**\r\n * Finds the minimum squared distance between a line segment and a point.\r\n *\r\n * @param {LineSegment} segment\r\n * @param {vec3} point\r\n * @returns {number}\r\n */\r\nfunction findSquaredDistanceFromSegmentToPoint(segment, point) {\r\n  findClosestPointOnSegmentToPoint(_segmentDistance_tmpVecA, segment, point);\r\n  return vec3.squaredDistance(_segmentDistance_tmpVecA, point);\r\n}\r\n\r\nconst _segmentDistance_tmpVecA = vec3.create();\r\nconst _segmentDistance_tmpVecB = vec3.create();\r\n\r\n/**\r\n * @param {vec3} outputPoint Output parameter.\r\n * @param {Aabb} aabb\r\n * @param {vec3} targetPoint\r\n */\r\nfunction findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint) {\r\n  outputPoint[0] = aabb.minX > targetPoint[0]\r\n      ? aabb.minX\r\n      : aabb.maxX < targetPoint[0]\r\n          ? aabb.maxX\r\n          : targetPoint[0];\r\n  outputPoint[1] = aabb.minY > targetPoint[1]\r\n      ? aabb.minY\r\n      : aabb.maxY < targetPoint[1]\r\n          ? aabb.maxY\r\n          : targetPoint[1];\r\n  outputPoint[2] = aabb.minZ > targetPoint[2]\r\n      ? aabb.minZ\r\n      : aabb.maxZ < targetPoint[2]\r\n          ? aabb.maxZ\r\n          : targetPoint[2];\r\n}\r\n\r\n/**\r\n * @param {vec3} outputPoint Output parameter.\r\n * @param {Aabb} aabb\r\n * @param {vec3} targetPoint\r\n */\r\nfunction findClosestPointFromAabbSurfaceToPoint(outputPoint, aabb, targetPoint) {\r\n  findClosestPointFromAabbToPoint(outputPoint, aabb, targetPoint);\r\n\r\n  // If the calculated point lies within the AABB, then we need to adjust one coordinate to lie\r\n  // along the edge of the AABB.\r\n  if (aabbVsPoint(aabb, outputPoint)) {\r\n    // Calculate the closest vertex.\r\n    _tmpVec1[0] = targetPoint[0] - aabb.minX < aabb.maxX - targetPoint[0]\r\n        ? aabb.minX\r\n        : aabb.maxX;\r\n    _tmpVec1[1] = targetPoint[1] - aabb.minY < aabb.maxY - targetPoint[1]\r\n        ? aabb.minY\r\n        : aabb.maxY;\r\n    _tmpVec1[2] = targetPoint[2] - aabb.minZ < aabb.maxZ - targetPoint[2]\r\n        ? aabb.minZ\r\n        : aabb.maxZ;\r\n\r\n    // Calculate the distance to the vertex along each dimension.\r\n    _tmpVec2[0] = _tmpVec1[0] - outputPoint[0];\r\n    _tmpVec2[0] = _tmpVec2[0] < 0 ? -_tmpVec2[0] : _tmpVec2[0];\r\n    _tmpVec2[1] = _tmpVec1[1] - outputPoint[1];\r\n    _tmpVec2[1] = _tmpVec2[1] < 1 ? -_tmpVec2[1] : _tmpVec2[1];\r\n    _tmpVec2[2] = _tmpVec1[2] - outputPoint[2];\r\n    _tmpVec2[2] = _tmpVec2[2] < 2 ? -_tmpVec2[2] : _tmpVec2[2];\r\n\r\n    // Determine along which dimension the point is closest to the AABB.\r\n    const index = _tmpVec2[0] < _tmpVec2[1]\r\n        ? (_tmpVec2[0] < _tmpVec2[2]\r\n            ? 0\r\n            : 2)\r\n        : (_tmpVec2[1] < _tmpVec2[2]\r\n            ? 1\r\n            : 2);\r\n\r\n    outputPoint[index] = _tmpVec1[index];\r\n  }\r\n}\r\n\r\n/**\r\n * Finds the point of intersection between a line segment and a coplanar quadrilateral.\r\n *\r\n * This assumes the region is not degenerate (has non-zero side lengths).\r\n *\r\n * @param {vec3} poi Output param. Null if there is no intersection.\r\n * @param {LineSegment} segment\r\n * @param {vec3} planeVertex1\r\n * @param {vec3} planeVertex2\r\n * @param {vec3} planeVertex3\r\n * @param {vec3} planeVertex4\r\n * @returns {boolean} True if there is an intersection.\r\n */\r\nfunction findPoiBetweenSegmentAndPlaneRegion(poi, segment, planeVertex1, planeVertex2, planeVertex3,\r\n                                             planeVertex4) {\r\n  return findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex2, planeVertex3) ||\r\n      findPoiBetweenSegmentAndTriangle(poi, segment, planeVertex1, planeVertex3, planeVertex4);\r\n}\r\n\r\n/**\r\n * Finds the point of intersection between a line segment and a triangle.\r\n *\r\n * This assumes the triangle is not degenerate (has non-zero side lengths).\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Dan Sunday's algorithms at http://geomalgorithms.com/a06-_intersect-2.html.\r\n *\r\n * Copyright 2001 softSurfer, 2012 Dan Sunday\r\n * This code may be freely used and modified for any purpose\r\n * providing that this copyright notice is included with it.\r\n * SoftSurfer makes no warranty for this code, and cannot be held\r\n * liable for any real or imagined damage resulting from its use.\r\n * Users of this code must verify correctness for their application.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {vec3} poi Output param. Null if there is no intersection.\r\n * @param {LineSegment} segment\r\n * @param {vec3} triangleVertex1\r\n * @param {vec3} triangleVertex2\r\n * @param {vec3} triangleVertex3\r\n * @returns {boolean} True if there is an intersection.\r\n */\r\nfunction findPoiBetweenSegmentAndTriangle(poi, segment, triangleVertex1, triangleVertex2,\r\n                                          triangleVertex3) {\r\n  //\r\n  // Find the point of intersection between the segment and the triangle's plane.\r\n  //\r\n\r\n  // First triangle edge.\r\n  vec3.subtract(_tmpVec1, triangleVertex2, triangleVertex1);\r\n  // Second triangle edge.\r\n  vec3.subtract(_tmpVec2, triangleVertex3, triangleVertex1);\r\n  // Triangle normal.\r\n  vec3.cross(_tmpVec3, _tmpVec1, _tmpVec2);\r\n  // Triangle to segment.\r\n  vec3.subtract(_tmpVec4, segment.start, triangleVertex1);\r\n\r\n  const normalToSegmentProj = vec3.dot(_tmpVec3, segment.dir);\r\n\r\n  if (normalToSegmentProj < EPSILON && normalToSegmentProj > -EPSILON) {\r\n    // The line segment is parallel to the triangle.\r\n    return false;\r\n  }\r\n\r\n  const normalToDiffProj = -vec3.dot(_tmpVec3, _tmpVec4);\r\n  const segmentNormalizedDistance = normalToDiffProj / normalToSegmentProj;\r\n\r\n  if (segmentNormalizedDistance < 0 || segmentNormalizedDistance > 1) {\r\n    // The line segment ends before intersecting the plane.\r\n    return false;\r\n  }\r\n\r\n  vec3.scaleAndAdd(poi, segment.start, segment.dir, segmentNormalizedDistance);\r\n\r\n  //\r\n  // Determine whether the point of intersection lies within the triangle.\r\n  //\r\n\r\n  const edge1DotEdge1 = vec3.dot(_tmpVec1, _tmpVec1);\r\n  const edge1DotEdge2 = vec3.dot(_tmpVec1, _tmpVec2);\r\n  const edge2DotEdge2 = vec3.dot(_tmpVec2, _tmpVec2);\r\n  // Triangle to point of intersection.\r\n  vec3.subtract(_tmpVec3, poi, triangleVertex1);\r\n  const diffDotEdge1 = vec3.dot(_tmpVec3, _tmpVec1);\r\n  const diffDotEdge2 = vec3.dot(_tmpVec3, _tmpVec2);\r\n  const denominator = edge1DotEdge2 * edge1DotEdge2 - edge1DotEdge1 * edge2DotEdge2;\r\n\r\n  // Check the triangle's parametric coordinates.\r\n  const s = (edge1DotEdge2 * diffDotEdge2 - edge2DotEdge2 * diffDotEdge1) / denominator;\r\n  if (s < 0 || s > 1) {\r\n    return false;\r\n  }\r\n  const t = (edge1DotEdge2 * diffDotEdge1 - edge1DotEdge1 * diffDotEdge2) / denominator;\r\n  if (t < 0 || s + t > 1) {\r\n    return false;\r\n  }\r\n\r\n  return true;\r\n}\r\n\r\n/**\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Jukka Jylnki's algorithm at\r\n * https://github.com/juj/MathGeoLib/blob/1093e39d91def7ff6905fb7489893190d7d81353/src/Geometry/OBB.cpp.\r\n *\r\n * Copyright 2011 Jukka Jylnki\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {vec3} outputPoint Output parameter.\r\n * @param {Obb} obb\r\n * @param {vec3} targetPoint\r\n */\r\nfunction findClosestPointFromObbToPoint(outputPoint, obb, targetPoint) {\r\n  vec3.subtract(_tmpVec1, targetPoint, obb.centerOfVolume);\r\n  vec3.copy(outputPoint, obb.centerOfVolume);\r\n  for (let i = 0; i < 3; i++) {\r\n    // Compute the displacement along this axis.\r\n    let projection = vec3.dot(obb.axes[i], _tmpVec1);\r\n    projection = projection > obb.halfSideLengths[i] ? obb.halfSideLengths[i] :\r\n        (projection < -obb.halfSideLengths[i] ? -obb.halfSideLengths[i] : projection);\r\n    vec3.scaleAndAdd(outputPoint, outputPoint, obb.axes[i], projection);\r\n  }\r\n}\r\n\r\n/**\r\n * Finds the closest position on one line segment to the other line segment, and vice versa.\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Jukka Jylnki's algorithm at\r\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\r\n *\r\n * Copyright 2011 Jukka Jylnki\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {vec3} closestA Output param.\r\n * @param {vec3} closestB Output param.\r\n * @param {LineSegment} segmentA\r\n * @param {LineSegment} segmentB\r\n */\r\nfunction findClosestPointsFromSegmentToSegment(closestA, closestB, segmentA, segmentB) {\r\n  const {distA, distB} = findClosestPointsFromLineToLine(\r\n      segmentA.start, segmentA.dir, segmentB.start, segmentB.dir);\r\n\r\n  const isDistAInBounds = distA >= 0 && distA <= 1;\r\n  const isDistBInBounds = distB >= 0 && distB <= 1;\r\n\r\n  if (isDistAInBounds) {\r\n    if (isDistBInBounds) {\r\n      // The distances along both line segments are within bounds.\r\n      vec3.scaleAndAdd(closestA, segmentA.start, segmentA.dir, distA);\r\n      vec3.scaleAndAdd(closestB, segmentB.start, segmentB.dir, distB);\r\n    } else {\r\n      // Only the distance along the first line segment is within bounds.\r\n      if (distB < 0) {\r\n        vec3.copy(closestB, segmentB.start);\r\n      } else {\r\n        vec3.copy(closestB, segmentB.end);\r\n      }\r\n      findClosestPointOnSegmentToPoint(closestA, segmentA, closestB);\r\n    }\r\n  } else {\r\n    if (isDistBInBounds) {\r\n      // Only the distance along the second line segment is within bounds.\r\n      if (distA < 0) {\r\n        vec3.copy(closestA, segmentA.start);\r\n      } else {\r\n        vec3.copy(closestA, segmentA.end);\r\n      }\r\n      findClosestPointOnSegmentToPoint(closestB, segmentB, closestA);\r\n    } else {\r\n      // Neither of the distances along either line segment are within bounds.\r\n      if (distA < 0) {\r\n        vec3.copy(closestA, segmentA.start);\r\n      } else {\r\n        vec3.copy(closestA, segmentA.end);\r\n      }\r\n\r\n      if (distB < 0) {\r\n        vec3.copy(closestB, segmentB.start);\r\n      } else {\r\n        vec3.copy(closestB, segmentB.end);\r\n      }\r\n\r\n      const altClosestA = vec3.create();\r\n      const altClosestB = vec3.create();\r\n\r\n      findClosestPointOnSegmentToPoint(altClosestA, segmentA, closestB);\r\n      findClosestPointOnSegmentToPoint(altClosestB, segmentB, closestA);\r\n\r\n      if (vec3.squaredDistance(altClosestA, closestB) <\r\n          vec3.squaredDistance(altClosestB, closestA)) {\r\n        vec3.copy(closestA, altClosestA);\r\n      } else {\r\n        vec3.copy(closestB, altClosestB);\r\n      }\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Finds the closest position on a line segment to a point.\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Jukka Jylnki's algorithm at\r\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/LineSegment.cpp.\r\n *\r\n * Copyright 2011 Jukka Jylnki\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {vec3} closestPoint Output param.\r\n * @param {LineSegment} segment\r\n * @param {vec3} point\r\n * @private\r\n */\r\nfunction findClosestPointOnSegmentToPoint(closestPoint, segment, point) {\r\n  const dirSquaredLength = vec3.squaredLength(segment.dir);\r\n\r\n  if (!dirSquaredLength) {\r\n    // The point is at the segment start.\r\n    vec3.copy(closestPoint, segment.start);\r\n  } else {\r\n    // Calculate the projection of the point onto the line extending through the segment.\r\n    vec3.subtract(_tmpVec1, point, segment.start);\r\n    const t = vec3.dot(_tmpVec1, segment.dir) / dirSquaredLength;\r\n\r\n    if (t < 0) {\r\n      // The point projects beyond the segment start.\r\n      vec3.copy(closestPoint, segment.start);\r\n    } else if (t > 1) {\r\n      // The point projects beyond the segment end.\r\n      vec3.copy(closestPoint, segment.end);\r\n    } else {\r\n      // The point projects between the start and end of the segment.\r\n      vec3.scaleAndAdd(closestPoint, segment.start, segment.dir, t);\r\n    }\r\n  }\r\n}\r\n\r\n/**\r\n * Finds the closest position on one line to the other line, and vice versa.\r\n *\r\n * The positions are represented as scalar-value distances from the \"start\" positions of each line.\r\n * These are scaled according to the given direction vectors.\r\n *\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Jukka Jylnki's algorithm at\r\n * https://github.com/juj/MathGeoLib/blob/ff2d348a167008c831ae304483b824647f71fbf6/src/Geometry/Line.cpp.\r\n *\r\n * Copyright 2011 Jukka Jylnki\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n *\r\n * Unless required by applicable law or agreed to in writing, software\r\n * distributed under the License is distributed on an \"AS IS\" BASIS,\r\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\r\n * See the License for the specific language governing permissions and\r\n * limitations under the License.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {vec3} startA The start position of line A.\r\n * @param {vec3} dirA The (unnormalized) direction of line A. Cannot be zero.\r\n * @param {vec3} startB The start position of line B.\r\n * @param {vec3} dirB The (unnormalized) direction of line B. Cannot be zero.\r\n * @returns {{distA: Number, distB: Number}}\r\n */\r\nfunction findClosestPointsFromLineToLine(startA, dirA, startB, dirB) {\r\n  vec3.subtract(_tmpVec1, startA, startB);\r\n  const dirBDotDirAToB = vec3.dot(dirB, _tmpVec1);\r\n  const dirADotDirAToB = vec3.dot(dirA, _tmpVec1);\r\n\r\n  const sqrLenDirB = vec3.squaredLength(dirB);\r\n  const sqrLenDirA = vec3.squaredLength(dirA);\r\n\r\n  const dirADotDirB = vec3.dot(dirA, dirB);\r\n\r\n  const denominator = sqrLenDirA * sqrLenDirB - dirADotDirB * dirADotDirB;\r\n\r\n  const distA = denominator < EPSILON\r\n      ? 0\r\n      : (dirADotDirB * dirBDotDirAToB - sqrLenDirB * dirADotDirAToB) / denominator;\r\n  const distB = (dirBDotDirAToB + dirADotDirB * distA) / sqrLenDirB;\r\n\r\n  return {\r\n    distA: distA,\r\n    distB: distB\r\n  };\r\n}\r\n\r\n/**\r\n * A good description of why we need these special operations for rotating tensors can be found\r\n * here: http://www.randygaul.net/2014/04/09/transformations-change-of-basis-matrix/.\r\n *\r\n * @param {mat3} output Output param.\r\n * @param {mat3} tensor\r\n * @param {quat} rotation\r\n */\r\nfunction rotateTensor(output, tensor, rotation) {// TODO: Test this somehow...\r\n  mat3.fromQuat(_tmpMat, rotation);\r\n  mat3.multiply(output, _tmpMat, tensor);\r\n  mat3.invert(_tmpMat, _tmpMat);\r\n  mat3.multiply(output, output, _tmpMat);\r\n}\r\n\r\n/**\r\n * @param {Aabb} aabb\r\n * @param {vec3} point\r\n * @returns {boolean}\r\n */\r\nfunction aabbVsPoint(aabb, point) {\r\n  return point[0] >= aabb.minX && point[0] <= aabb.maxX &&\r\n      point[1] >= aabb.minY && point[1] <= aabb.maxY &&\r\n      point[2] >= aabb.minZ && point[2] <= aabb.maxZ\r\n}\r\n\r\n/**\r\n * @param {quat} out\r\n * @param {quat} a\r\n * @param {quat} b\r\n * @param {number} scale\r\n * @returns {quat}\r\n */\r\nfunction scaleAndAddQuat(out, a, b, scale) {\r\n  return quat.set(out,\r\n      a[0] + b[0] * scale,\r\n      a[1] + b[1] * scale,\r\n      a[2] + b[2] * scale,\r\n      a[3] + b[3] * scale);\r\n}\r\n\r\n/**\r\n * @param {vec3} a\r\n * @param {vec3} b\r\n * @returns {boolean}\r\n */\r\nfunction areVec3sClose(a, b) {\r\n  for (let i = 0; i < 3; i++) {\r\n    if (a[i] - b[i] > EPSILON || b[i] - a[i] > EPSILON) {\r\n      return false;\r\n    }\r\n  }\r\n  return true;\r\n}\r\n\r\n// Re-used across the geometry utility functions, so we don't instantiate as many vec3 objects.\r\nconst _tmpVec1 = vec3.create();\r\nconst _tmpVec2 = vec3.create();\r\nconst _tmpVec3 = vec3.create();\r\nconst _tmpVec4 = vec3.create();\r\nconst _tmpMat = mat3.create();\r\n\r\n// Exposed to consumers, so they don't have to instantiate as many vec3 objects.\r\nconst tmpVec1 = vec3.create();\r\nconst tmpVec2 = vec3.create();\r\nconst tmpVec3 = vec3.create();\r\nconst tmpVec4 = vec3.create();\r\n\r\nconst _geometry = {\r\n  EPSILON,\r\n  HALF_PI,\r\n  TWO_PI,\r\n  scaleAndAddQuat,\r\n};\r\n\r\nexport {\r\n  _geometry,\r\n  tmpVec1,\r\n  tmpVec2,\r\n  tmpVec3,\r\n  tmpVec4,\r\n  findSquaredDistanceBetweenSegments,\r\n  findSquaredDistanceFromSegmentToPoint,\r\n  findClosestPointFromAabbToPoint,\r\n  findClosestPointFromAabbSurfaceToPoint,\r\n  findPoiBetweenSegmentAndTriangle,\r\n  findPoiBetweenSegmentAndPlaneRegion,\r\n  findClosestPointFromObbToPoint,\r\n  findClosestPointsFromSegmentToSegment,\r\n  findClosestPointOnSegmentToPoint,\r\n  findClosestPointsFromLineToLine,\r\n  rotateTensor,\r\n  aabbVsPoint,\r\n  areVec3sClose,\r\n};\r\n","/**\r\n * This module defines a collection of static utility functions for calculating inertia tensors.\r\n */\r\n\r\nimport {_geometry, rotateTensor} from './geometry';\r\n\r\n/**\r\n * @param {number} radius\r\n * @param {number} mass\r\n * @returns {mat3}\r\n */\r\nfunction createSphereInertiaTensor(radius, mass) {// TODO: Test this somehow...\r\n  const tensor = mat3.create();\r\n  const moment = 2 / 5 * mass * radius * radius;\r\n  tensor[0] = moment;\r\n  tensor[4] = moment;\r\n  tensor[8] = moment;\r\n  return tensor;\r\n}\r\n\r\n/**\r\n * @param {number} rangeX\r\n * @param {number} rangeY\r\n * @param {number} rangeZ\r\n * @param {number} mass\r\n * @returns {mat3}\r\n */\r\nfunction createBoxInertiaTensor(rangeX, rangeY, rangeZ, mass) {// TODO: Test this somehow...\r\n  const tensor = mat3.create();\r\n  const tmp = mass / 12;\r\n  const xRangeSquared = rangeX * rangeX;\r\n  const yRangeSquared = rangeY * rangeY;\r\n  const zRangeSquared = rangeZ * rangeZ;\r\n  tensor[0] = tmp * (yRangeSquared + zRangeSquared);\r\n  tensor[4] = tmp * (xRangeSquared + yRangeSquared);\r\n  tensor[8] = tmp * (xRangeSquared + zRangeSquared);\r\n  return tensor;\r\n}\r\n\r\n/**\r\n * ----------------------------------------------------------------------------\r\n * Originally based on Bojan Lovrovic's algorithm at\r\n * http://www.gamedev.net/page/resources/_/technical/math-and-physics/capsule-inertia-tensor-r3856.\r\n *\r\n * Copyright 2014 Bojan Lovrovic\r\n *\r\n * GameDev.net Open License\r\n * (http://www.gamedev.net/page/resources/_/gdnethelp/gamedevnet-open-license-r2956)\r\n *\r\n * TERMS AND CONDITIONS FOR USE, REPRODUCTION, AND DISTRIBUTION\r\n *\r\n * 1. Definitions.\r\n *\r\n * \"Article\" shall refer to any body of text written by Author which describes and documents the use\r\n * and/or operation of Source. It specifically does not refer to any accompanying Source either\r\n * embedded within the body of text or attached to the article as a file.\r\n *\r\n * \"Author\" means the individual or entity that offers the Work under the terms of this License.\r\n *\r\n * \"License\" shall mean the terms and conditions for use, reproduction, and distribution as defined\r\n * by Sections 1 through 9 of this document.\r\n *\r\n * \"Licensor\" shall mean the copyright owner or entity authorized by the copyright owner that is\r\n * granting the License.\r\n *\r\n * \"You\" (or \"Your\") shall mean an individual or entity exercising permissions granted by this\r\n * License.\r\n *\r\n * \"Source\" shall include all software text source code and configuration files used to create\r\n * executable software\r\n *\r\n * \"Object\" shall mean any Source which has been converted into a machine executable software\r\n *\r\n * \"Work\" consists of both the Article and Source\r\n *\r\n * \"Publisher\" refers to GameDev.net LLC\r\n *\r\n * This agreement is between You and Author, the owner and creator of the Work located at\r\n * Gamedev.net.\r\n *\r\n * 2. Fair Dealing Rights.\r\n *\r\n * Nothing in this License is intended to reduce, limit, or restrict any uses free from copyright or\r\n * rights arising from limitations or exceptions that are provided for in connection with the\r\n * copyright protection under copyright law or other applicable laws.\r\n *\r\n * 3. Grant of Copyright License.\r\n *\r\n * Subject to the terms and conditions of this License, the Author hereby grants to You a perpetual,\r\n * worldwide, non-exclusive, no-charge, royalty-free, irrevocable copyright license to the Work\r\n * under the following stated terms:\r\n * You may not reproduce the Article on any other website outside of Gamedev.net without express\r\n * written permission from the Author\r\n * You may use, copy, link, modify and distribute under Your own terms, binary Object code versions\r\n * based on the Work in your own software\r\n * You may reproduce, prepare derivative Works of, publicly display, publicly perform, sublicense,\r\n * and distribute the Source and such derivative Source in Source form only as part of a larger\r\n * software distribution and provided that attribution to the original Author is granted.\r\n * The origin of this Work must not be misrepresented; you must not claim that you wrote the\r\n * original Source. If you use this Source in a product, an acknowledgment of the Author name would\r\n * be appreciated but is not required.\r\n *\r\n * 4. Restrictions.\r\n *\r\n * The license granted in Section 3 above is expressly made subject to and limited by the following\r\n * restrictions:\r\n * Altered Source versions must be plainly marked as such, and must not be misrepresented as being\r\n * the original software.\r\n * This License must be visibly linked to from any online distribution of the Article by URI and\r\n * using the descriptive text \"Licensed under the GameDev.net Open License\"\r\n * Neither the name of the Author of this Work, nor any of their trademarks or service marks, may be\r\n * used to endorse or promote products derived from this Work without express prior permission of\r\n * the Author\r\n * Except as expressly stated herein, nothing in this License grants any license to Author's\r\n * trademarks, copyrights, patents, trade secrets or any other intellectual property. No license is\r\n * granted to the trademarks of Author even if such marks are included in the Work. Nothing in this\r\n * License shall be interpreted to prohibit Author from licensing under terms different from this\r\n * License any Work that Author otherwise would have a right to license.\r\n *\r\n * 5. Grant of Patent License.\r\n *\r\n * Subject to the terms and conditions of this License, each Contributor hereby grants to You a\r\n * perpetual, worldwide, non-exclusive, no-charge, royalty-free, irrevocable (except as stated in\r\n * this section) patent license to make, have made, use, offer to sell, sell, import, and otherwise\r\n * transfer the Work, where such license applies only to those patent claims licensable by such\r\n * Contributor that are necessarily infringed by their Contribution(s) alone or by combination of\r\n * their Contribution(s) with the Work to which such Contribution(s) was submitted. If You institute\r\n * patent litigation against any entity (including a cross-claim or counterclaim in a lawsuit)\r\n * alleging that the Work or Source incorporated within the Work constitutes direct or contributory\r\n * patent infringement, then any patent licenses granted to You under this License for that Work\r\n * shall terminate as of the date such litigation is filed.\r\n *\r\n * 6. Limitation of Liability.\r\n *\r\n * In no event and under no legal theory, whether in tort (including negligence), contract, or\r\n * otherwise, unless required by applicable law (such as deliberate and grossly negligent acts) or\r\n * agreed to in writing, shall any Author or Publisher be liable to You for damages, including any\r\n * direct, indirect, special, incidental, or consequential damages of any character arising as a\r\n * result of this License or out of the use or inability to use the Work (including but not limited\r\n * to damages for loss of goodwill, work stoppage, computer failure or malfunction, or any and all\r\n * other commercial damages or losses), even if such Author has been advised of the possibility of\r\n * such damages.\r\n *\r\n * 7. DISCLAIMER OF WARRANTY\r\n *\r\n * THE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR IMPLIED, INCLUDING BUT\r\n * NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND\r\n * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM,\r\n * DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\r\n * OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.\r\n *\r\n * 8. Publisher.\r\n *\r\n * The parties hereby confirm that the Publisher shall not, under any circumstances, be responsible\r\n * for and shall not have any liability in respect of the subject matter of this License. The\r\n * Publisher makes no warranty whatsoever in connection with the Work and shall not be liable to You\r\n * or any party on any legal theory for any damages whatsoever, including without limitation any\r\n * general, special, incidental or consequential damages arising in connection to this license. The\r\n * Publisher reserves the right to cease making the Work available to You at any time without notice\r\n *\r\n * 9. Termination\r\n *\r\n * This License and the rights granted hereunder will terminate automatically upon any breach by You\r\n * of the terms of this License. Individuals or entities who have received Deriviative Works from\r\n * You under this License, however, will not have their licenses terminated provided such\r\n * individuals or entities remain in full compliance with those licenses. Sections 1, 2, 6, 7, 8 and\r\n * 9 will survive any termination of this License.\r\n * Subject to the above terms and conditions, the license granted here is perpetual (for the\r\n * duration of the applicable copyright in the Work). Notwithstanding the above, Licensor reserves\r\n * the right to release the Work under different license terms or to stop distributing the Work at\r\n * any time; provided, however that any such election will not serve to withdraw this License (or\r\n * any other license that has been, or is required to be, granted under the terms of this License),\r\n * and this License will continue in full force and effect unless terminated as stated above.\r\n * ----------------------------------------------------------------------------\r\n *\r\n * @param {number} halfDistance\r\n * @param {number} radius\r\n * @param {number} mass\r\n * @returns {mat3}\r\n */\r\nfunction createCapsuleInertiaTensor(halfDistance, radius, mass) {// TODO: Test this somehow...\r\n  const tensor = mat3.create();\r\n\r\n  const cylinderHeight = halfDistance * 2;\r\n  const radiusSquared = radius * radius;\r\n  const cylinderVolume = Math.PI * radiusSquared * cylinderHeight;\r\n  const hemisphereCombinedVolume = 4 / 3 * Math.PI * radiusSquared;\r\n  const cylinderMass = cylinderVolume / (cylinderVolume * hemisphereCombinedVolume) * mass;\r\n  const hemisphereMass = (mass - cylinderMass) / 2;\r\n\r\n  // Contribution from the cylinder.\r\n  tensor[4] = radiusSquared * cylinderMass / 2;\r\n  tensor[0] = tensor[4] / 2 + cylinderMass * cylinderHeight * cylinderHeight / 12;\r\n  tensor[8] = tensor[0];\r\n\r\n  // Contributions from the hemispheres.\r\n  const tmp1 = hemisphereMass * 2 * radiusSquared / 5;\r\n  tensor[4] += tmp1 * 2;\r\n  const tmp2 =\r\n      (tmp1 + hemisphereMass * (halfDistance * halfDistance + 3 / 8 * cylinderHeight * radius)) * 2;\r\n  tensor[0] += tmp2;\r\n  tensor[8] += tmp2;\r\n\r\n  // The above calculations assume the capsule is aligned along the y-axis. However, our default\r\n  // capsule orientation is aligned along the z-axis.\r\n  const rotation = quat.create();\r\n  quat.rotateX(rotation, rotation, _geometry.HALF_PI);\r\n  rotateTensor(tensor, tensor, rotation);\r\n\r\n  return tensor;\r\n}\r\n\r\n/**\r\n * @param {Collidable} collidable\r\n * @param {number} mass\r\n * @returns {mat3}\r\n */\r\nfunction createForCollidable(collidable, mass) {\r\n  switch (collidable.constructor.name) {\r\n    case 'Sphere':\r\n      return createSphereInertiaTensor(collidable.radius, mass);\r\n    case 'Aabb':\r\n      return createBoxInertiaTensor(collidable.rangeX, collidable.rangeY, collidable.rangeZ, mass);\r\n    case 'Capsule':\r\n      return createCapsuleInertiaTensor(collidable.halfDistance, collidable.radius, mass);\r\n    case 'Obb':\r\n      return createBoxInertiaTensor(collidable.halfSideLengths[0] * 2,\r\n          collidable.halfSideLengths[1] * 2, collidable.halfSideLengths[2] * 2, mass);\r\n  }\r\n}\r\n\r\nexport {\r\n  createSphereInertiaTensor,\r\n  createBoxInertiaTensor,\r\n  createCapsuleInertiaTensor,\r\n  createForCollidable,\r\n};\r\n","/**\r\n * This module defines a collection of static general utility functions.\r\n */\r\n\r\n// TODO: This should be set from somewhere else (probably as a param to controller like before; but then I need to make this updatable)\r\nconst isInDevMode = true;\r\n\r\nconst _util = {\r\n  isInDevMode: isInDevMode\r\n};\r\n\r\nexport {\r\n  _util,\r\n};\r\n"],"preExistingComment":"//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm5vZGVfbW9kdWxlcy9icm93c2VyLXBhY2svX3ByZWx1ZGUuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvYW5pbWF0aW9uLWpvYi5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2FuaW1hdG9yLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvZnJhbWUtbGF0ZW5jeS1wcm9maWxlci5qcyIsIm5vZGVfbW9kdWxlcy9sc2wtYW5pbWF0ZXgvc3JjL2luZGV4LmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvcGVyc2lzdGVudC1hbmltYXRpb24tam9iLmpzIiwibm9kZV9tb2R1bGVzL2xzbC1hbmltYXRleC9zcmMvdHJhbnNpZW50LWFuaW1hdGlvbi1qb2IuanMiLCJub2RlX21vZHVsZXMvbHNsLWFuaW1hdGV4L3NyYy91dGlsLmpzIiwic3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvaW5kZXguanMiLCJzcmMvY29sbGlzaW9ucy9jb2xsaWRhYmxlcy9zcmMvYWFiYi1jb2xsaWRhYmxlLmpzIiwic3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2NhcHN1bGUtY29sbGlkYWJsZS5qcyIsInNyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9jb2xsaWRhYmxlLmpzIiwic3JjL2NvbGxpc2lvbnMvY29sbGlkYWJsZXMvc3JjL2xpbmUtc2VnbWVudC5qcyIsInNyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9vYmItY29sbGlkYWJsZS5qcyIsInNyYy9jb2xsaXNpb25zL2NvbGxpZGFibGVzL3NyYy9zcGhlcmUtY29sbGlkYWJsZS5qcyIsInNyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vaW5kZXguanMiLCJzcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJzcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9jYXBzdWxlLWNvbGxpc2lvbi1kZXRlY3Rpb24uanMiLCJzcmMvY29sbGlzaW9ucy9jb2xsaXNpb24tZGV0ZWN0aW9uL3NyYy9vYmItY29sbGlzaW9uLWRldGVjdGlvbi5qcyIsInNyYy9jb2xsaXNpb25zL2NvbGxpc2lvbi1kZXRlY3Rpb24vc3JjL3NwaGVyZS1jb2xsaXNpb24tZGV0ZWN0aW9uLmpzIiwic3JjL2NvbGxpc2lvbnMvY29udGFjdC1jYWxjdWxhdGlvbi9pbmRleC5qcyIsInNyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbi5qcyIsInNyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbi5qcyIsInNyYy9jb2xsaXNpb25zL2NvbnRhY3QtY2FsY3VsYXRpb24vc3JjL29iYi1jb250YWN0LWNhbGN1bGF0aW9uLmpzIiwic3JjL2NvbGxpc2lvbnMvY29udGFjdC1jYWxjdWxhdGlvbi9zcmMvc3BoZXJlLWNvbnRhY3QtY2FsY3VsYXRpb24uanMiLCJzcmMvY29sbGlzaW9ucy9pbmRleC5qcyIsInNyYy9jb2xsaXNpb25zL3NyYy9jb2xsaWRhYmxlLWZhY3Rvcmllcy5qcyIsInNyYy9jb2xsaXNpb25zL3NyYy9jb2xsaWRhYmxlLXBoeXNpY3Mtam9iLmpzIiwic3JjL2NvbGxpc2lvbnMvc3JjL2NvbGxpZGFibGUtc3RvcmUuanMiLCJzcmMvY29sbGlzaW9ucy9zcmMvY29sbGlzaW9uLWhhbmRsZXIuanMiLCJzcmMvY29sbGlzaW9ucy9zcmMvY29sbGlzaW9uLXV0aWxzLmpzIiwic3JjL2luZGV4LmpzIiwic3JjL2ludGVncmF0b3IvaW5kZXguanMiLCJzcmMvaW50ZWdyYXRvci9zcmMvaW50ZWdyYXRvci5qcyIsInNyYy9pbnRlZ3JhdG9yL3NyYy9yazQtaW50ZWdyYXRvci5qcyIsInNyYy9zcmMvcGh5c2ljcy1lbmdpbmUuanMiLCJzcmMvc3JjL3BoeXNpY3Mtam9iLmpzIiwic3JjL3NyYy9waHlzaWNzLXN0YXRlLmpzIiwic3JjL3V0aWwvaW5kZXguanMiLCJzcmMvdXRpbC9zcmMvZm9yY2UtdXRpbHMuanMiLCJzcmMvdXRpbC9zcmMvZ2VvbWV0cnkuanMiLCJzcmMvdXRpbC9zcmMvaW5lcnRpYS10ZW5zb3ItdXRpbHMuanMiLCJzcmMvdXRpbC9zcmMvdXRpbC5qcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTs7Ozs7Ozs7O0FDQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBOzs7Ozs7Ozs7Ozs7O0FDQUE7Ozs7O0lBS00sWTtBQUNKOzs7QUFHQSx3QkFBWSxVQUFaLEVBQXdCO0FBQUE7O0FBQ3RCO0FBQ0EsUUFBSSxJQUFJLE1BQUosS0FBZSxZQUFuQixFQUFpQztBQUMvQixZQUFNLElBQUksU0FBSixDQUFjLGtEQUFkLENBQU47QUFDRDs7QUFFRCxTQUFLLFVBQUwsR0FBa0IsQ0FBbEI7QUFDQSxTQUFLLFdBQUwsR0FBbUIsSUFBbkI7QUFDQSxTQUFLLFdBQUwsR0FBbUIsVUFBbkI7QUFDRDs7QUFFRDs7Ozs7Ozs7Ozs7QUFTQTs7Ozs7MEJBS00sUyxFQUFXO0FBQ2YsV0FBSyxVQUFMLEdBQWtCLFNBQWxCO0FBQ0EsV0FBSyxXQUFMLEdBQW1CLEtBQW5CO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7OzsyQkFTTyxXLEVBQWEsUyxFQUFXO0FBQzdCO0FBQ0EsWUFBTSxJQUFJLFNBQUosQ0FBYyx3QkFBZCxDQUFOO0FBQ0Q7O0FBRUQ7Ozs7Ozs7Ozs7MkJBT087QUFDTDtBQUNBLFlBQU0sSUFBSSxTQUFKLENBQWMsd0JBQWQsQ0FBTjtBQUNEOztBQUVEOzs7Ozs7OzsyQkFLTyxXLEVBQWE7QUFDbEIsY0FBUSxHQUFSLENBQWUsS0FBSyxXQUFMLENBQWlCLElBQWhDLFVBQXdDLGNBQWMsV0FBZCxHQUE0QixXQUFwRTs7QUFFQSxXQUFLLFdB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QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGFBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGNBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxlQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFDQSxPQUFBLElBQUEsQ0FBQSxpQkFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGtCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUNMQSxJQUFBLGNBQUEsUUFBQSxjQUFBLENBQUE7O0FBQ0EsSUFBQSxlQUFBLFFBQUEsZ0JBQUEsQ0FBQTs7QUFDQSxJQUFBLFFBQUEsUUFBQSxlQUFBLENBQUE7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBRUE7Ozs7Ozs7SUFPTSxPOzs7QUFDSjs7Ozs7Ozs7OztBQVVBLFdBQUEsSUFBQSxDQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFBLElBQUEsRUFBQSxJQUFBLEVBQUEsSUFBQSxFQUFrRjtBQUFBLFFBQWxDLGVBQWtDLFVBQUEsTUFBQSxHQUFBLENBQUEsSUFBQSxVQUFBLENBQUEsTUFBQSxTQUFB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QTs7QUFFQSxXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEtBQUEsQ0FBVyxNQUFYLE9BQUEsRUFBb0IsTUFBcEIsT0FBQTtBQUNBLFVBQUksU0FBSixJQUFJLENBQUosRUFBb0IsT0FBQSxJQUFBOztBQUVwQixXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEtBQUEsQ0FBVyxNQUFYLE9BQUEsRUFBb0IsTUFBcEIsT0FBQTtBQUNBLFVBQUksU0FBSixJQUFJLENBQUosRUFBb0IsT0FBQSxJQUFBOztBQUVwQixXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEtBQUEsQ0FBVyxNQUFYLE9BQUEsRUFBb0IsTUFBcEIsT0FBQTtBQUNBLFVBQUksU0FBSixJQUFJLENBQUosRUFBb0IsT0FBQSxJQUFBOztBQUVwQixXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJQUFBLEVBQXdDLEtBQXhDLElBQUE7QUFDQSxXQUFBLEdBQUEsQ0FBUyxNQUFULE9BQUEsRUFBa0IsS0FBbEIsSUFBQSxFQUE2QixLQUE3QixJ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QSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsYUFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsbUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxvQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsbUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxvQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBRUEsT0FBQSxJQUFBLENBQUEsb0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxxQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEscUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxzQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsZ0JBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxpQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsaUJBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxrQkFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsZUFBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLGdCQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7Ozs7Ozs7QUNKQSxJQUFBLGVBQUEsUUFBQSxnQkFBQSxDQUFBOztBQUtBLElBQUEsUUFBQSxRQUFBLFlBQUEsQ0FBQTs7QUFFQTs7Ozs7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SUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFlBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLEtBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEsRUFBQTtBQUFBLGdCQUFBLElBQUE7QUFBQSxTQUFBLFNBQUEsR0FBQSxHQUFBO0FBQUEsYUFBQSxNQUFBLEdBQUEsQ0FBQTtBQUFBO0FBQUEsR0FBQTtBQUFBLENBQUE7Ozs7QUFFQSxPQUFBLElBQUEsQ0FBQSxjQUFBLEVBQUEsT0FBQSxDQUFBLFVBQUEsR0FBQSxFQUFBO0FBQUEsTUFBQSxRQUFBLFNBQUEsSUFBQSxRQUFBLFlBQUEsRUFBQTtBQUFBLFNBQUEsY0FBQSxDQUFBLE9BQUEsRUFBQSxHQUFBLEVBQUE7QUFBQSxnQkFBQSxJQUFBO0FBQUEsU0FBQSxTQUFBLEdBQUEsR0FBQTtBQUFBLGFBQUEsZUFBQSxHQUFBLENBQUE7QUFBQTtBQUFBLEdBQUE7QUFBQSxDQUFBOzs7O0FBQ0EsT0FBQSxJQUFBLENBQUEsV0FBQSxFQUFBLE9BQUEsQ0FBQSxVQUFBLEdBQUEsRUFBQTtBQUFBLE1BQUEsUUFBQSxTQUFBLElBQUEsUUFBQSxZQUFBLEVBQUE7QUFBQSxTQUFBLGNBQUEsQ0FBQSxPQUFBLEVBQUEsR0FBQSxFQUFBO0FBQUEsZ0JBQUEsSUFBQTtBQUFBLFNBQUEsU0FBQSxHQUFBLEdBQUE7QUFBQSxhQUFBLFlBQUEsR0FBQSxDQUFBO0FBQUE7QUFBQSxHQUFBO0FBQUEsQ0FBQTs7OztBQUNBLE9BQUEsSUFBQSxDQUFBLGFBQUEsRUFBQSxPQUFBLENBQUEsVUFBQSxHQUFBLEVBQUE7QUFBQSxNQUFBLFFBQUEsU0FBQSxJQUFBLFFBQUEsWUFBQSxFQUFBO0FBQUEsU0FBQSxjQUFBLENBQUEsT0FBQSxFQUFBLEdBQUEs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QkFBQSxDQUFBLFVBQUEsRUFBQSxJQUFBLEVBQStDO0FBQzdDLFVBQVEsV0FBQSxXQUFBLENBQVIsSUFBQTtBQUNFLFNBQUEsUUFBQTtBQUNFLGFBQU8sMEJBQTBCLFdBQTFCLE1BQUEsRUFBUCxJQUFPLENBQVA7QUFDRixTQUFBLE1BQUE7QUFDRSxhQUFPLHVCQUF1QixXQUF2QixNQUFBLEVBQTBDLFdBQTFDLE1BQUEsRUFBNkQsV0FBN0QsTUFBQSxFQUFQLElBQU8sQ0FBUDtBQUNGLFNBQUEsU0FBQTtBQUNFLGFBQU8sMkJBQTJCLFdBQTNCLFlBQUEsRUFBb0QsV0FBcEQsTUFBQSxFQUFQLElBQU8sQ0FBUDtBQUNGLFNBQUEsS0FBQTtBQUNFLGFBQU8sdUJBQXVCLFdBQUEsZUFBQSxDQUFBLENBQUEsSUFBdkIsQ0FBQSxFQUNILFdBQUEsZUFBQSxDQUFBLENBQUEsSUFERyxDQUFBLEVBQ2dDLFdBQUEsZUFBQSxDQUFBLENBQUEsSUFEaEMsQ0FBQSxFQUFQLElBQU8sQ0FBUDtBQVJKO0FBV0Q7O1FBR0MseUIsR0FBQSx5QjtRQUNBLHNCLEdBQUEsc0I7UUFDQSwwQixHQUFBLDBCO1FBQ0EsbUIsR0FBQSxtQjs7Ozs7Ozs7QUMzT0Y7Ozs7QUFJQTtBQUNBLElBQU0sY0FBTixJQUFBOztBQUVBLElBQU0sUUFBUTtBQUNaLGVBQWE7QUFERCxDQUFkOztRQUtFLEssR0FBQSxLIiwiZmlsZSI6ImdlbmVyYXRlZC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzQ29udGVudCI6WyIoZnVuY3Rpb24oKXtmdW5jdGlvbiByKGUsbix0KXtmdW5jdGlvbiBvKGksZil7aWYoIW5baV0pe2lmKCFlW2ldKXt2YXIgYz1cImZ1bmN0aW9uXCI9PXR5cGVvZiByZXF1aXJlJiZyZXF1aXJlO2lmKCFmJiZjKXJldHVybiBjKGksITApO2lmKHUpcmV0dXJuIHUoaSwhMCk7dmFyIGE9bmV3IEVycm9yKFwiQ2Fubm90IGZpbmQgbW9kdWxlICdcIitpK1wiJ1wiKTt0aHJvdyBhLmNvZGU9XCJNT0RVTEVfTk9UX0ZPVU5EXCIsYX12YXIgcD1uW2ldPXtleHBvcnRzOnt9fTtlW2ldWzBdLmNhbGwocC5leHBvcnRzLGZ1bmN0aW9uKHIpe3ZhciBuPWVbaV1bMV1bcl07cmV0dXJuIG8obnx8cil9LHAscC5leHBvcnRzLHIsZSxuLHQpfXJldHVybiBuW2ldLmV4cG9ydHN9Zm9yKHZhciB1PVwiZnVuY3Rpb25cIj09dHlwZW9mIHJlcXVpcmUmJnJlcXVpcmUsaT0wO2k8dC5sZW5ndGg7aSsrKW8odFtpXSk7cmV0dXJuIG99cmV0dXJuIHJ9KSgpIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMnO1xuIiwiLyoqXG4gKiBBbiBBbmltYXRpb25Kb2IgaXMgdXNlZCB3aXRoIHRoZSBhbmltYXRvciBjb250cm9sbGVyIHRvIHVwZGF0ZSBhbmQgcmUtZHJhdyBzb21ldGhpbmcgZWFjaCBmcmFtZS5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIC8vIEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IEFuaW1hdGlvbkpvYikge1xuICAgICAgdGhyb3cgbmV3IFR5cGVFcnJvcignQ2Fubm90IGNvbnN0cnVjdCBBbmltYXRpb25Kb2IgaW5zdGFuY2VzIGRpcmVjdGx5Jyk7XG4gICAgfVxuXG4gICAgdGhpcy5fc3RhcnRUaW1lID0gMDtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcbiAgICB0aGlzLl9vbkNvbXBsZXRlID0gb25Db21wbGV0ZTtcbiAgfVxuXG4gIC8qKlxuICAgKiBJbmRpY2F0ZXMgd2hldGhlciB0aGlzIEFuaW1hdGlvbkpvYiBpcyBjb21wbGV0ZS5cbiAgICpcbiAgICogQHJldHVybiB7Ym9vbGVhbn1cbiAgICovXG4gIGdldCBpc0NvbXBsZXRlKCkge1xuICAgIHJldHVybiB0aGlzLl9pc0NvbXBsZXRlO1xuICB9XG5cbiAgLyoqXG4gICAqIFNldHMgdGhpcyBBbmltYXRpb25Kb2IgYXMgc3RhcnRlZC5cbiAgICpcbiAgICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBzdGFydFRpbWVcbiAgICovXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xuICAgIHRoaXMuX3N0YXJ0VGltZSA9IHN0YXJ0VGltZTtcbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gZmFsc2U7XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyB0aGUgYW5pbWF0aW9uIHByb2dyZXNzIG9mIHRoaXMgQW5pbWF0aW9uSm9iIHRvIG1hdGNoIHRoZSBnaXZlbiB0aW1lLlxuICAgKlxuICAgKiBUaGlzIGlzIGNhbGxlZCBmcm9tIHRoZSBvdmVyYWxsIGFuaW1hdGlvbiBsb29wLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBhYnN0cmFjdFxuICAgKi9cbiAgdXBkYXRlKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyB0aGUgY3VycmVudCBzdGF0ZSBvZiB0aGlzIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogVGhpcyBpcyBjYWxsZWQgZnJvbSB0aGUgb3ZlcmFsbCBhbmltYXRpb24gbG9vcC5cbiAgICpcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICBkcmF3KCkge1xuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xuICB9XG5cbiAgLyoqXG4gICAqIEhhbmRsZXMgYW55IG5lY2Vzc2FyeSBzdGF0ZSBmb3IgdGhpcyBBbmltYXRpb25Kb2IgYmVpbmcgZmluaXNoZWQuXG4gICAqXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNDYW5jZWxsZWRcbiAgICovXG4gIGZpbmlzaChpc0NhbmNlbGxlZCkge1xuICAgIGNvbnNvbGUubG9nKGAke3RoaXMuY29uc3RydWN0b3IubmFtZX0gJHtpc0NhbmNlbGxlZCA/ICdjYW5jZWxsZWQnIDogJ2NvbXBsZXRlZCd9YCk7XG5cbiAgICB0aGlzLl9pc0NvbXBsZXRlID0gdHJ1ZTtcblxuICAgIGlmICh0aGlzLl9vbkNvbXBsZXRlKSB7XG4gICAgICB0aGlzLl9vbkNvbXBsZXRlKCk7XG4gICAgfVxuICB9XG59XG5cbmV4cG9ydCB7QW5pbWF0aW9uSm9ifTtcbiIsImltcG9ydCB7RnJhbWVMYXRlbmN5UHJvZmlsZXJ9IGZyb20gJy4vZnJhbWUtbGF0ZW5jeS1wcm9maWxlcic7XG5pbXBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9IGZyb20gJy4vcGVyc2lzdGVudC1hbmltYXRpb24tam9iJztcbmltcG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifSBmcm9tICcuL3RyYW5zaWVudC1hbmltYXRpb24tam9iJztcblxuY29uc3QgX0RFTFRBX1RJTUVfVVBQRVJfVEhSRVNIT0xEID0gMjAwO1xuY29uc3QgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xEID0gMTAwMCAvIDMwO1xuY29uc3QgX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCA9IDUwMDA7XG5jb25zdCBfTEFURU5DWV9MT0dfTEFCRUwgPSAnQW5pbWF0aW9uIGZyYW1lIHBlcmlvZCc7XG5cbi8qKlxuICogVGhpcyBjbGFzcyBoYW5kbGVzIHRoZSBhbmltYXRpb24gbG9vcC5cbiAqXG4gKiBUaGlzIGNsYXNzJ3MgcmVzcG9uc2liaWxpdGllcyBpbmNsdWRlOlxuICogLSB1cGRhdGluZyBtb2R1bGVzIGZvciB0aGUgY3VycmVudCBmcmFtZSxcbiAqIC0gZHJhd2luZyByZW5kZXJhYmxlcyBmb3IgdGhlIGN1cnJlbnQgZnJhbWUsXG4gKiAtIHN0YXJ0aW5nIGFuZCBzdG9wcGluZyB0cmFuc2llbnQgYW5pbWF0aW9uIGpvYnMsXG4gKiAtIGNhcHBpbmcgdGltZSBzdGVwIGR1cmF0aW9ucyBhdCBhIG1heCB0aHJlc2hvbGQuXG4gKi9cbmNsYXNzIEFuaW1hdG9yIHtcbiAgY29uc3RydWN0b3IoKSB7XG4gICAgdGhpcy5fam9icyA9IFtdO1xuICAgIHRoaXMuX3ByZXZpb3VzVGltZSA9IG51bGw7XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHRoaXMuX3JlcXVlc3RBbmltYXRpb25GcmFtZUlkID0gbnVsbDtcbiAgICB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSA9IDA7XG4gICAgdGhpcy5fbGFzdFVucGF1c2VUaW1lID0gbnVsbDtcbiAgICB0aGlzLl9sYXRlbmN5UHJvZmlsZXIgPSBuZXcgRnJhbWVMYXRlbmN5UHJvZmlsZXIoX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCxcbiAgICAgICAgX0ZSQU1FX0RVUkFUSU9OX1dBUk5JTkdfVEhSRVNIT0xELCBfTEFURU5DWV9MT0dfTEFCRUwpO1xuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgZ2l2ZW4gQW5pbWF0aW9uSm9iLlxuICAgKlxuICAgKiBAcGFyYW0ge0FuaW1hdGlvbkpvYn0gam9iXG4gICAqL1xuICBzdGFydEpvYihqb2IpIHtcbiAgICAvLyBJcyB0aGlzIGEgcmVzdGFydD9cbiAgICBpZiAoIWpvYi5pc0NvbXBsZXRlKSB7XG4gICAgICBjb25zb2xlLmRlYnVnKGBSZXN0YXJ0aW5nIEFuaW1hdGlvbkpvYjogJHtqb2IuY29uc3RydWN0b3IubmFtZX1gKTtcblxuICAgICAgaWYgKGpvYiBpbnN0YW5jZW9mIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgICAgam9iLnJlc2V0KCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBqb2IuZmluaXNoKHRydWUpO1xuICAgICAgICBqb2Iuc3RhcnQod2luZG93LnBlcmZvcm1hbmNlLm5vdygpKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY29uc29sZS5kZWJ1ZyhgU3RhcnRpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgICBqb2Iuc3RhcnQodGhpcy5fcHJldmlvdXNUaW1lKTtcbiAgICAgIHRoaXMuX2pvYnMucHVzaChqb2IpO1xuICAgIH1cblxuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICB9XG5cbiAgLyoqXG4gICAqIENhbmNlbHMgdGhlIGdpdmVuIEFuaW1hdGlvbkpvYi5cbiAgICpcbiAgICogQHBhcmFtIHtBbmltYXRpb25Kb2J9IGpvYlxuICAgKi9cbiAgY2FuY2VsSm9iKGpvYikge1xuICAgIGNvbnNvbGUuZGVidWcoYENhbmNlbGxpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuICAgIGpvYi5maW5pc2godHJ1ZSk7XG4gIH1cblxuICAvKipcbiAgICogQ2FuY2VscyBhbGwgcnVubmluZyBBbmltYXRpb25Kb2JzLlxuICAgKi9cbiAgY2FuY2VsQWxsKCkge1xuICAgIHdoaWxlICh0aGlzLl9qb2JzLmxlbmd0aCkge1xuICAgICAgdGhpcy5jYW5jZWxKb2IodGhpcy5fam9ic1swXSk7XG4gICAgfVxuICB9XG5cbiAgLyoqIEByZXR1cm5zIHtET01IaWdoUmVzVGltZVN0YW1wfSAqL1xuICBnZXQgY3VycmVudFRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgfVxuXG4gIC8qKiBAcmV0dXJucyB7Ym9vbGVhbn0gKi9cbiAgZ2V0IGlzUGF1c2VkKCkge1xuICAgIHJldHVybiB0aGlzLl9pc1BhdXNlZDtcbiAgfVxuXG4gIHBhdXNlKCkge1xuICAgIHRoaXMuX3N0b3BBbmltYXRpb25Mb29wKCk7XG4gICAgY29uc29sZS5kZWJ1ZygnQW5pbWF0b3IgcGF1c2VkJyk7XG4gIH1cblxuICB1bnBhdXNlKCkge1xuICAgIHRoaXMuX3N0YXJ0QW5pbWF0aW9uTG9vcCgpO1xuICAgIGNvbnNvbGUuZGVidWcoJ0FuaW1hdG9yIHVucGF1c2VkJyk7XG4gIH1cblxuICAvKipcbiAgICogVGhpcyBpcyB0aGUgYW5pbWF0aW9uIGxvb3AgdGhhdCBkcml2ZXMgYWxsIG9mIHRoZSBhbmltYXRpb24uXG4gICAqXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSB7XG4gICAgLy8gV2hlbiBwYXVzaW5nIGFuZCByZXN0YXJ0aW5nLCBpdCdzIHBvc3NpYmxlIGZvciB0aGUgcHJldmlvdXMgdGltZSB0byBiZSBzbGlnaHRseSBpbmNvbnNpc3RlbnRcbiAgICAvLyB3aXRoIHRoZSBhbmltYXRpb25GcmFtZSB0aW1lLlxuICAgIGlmIChjdXJyZW50VGltZSA8IHRoaXMuX3ByZXZpb3VzVGltZSkge1xuICAgICAgdGhpcy5fcHJldmlvdXNUaW1lID0gY3VycmVudFRpbWUgLSAxO1xuICAgIH1cblxuICAgIGxldCBkZWx0YVRpbWUgPSBjdXJyZW50VGltZSAtIHRoaXMuX3ByZXZpb3VzVGltZTtcbiAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSBjdXJyZW50VGltZTtcblxuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5yZWNvcmRGcmFtZUxhdGVuY3koZGVsdGFUaW1lKTtcblxuICAgIC8vIExhcmdlIGRlbGF5cyBiZXR3ZWVuIGZyYW1lcyBjYW4gY2F1c2UgbGVhZCB0byBpbnN0YWJpbGl0eSBpbiB0aGUgc3lzdGVtLCBzbyB0aGlzIGNhcHMgdGhlbSB0b1xuICAgIC8vIGEgbWF4IHRocmVzaG9sZC5cbiAgICBkZWx0YVRpbWUgPSBkZWx0YVRpbWUgPiBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgP1xuICAgICAgICBfREVMVEFfVElNRV9VUFBFUl9USFJFU0hPTEQgOiBkZWx0YVRpbWU7XG5cbiAgICBpZiAoIXRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZShjdXJyZW50VGltZSA9PiB0aGlzLl9hbmltYXRpb25Mb29wKGN1cnJlbnRUaW1lKSk7XG4gICAgICB0aGlzLl91cGRhdGVKb2JzKGN1cnJlbnRUaW1lLCBkZWx0YVRpbWUpO1xuICAgICAgdGhpcy5fZHJhd0pvYnMoKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogVXBkYXRlcyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGN1cnJlbnRUaW1lXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gZGVsdGFUaW1lXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfdXBkYXRlSm9icyhjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XG4gICAgZm9yIChsZXQgaSA9IDAsIGNvdW50ID0gdGhpcy5fam9icy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XG4gICAgICBsZXQgam9iID0gdGhpcy5fam9ic1tpXTtcblxuICAgICAgLy8gUmVtb3ZlIGpvYnMgZnJvbSB0aGUgbGlzdCBhZnRlciB0aGV5IGFyZSBjb21wbGV0ZS5cbiAgICAgIGlmIChqb2IuaXNDb21wbGV0ZSkge1xuICAgICAgICB0aGlzLl9yZW1vdmVKb2Ioam9iLCBpKTtcbiAgICAgICAgaS0tO1xuICAgICAgICBjb3VudC0tO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH1cblxuICAgICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgam9iIGlzIHRyYW5zaWVudCBhbmQgaGFzIHJlYWNoZWQgaXRzIGVuZC5cbiAgICAgIGlmIChqb2IgaW5zdGFuY2VvZiBUcmFuc2llbnRBbmltYXRpb25Kb2IgJiYgam9iLmVuZFRpbWUgPCBjdXJyZW50VGltZSkge1xuICAgICAgICBqb2IuZmluaXNoKGZhbHNlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGpvYi51cGRhdGUoY3VycmVudFRpbWUsIGRlbHRhVGltZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIGpvYiBmcm9tIHRoZSBjb2xsZWN0aW9uIG9mIGFjdGl2ZSwgYW5pbWF0aW5nIGpvYnMuXG4gICAqXG4gICAqIEBwYXJhbSB7QW5pbWF0aW9uSm9ifSBqb2JcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtpbmRleD0tMV1cbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9yZW1vdmVKb2Ioam9iLCBpbmRleCA9IC0xKSB7XG4gICAgY29uc29sZS5kZWJ1ZyhgUmVtb3ZpbmcgQW5pbWF0aW9uSm9iOiAke2pvYi5jb25zdHJ1Y3Rvci5uYW1lfWApO1xuXG4gICAgaWYgKGluZGV4ID49IDApIHtcbiAgICAgIHRoaXMuX2pvYnMuc3BsaWNlKGluZGV4LCAxKTtcbiAgICB9IGVsc2Uge1xuICAgICAgY29uc3QgY291bnQgPSB0aGlzLl9qb2JzLmxlbmd0aDtcbiAgICAgIGZvciAoaW5kZXggPSAwOyBpbmRleCA8IGNvdW50OyBpbmRleCsrKSB7XG4gICAgICAgIGlmICh0aGlzLl9qb2JzW2luZGV4XSA9PT0gam9iKSB7XG4gICAgICAgICAgdGhpcy5fam9icy5zcGxpY2UoaW5kZXgsIDEpO1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuXG4gICAgLy8gU3RvcCB0aGUgYW5pbWF0aW9uIGxvb3Agd2hlbiB0aGVyZSBhcmUgbm8gbW9yZSBqb2JzIHRvIGFuaW1hdGUuXG4gICAgaWYgKHRoaXMuX2pvYnMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aGlzLl9zdG9wQW5pbWF0aW9uTG9vcCgpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBEcmF3cyBhbGwgb2YgdGhlIGFjdGl2ZSBBbmltYXRpb25Kb2JzLlxuICAgKlxuICAgKiBAcHJpdmF0ZVxuICAgKi9cbiAgX2RyYXdKb2JzKCkge1xuICAgIGZvciAobGV0IGkgPSAwLCBjb3VudCA9IHRoaXMuX2pvYnMubGVuZ3RoOyBpIDwgY291bnQ7IGkrKykge1xuICAgICAgdGhpcy5fam9ic1tpXS5kcmF3KCk7XG4gICAgfVxuICB9XG5cbiAgLyoqXG4gICAqIFN0YXJ0cyB0aGUgYW5pbWF0aW9uIGxvb3AgaWYgaXQgaXMgbm90IGFscmVhZHkgcnVubmluZy5cbiAgICpcbiAgICogVGhpcyBtZXRob2QgaXMgaWRlbXBvdGVudC5cbiAgICpcbiAgICogQHByaXZhdGVcbiAgICovXG4gIF9zdGFydEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKHRoaXMuX2lzUGF1c2VkKSB7XG4gICAgICB0aGlzLl9sYXN0VW5wYXVzZVRpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgfVxuICAgIHRoaXMuX2lzUGF1c2VkID0gZmFsc2U7XG5cbiAgICAvLyBPbmx5IGFjdHVhbGx5IHN0YXJ0IHRoZSBsb29wIGlmIGl0IGlzbid0IGFscmVhZHkgcnVubmluZyBhbmQgdGhlIHBhZ2UgaGFzIGZvY3VzLlxuICAgIGlmICghdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgJiYgIWRvY3VtZW50LmhpZGRlbikge1xuICAgICAgdGhpcy5fbGF0ZW5jeVByb2ZpbGVyLnN0YXJ0KCk7XG4gICAgICB0aGlzLl9wcmV2aW91c1RpbWUgPSB3aW5kb3cucGVyZm9ybWFuY2Uubm93KCk7XG4gICAgICB0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCA9XG4gICAgICAgICAgd2luZG93LnJlcXVlc3RBbmltYXRpb25GcmFtZSh0aW1lID0+IHRoaXMuX2FuaW1hdGlvbkxvb3AodGltZSkpO1xuICAgIH1cbiAgfVxuXG4gIC8qKlxuICAgKiBTdG9wcyB0aGUgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEBwcml2YXRlXG4gICAqL1xuICBfc3RvcEFuaW1hdGlvbkxvb3AoKSB7XG4gICAgaWYgKCF0aGlzLl9pc1BhdXNlZCkge1xuICAgICAgdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWUgKz0gdGhpcy5fdGltZVNpbmNlTGFzdFBhdXNlZDtcbiAgICB9XG4gICAgdGhpcy5faXNQYXVzZWQgPSB0cnVlO1xuICAgIHdpbmRvdy5jYW5jZWxBbmltYXRpb25GcmFtZSh0aGlzLl9yZXF1ZXN0QW5pbWF0aW9uRnJhbWVJZCk7XG4gICAgdGhpcy5fcmVxdWVzdEFuaW1hdGlvbkZyYW1lSWQgPSBudWxsO1xuICAgIHRoaXMuX2xhdGVuY3lQcm9maWxlci5zdG9wKCk7XG4gIH1cblxuICAvKipcbiAgICogQ3JlYXRlcyBhIHByb21pc2UgdGhhdCB3aWxsIHJlc29sdmUgb24gdGhlIG5leHQgYW5pbWF0aW9uIGxvb3AuXG4gICAqXG4gICAqIEByZXR1cm5zIHtQcm9taXNlfVxuICAgKi9cbiAgcmVzb2x2ZU9uTmV4dEZyYW1lKCkge1xuICAgIHJldHVybiBuZXcgUHJvbWlzZSh3aW5kb3cucmVxdWVzdEFuaW1hdGlvbkZyYW1lKTtcbiAgfVxuXG4gIC8qKlxuICAgKiBHZXRzIHRoZSB0b3RhbCBhbW91bnQgb2YgdGltZSB0aGUgYW5pbWF0b3IgaGFzIGJlZW4gcnVubmluZyB3aGlsZSBub3QgcGF1c2VkLlxuICAgKlxuICAgKiBAcmV0dXJucyB7RE9NSGlnaFJlc1RpbWVTdGFtcH1cbiAgICovXG4gIGdldCB0b3RhbFJ1blRpbWUoKSB7XG4gICAgcmV0dXJuIHRoaXMuX2lzUGF1c2VkXG4gICAgICAgID8gdGhpcy5fdG90YWxVbnBhdXNlZFJ1blRpbWVcbiAgICAgICAgOiB0aGlzLl90b3RhbFVucGF1c2VkUnVuVGltZSArIHRoaXMuX3RpbWVTaW5jZUxhc3RQYXVzZWQ7XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge0RPTUhpZ2hSZXNUaW1lU3RhbXB9XG4gICAqL1xuICBnZXQgX3RpbWVTaW5jZUxhc3RQYXVzZWQoKSB7XG4gICAgcmV0dXJuIHdpbmRvdy5wZXJmb3JtYW5jZS5ub3coKSAtIHRoaXMuX2xhc3RVbnBhdXNlVGltZTtcbiAgfVxufVxuXG5jb25zdCBhbmltYXRvciA9IG5ldyBBbmltYXRvcigpO1xuXG5leHBvcnQge2FuaW1hdG9yfTtcblxuLyoqXG4gKiBAdHlwZWRlZiB7bnVtYmVyfSBET01IaWdoUmVzVGltZVN0YW1wIEEgbnVtYmVyIG9mIG1pbGxpc2Vjb25kcywgYWNjdXJhdGUgdG8gb25lIHRob3VzYW5kdGggb2YgYVxuICogbWlsbGlzZWNvbmQuXG4gKi9cblxuIiwiLyoqXG4gKiBUaGlzIGNsYXNzIGtlZXBzIHRyYWNrIG9mIGF2Zy9taW4vbWF4IGZyYW1lIGxhdGVuY2llcyBvdmVyIHRoZSBsYXN0IGxvZ2dpbmcgdGltZSBwZXJpb2QgYW5kXG4gKiBwZXJpb2RpY2FsbHkgbG9ncyB0aGVzZSB2YWx1ZXMuXG4gKi9cbmNsYXNzIEZyYW1lTGF0ZW5jeVByb2ZpbGVyIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBsb2dQZXJpb2QgVGhlIHBlcmlvZCBhdCB3aGljaCB0byBwcmludCBsYXRlbmN5IGxvZyBtZXNzYWdlcy4gSW4gbWlsbGlzZWNvbmRzLlxuICAgKiBAcGFyYW0ge251bWJlcn0gbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgSWYgdGhlIGF2ZXJhZ2UgbGF0ZW5jeSBleGNlZWRzIHRoaXMgdGhyZXNob2xkLCB0aGVuIHRoZVxuICAgKiBsb2cgbWVzc2FnZSBpcyBzaG93biBhcyBhIHdhcm5pbmcuIEluIG1pbGxpc2Vjb25kcy5cbiAgICogQHBhcmFtIHtzdHJpbmd9IGxvZ0xhYmVsIEEgbGFiZWwgdG8gc2hvdyBmb3IgZWFjaCBsYXRlbmN5IGxvZyBtZXNzYWdlLlxuICAgKi9cbiAgY29uc3RydWN0b3IobG9nUGVyaW9kLCBsYXRlbmN5V2FybmluZ1RocmVzaG9sZCwgbG9nTGFiZWwpIHtcbiAgICB0aGlzLl9sb2dQZXJpb2QgPSBsb2dQZXJpb2Q7XG4gICAgdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQgPSBsYXRlbmN5V2FybmluZ1RocmVzaG9sZDtcbiAgICB0aGlzLl9sb2dMYWJlbCA9IGxvZ0xhYmVsO1xuXG4gICAgdGhpcy5fZnJhbWVDb3VudCA9IG51bGw7XG4gICAgdGhpcy5fbWF4RnJhbWVMYXRlbmN5ID0gbnVsbDtcbiAgICB0aGlzLl9taW5GcmFtZUxhdGVuY3kgPSBudWxsO1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9IG51bGw7XG5cbiAgICB0aGlzLl9pbnRlcnZhbElkID0gbnVsbDtcbiAgfVxuXG4gIHN0YXJ0KCkge1xuICAgIHRoaXMuc3RvcCgpO1xuICAgIHRoaXMucmVzZXQoKTtcblxuICAgIHRoaXMuX2ludGVydmFsSWQgPSBzZXRJbnRlcnZhbCgoKSA9PiB7XG4gICAgICB0aGlzLmxvZ0ZyYW1lTGF0ZW5jeSgpO1xuICAgICAgdGhpcy5yZXNldCgpO1xuICAgIH0sIHRoaXMuX2xvZ1BlcmlvZCk7XG4gIH1cblxuICBzdG9wKCkge1xuICAgIGNsZWFySW50ZXJ2YWwodGhpcy5faW50ZXJ2YWxJZCk7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICB0aGlzLl9mcmFtZUNvdW50ID0gMDtcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPSBOdW1iZXIuTUlOX1ZBTFVFO1xuICAgIHRoaXMuX21pbkZyYW1lTGF0ZW5jeSA9IE51bWJlci5NQVhfVkFMVUU7XG4gICAgdGhpcy5fYXZnRnJhbWVMYXRlbmN5ID0gMDtcbiAgfVxuXG4gIC8qKlxuICAgKiBLZWVwcyB0cmFjayBvZiBhIHJ1bm5pbmcgYXZlcmFnZSwgbWluIHZhbHVlLCBhbmQgbWF4IHZhbHVlIGZvciB0aGUgZnJhbWUgbGF0ZW5jaWVzLlxuICAgKlxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGZyYW1lTGF0ZW5jeVxuICAgKi9cbiAgcmVjb3JkRnJhbWVMYXRlbmN5KGZyYW1lTGF0ZW5jeSkge1xuICAgIHRoaXMuX2ZyYW1lQ291bnQrKztcbiAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPVxuICAgICAgICB0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPCBmcmFtZUxhdGVuY3kgPyBmcmFtZUxhdGVuY3kgOiB0aGlzLl9tYXhGcmFtZUxhdGVuY3k7XG4gICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID1cbiAgICAgICAgdGhpcy5fbWluRnJhbWVMYXRlbmN5ID4gZnJhbWVMYXRlbmN5ID8gZnJhbWVMYXRlbmN5IDogdGhpcy5fbWluRnJhbWVMYXRlbmN5O1xuICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSA9XG4gICAgICAgIHRoaXMuX2F2Z0ZyYW1lTGF0ZW5jeSArIChmcmFtZUxhdGVuY3kgLSB0aGlzLl9hdmdGcmFtZUxhdGVuY3kpIC8gdGhpcy5fZnJhbWVDb3VudDtcbiAgfVxuXG4gIGxvZ0ZyYW1lTGF0ZW5jeSgpIHtcbiAgICBpZiAodGhpcy5fZnJhbWVDb3VudCA+IDApIHtcbiAgICAgIGNvbnN0IG1lc3NhZ2UgPSBgJHt0aGlzLl9sb2dMYWJlbH06ICBBVkc9JHt0aGlzLl9hdmdGcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0gIGAgK1xuICAgICAgICAgIGAoTUFYPSR7dGhpcy5fbWF4RnJhbWVMYXRlbmN5LnRvRml4ZWQoMyl9OyBNSU49JHt0aGlzLl9taW5GcmFtZUxhdGVuY3kudG9GaXhlZCgzKX0pYDtcbiAgICAgIGlmICh0aGlzLl9tYXhGcmFtZUxhdGVuY3kgPj0gdGhpcy5fbGF0ZW5jeVdhcm5pbmdUaHJlc2hvbGQpIHtcbiAgICAgICAgY29uc29sZS53YXJuKG1lc3NhZ2UpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY29uc29sZS5kZWJ1ZyhtZXNzYWdlKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cblxuZXhwb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlcn07XG4iLCJleHBvcnQgKiBmcm9tICcuL2FuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi9hbmltYXRvcic7XG5leHBvcnQgKiBmcm9tICcuL2ZyYW1lLWxhdGVuY3ktcHJvZmlsZXInO1xuZXhwb3J0ICogZnJvbSAnLi9wZXJzaXN0ZW50LWFuaW1hdGlvbi1qb2InO1xuZXhwb3J0ICogZnJvbSAnLi90cmFuc2llbnQtYW5pbWF0aW9uLWpvYic7XG4iLCJpbXBvcnQge0FuaW1hdGlvbkpvYn0gZnJvbSAnLi9hbmltYXRpb24tam9iJztcblxuLyoqXG4gKiBBIFBlcnNpc3RlbnRBbmltYXRpb25Kb2IgcmVjdXJzIG9yIGhhcyBhbiBpbmRlZmluaXRlIGR1cmF0aW9uLlxuICpcbiAqIEBhYnN0cmFjdFxuICovXG5jbGFzcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3Iob25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpcyBhbiBhYnN0cmFjdCBjbGFzcy4gSXQgc2hvdWxkIG5vdCBiZSBpbnN0YW50aWF0ZWQgZGlyZWN0bHkuXG4gICAgaWYgKG5ldy50YXJnZXQgPT09IFBlcnNpc3RlbnRBbmltYXRpb25Kb2IpIHtcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgUGVyc2lzdGVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG4gIH1cblxuICAvKipcbiAgICogQGFic3RyYWN0XG4gICAqL1xuICByZXNldCgpIHtcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcbiAgfVxufVxuXG5leHBvcnQge1BlcnNpc3RlbnRBbmltYXRpb25Kb2J9O1xuIiwiaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi91dGlsJztcblxuaW1wb3J0IHtBbmltYXRpb25Kb2J9IGZyb20gJy4vYW5pbWF0aW9uLWpvYic7XG5cbi8qKlxuICogQSBUcmFuc2llbnRBbmltYXRpb25Kb2IgaXMgdGVtcG9yYXJ5IGFuZCBoYXMgYSBkZWZpbml0ZSBiZWdpbm5pbmcgYW5kIGVuZC5cbiAqXG4gKiBAYWJzdHJhY3RcbiAqL1xuY2xhc3MgVHJhbnNpZW50QW5pbWF0aW9uSm9iIGV4dGVuZHMgQW5pbWF0aW9uSm9iIHtcbiAgLyoqXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdXJhdGlvblxuICAgKiBAcGFyYW0ge251bWJlcn0gZGVsYXlcbiAgICogQHBhcmFtIHtGdW5jdGlvbnxTdHJpbmd9IGVhc2luZ0Z1bmN0aW9uXG4gICAqIEBwYXJhbSB7RnVuY3Rpb259IFtvbkNvbXBsZXRlXSBBIGNhbGxiYWNrIHRvIGJlIGNhbGxlZCB3aGVuIHRoaXMgQW5pbWF0aW9uSm9iIGlzIGZpbmlzaGVkLlxuICAgKi9cbiAgY29uc3RydWN0b3IoZHVyYXRpb24sIGRlbGF5LCBlYXNpbmdGdW5jdGlvbiwgb25Db21wbGV0ZSkge1xuICAgIHN1cGVyKG9uQ29tcGxldGUpO1xuXG4gICAgLy8gVHJhbnNpZW50QW5pbWF0aW9uSm9iIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cbiAgICBpZiAobmV3LnRhcmdldCA9PT0gVHJhbnNpZW50QW5pbWF0aW9uSm9iKSB7XG4gICAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdDYW5ub3QgY29uc3RydWN0IFRyYW5zaWVudEFuaW1hdGlvbkpvYiBpbnN0YW5jZXMgZGlyZWN0bHknKTtcbiAgICB9XG5cbiAgICB0aGlzLl9kdXJhdGlvbiA9IGR1cmF0aW9uO1xuICAgIHRoaXMuX2RlbGF5ID0gZGVsYXk7XG4gICAgdGhpcy5fZWFzaW5nRnVuY3Rpb24gPSB0eXBlb2YgZWFzaW5nRnVuY3Rpb24gPT09ICdmdW5jdGlvbidcbiAgICAgICAgPyBlYXNpbmdGdW5jdGlvblxuICAgICAgICA6IF91dGlsLmVhc2luZ0Z1bmN0aW9uc1tlYXNpbmdGdW5jdGlvbl07XG4gIH1cblxuICAvKipcbiAgICogQHJldHVybnMge251bWJlcn1cbiAgICovXG4gIGdldCBlbmRUaW1lKCkge1xuICAgIHJldHVybiB0aGlzLl9zdGFydFRpbWUgKyB0aGlzLl9kdXJhdGlvbiArIHRoaXMuX2RlbGF5O1xuICB9XG59XG5cbmV4cG9ydCB7VHJhbnNpZW50QW5pbWF0aW9uSm9ifTtcbiIsIi8qKlxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIHV0aWxpdHkgZnVuY3Rpb25zLlxuICovXG5cbi8vIEEgY29sbGVjdGlvbiBvZiBkaWZmZXJlbnQgdHlwZXMgb2YgZWFzaW5nIGZ1bmN0aW9ucy5cbmNvbnN0IGVhc2luZ0Z1bmN0aW9ucyA9IHtcbiAgbGluZWFyOiB0ID0+IHQsXG4gIGVhc2VJblF1YWQ6IHQgPT4gdCAqIHQsXG4gIGVhc2VPdXRRdWFkOiB0ID0+IHQgKiAoMiAtIHQpLFxuICBlYXNlSW5PdXRRdWFkOiB0ID0+IHQgPCAwLjUgPyAyICogdCAqIHQgOiAtMSArICg0IC0gMiAqIHQpICogdCxcbiAgZWFzZUluQ3ViaWM6IHQgPT4gdCAqIHQgKiB0LFxuICBlYXNlT3V0Q3ViaWM6IHQgPT4gMSArIC0tdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRDdWJpYzogdCA9PiB0IDwgMC41ID8gNCAqIHQgKiB0ICogdCA6ICh0IC0gMSkgKiAoMiAqIHQgLSAyKSAqICgyICogdCAtIDIpICsgMSxcbiAgZWFzZUluUXVhcnQ6IHQgPT4gdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1YXJ0OiB0ID0+IDEgLSAtLXQgKiB0ICogdCAqIHQsXG4gIGVhc2VJbk91dFF1YXJ0OiB0ID0+IHQgPCAwLjUgPyA4ICogdCAqIHQgKiB0ICogdCA6IDEgLSA4ICogLS10ICogdCAqIHQgKiB0LFxuICBlYXNlSW5RdWludDogdCA9PiB0ICogdCAqIHQgKiB0ICogdCxcbiAgZWFzZU91dFF1aW50OiB0ID0+IDEgKyAtLXQgKiB0ICogdCAqIHQgKiB0LFxuICBlYXNlSW5PdXRRdWludDogdCA9PiB0IDwgMC41ID8gMTYgKiB0ICogdCAqIHQgKiB0ICogdCA6IDEgKyAxNiAqIC0tdCAqIHQgKiB0ICogdCAqIHRcbn07XG5cbmNvbnN0IF91dGlsID0ge1xuICBlYXNpbmdGdW5jdGlvbnMsXG59O1xuXG5leHBvcnQge1xuICBfdXRpbCxcbn07XG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9hYWJiLWNvbGxpZGFibGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jYXBzdWxlLWNvbGxpZGFibGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaWRhYmxlJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvbGluZS1zZWdtZW50JztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvb2JiLWNvbGxpZGFibGUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9zcGhlcmUtY29sbGlkYWJsZSc7XHJcbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcclxuaW1wb3J0IHtMaW5lU2VnbWVudH0gZnJvbSAnLi9saW5lLXNlZ21lbnQnO1xyXG5pbXBvcnQge3RtcFZlYzEsIHRtcFZlYzJ9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVwcmVzZW50cyBhbiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmcgYm94IChBQUJCKS5cclxuICpcclxuICogVGhpcyBpcyBwcmltYXJpbHkgdXNlZnVsIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uLiBBbiBBQUJCIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIHNvbWVcclxuICogZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJpZXMsIGFuIG9yaWVudGVkIGJvdW5kaW5nIGJveCAoT0JCKSBvciBhIGJvdW5kaW5nIHNwaGVyZSBtYXkgYmUgbW9yZVxyXG4gKiBhcHByb3ByaWF0ZS5cclxuICovXHJcbmNsYXNzIEFhYmIgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWluWFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtaW5ZXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1pblpcclxuICAgKiBAcGFyYW0ge251bWJlcn0gbWF4WFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBtYXhZXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IG1heFpcclxuICAgKiBAcGFyYW0ge2Jvb2xlYW59IFtpc1N0YXRpb25hcnk9ZmFsc2VdXHJcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IobWluWCwgbWluWSwgbWluWiwgbWF4WCwgbWF4WSwgbWF4WiwgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcclxuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XHJcbiAgICB0aGlzLm1pblggPSBtaW5YO1xyXG4gICAgdGhpcy5taW5ZID0gbWluWTtcclxuICAgIHRoaXMubWluWiA9IG1pblo7XHJcbiAgICB0aGlzLm1heFggPSBtYXhYO1xyXG4gICAgdGhpcy5tYXhZID0gbWF4WTtcclxuICAgIHRoaXMubWF4WiA9IG1heFo7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDcmVhdGVzIGEgbmV3IGJvdW5kaW5nIGJveCB3aXRoIHRoZSBkaW1lbnNpb25zIG9mIGFuIGF4aWFsbHktYWxpZ25lZCBjdWJlIGNlbnRlcmVkIGFyb3VuZCB0aGUgXHJcbiAgICogZ2l2ZW4gY2VudGVyIGFuZCB3aXRoIHRoZSBnaXZlbiBoYWxmLXNpZGUgbGVuZ3RoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXJcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcclxuICAgKi9cclxuICBzdGF0aWMgY3JlYXRlQXNVbmlmb3JtQXJvdW5kQ2VudGVyKGNlbnRlciwgaGFsZlNpZGVMZW5ndGgpIHtcclxuICAgIGNvbnN0IGJvdW5kcyA9IG5ldyBBYWJiKDAsIDAsIDAsIDAsIDAsIDApO1xyXG4gICAgYm91bmRzLnNldEFzVW5pZm9ybUFyb3VuZENlbnRlcihjZW50ZXIsIGhhbGZTaWRlTGVuZ3RoKTtcclxuICAgIHJldHVybiBib3VuZHM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVcGRhdGVzIHRoZSBkaW1lbnNpb25zIG9mIHRoaXMgYm91bmRpbmcgYm94IHRvIHJlcHJlc2VudCBhbiBheGlhbGx5LWFsaWduZWQgY3ViZSBjZW50ZXJlZFxyXG4gICAqIGFyb3VuZCB0aGUgZ2l2ZW4gY2VudGVyIGFuZCB3aXRoIHRoZSBnaXZlbiBoYWxmLXNpZGUgbGVuZ3RoLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBjZW50ZXJcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhcclxuICAgKi9cclxuICBzZXRBc1VuaWZvcm1Bcm91bmRDZW50ZXIoY2VudGVyLCBoYWxmU2lkZUxlbmd0aCkge1xyXG4gICAgdGhpcy5taW5YID0gY2VudGVyWzBdIC0gaGFsZlNpZGVMZW5ndGg7XHJcbiAgICB0aGlzLm1pblkgPSBjZW50ZXJbMV0gLSBoYWxmU2lkZUxlbmd0aDtcclxuICAgIHRoaXMubWluWiA9IGNlbnRlclsyXSAtIGhhbGZTaWRlTGVuZ3RoO1xyXG4gICAgdGhpcy5tYXhYID0gY2VudGVyWzBdICsgaGFsZlNpZGVMZW5ndGg7XHJcbiAgICB0aGlzLm1heFkgPSBjZW50ZXJbMV0gKyBoYWxmU2lkZUxlbmd0aDtcclxuICAgIHRoaXMubWF4WiA9IGNlbnRlclsyXSArIGhhbGZTaWRlTGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXHJcbiAgZ2V0IHJhbmdlWCgpIHtcclxuICAgIHJldHVybiB0aGlzLm1heFggLSB0aGlzLm1pblg7XHJcbiAgfVxyXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG4gIGdldCByYW5nZVkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5tYXhZIC0gdGhpcy5taW5ZO1xyXG4gIH1cclxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuICBnZXQgcmFuZ2VaKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubWF4WiAtIHRoaXMubWluWjtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG4gIGdldCBjZW50ZXJYKCkge1xyXG4gICAgcmV0dXJuIHRoaXMubWluWCArIHRoaXMucmFuZ2VYIC8gMjtcclxuICB9XHJcbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXHJcbiAgZ2V0IGNlbnRlclkoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5taW5ZICsgdGhpcy5yYW5nZVkgLyAyO1xyXG4gIH1cclxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuICBnZXQgY2VudGVyWigpIHtcclxuICAgIHJldHVybiB0aGlzLm1pblogKyB0aGlzLnJhbmdlWiAvIDI7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuICBnZXQgc3VyZmFjZUFyZWEoKSB7XHJcbiAgICBjb25zdCByYW5nZVggPSB0aGlzLnJhbmdlWDtcclxuICAgIGNvbnN0IHJhbmdlWSA9IHRoaXMucmFuZ2VZO1xyXG4gICAgY29uc3QgcmFuZ2VaID0gdGhpcy5yYW5nZVo7XHJcbiAgICByZXR1cm4gMiAqIChyYW5nZVggKiByYW5nZVkgKyByYW5nZVggKiByYW5nZVogKyByYW5nZVkgKiByYW5nZVopO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xyXG4gICAgLy8gUmV1c2UgdGhlIHNhbWUgb2JqZWN0IHdoZW4gdGhpcyBpcyBjYWxsZWQgbXVsdGlwbGUgdGltZXMuXHJcbiAgICB0aGlzLl9jZW50ZXJPZlZvbHVtZSA9IHRoaXMuX2NlbnRlck9mVm9sdW1lIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLnNldCh0aGlzLl9jZW50ZXJPZlZvbHVtZSwgdGhpcy5jZW50ZXJYLCB0aGlzLmNlbnRlclksIHRoaXMuY2VudGVyWik7XHJcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyT2ZWb2x1bWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XHJcbiAgICByZXR1cm4gdGhpcztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcclxuICAgIGNvbnN0IHJhbmdlWCA9IHRoaXMucmFuZ2VYO1xyXG4gICAgY29uc3QgcmFuZ2VZID0gdGhpcy5yYW5nZVk7XHJcbiAgICBjb25zdCByYW5nZVogPSB0aGlzLnJhbmdlWjtcclxuICAgIHRoaXMubWluWCA9IHZhbHVlWzBdIC0gcmFuZ2VYIC8gMjtcclxuICAgIHRoaXMubWluWSA9IHZhbHVlWzFdIC0gcmFuZ2VZIC8gMjtcclxuICAgIHRoaXMubWluWiA9IHZhbHVlWzJdIC0gcmFuZ2VaIC8gMjtcclxuICAgIHRoaXMubWF4WCA9IHZhbHVlWzBdICsgcmFuZ2VYIC8gMjtcclxuICAgIHRoaXMubWF4WSA9IHZhbHVlWzFdICsgcmFuZ2VZIC8gMjtcclxuICAgIHRoaXMubWF4WiA9IHZhbHVlWzJdICsgcmFuZ2VaIC8gMjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcclxuICAgIC8vIERvIG5vdGhpbmcuXHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCB2ZXJ0ZXguXHJcbiAgICpcclxuICAgKiBTdG9wcyBhcyBzb29uIGFzIHRoZSBjYWxsYmFjayByZXR1cm5zIHRydWUgZm9yIGEgdmVydGV4LlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtWZXJ0ZXhDYWxsYmFja30gY2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge3ZlYzN9IFt2ZXJ0ZXhdIE91dHB1dCBwYXJhbS5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxyXG4gICAqL1xyXG4gIHNvbWVWZXJ0ZXgoY2FsbGJhY2ssIHZlcnRleCkge1xyXG4gICAgdmVydGV4ID0gdmVydGV4IHx8IHRtcFZlYzE7XHJcblxyXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcclxuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xyXG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XHJcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcclxuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xyXG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZlYzMuc2V0KHZlcnRleCwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XHJcbiAgICBpZiAoY2FsbGJhY2sodmVydGV4KSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmVjMy5zZXQodmVydGV4LCB0aGlzLm1pblgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcclxuICAgIGlmIChjYWxsYmFjayh2ZXJ0ZXgpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh2ZXJ0ZXgsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xyXG4gICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGVkZ2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0VkZ2VDYWxsYmFja30gY2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBbZWRnZV0gT3V0cHV0IHBhcmFtLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXHJcbiAgICovXHJcbiAgc29tZUVkZ2UoY2FsbGJhY2ssIGVkZ2UpIHtcclxuICAgIGVkZ2UgPSBlZGdlIHx8IF9zZWdtZW50O1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyBFZGdlcyBhbG9uZyBmcm9udCBmYWNlLlxyXG4gICAgLy9cclxuXHJcbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xyXG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XHJcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcclxuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XHJcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1pblopO1xyXG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWluWik7XHJcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xyXG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xyXG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgLy9cclxuICAgIC8vIEVkZ2VzIGFsb25nIGJhY2sgZmFjZS5cclxuICAgIC8vXHJcblxyXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5taW5YLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XHJcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcclxuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XHJcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xyXG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5tYXhYLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XHJcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xyXG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xyXG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWF4Wik7XHJcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5tYXhaKTtcclxuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XHJcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIC8vXHJcbiAgICAvLyBFZGdlcyBiZXR3ZWVuIGZyb250IGFuZCBiYWNrIGZhY2VzLlxyXG4gICAgLy9cclxuXHJcbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1pblgsIHRoaXMubWluWSwgdGhpcy5taW5aKTtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWluWCwgdGhpcy5taW5ZLCB0aGlzLm1heFopO1xyXG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgdmVjMy5zZXQodG1wVmVjMSwgdGhpcy5tYXhYLCB0aGlzLm1pblksIHRoaXMubWluWik7XHJcbiAgICB2ZWMzLnNldCh0bXBWZWMyLCB0aGlzLm1heFgsIHRoaXMubWluWSwgdGhpcy5tYXhaKTtcclxuICAgIGVkZ2UucmVzZXQodG1wVmVjMSwgdG1wVmVjMik7XHJcbiAgICBpZiAoY2FsbGJhY2soZWRnZSkpIHJldHVybiB0cnVlO1xyXG5cclxuICAgIHZlYzMuc2V0KHRtcFZlYzEsIHRoaXMubWluWCwgdGhpcy5tYXhZLCB0aGlzLm1pblopO1xyXG4gICAgdmVjMy5zZXQodG1wVmVjMiwgdGhpcy5taW5YLCB0aGlzLm1heFksIHRoaXMubWF4Wik7XHJcbiAgICBlZGdlLnJlc2V0KHRtcFZlYzEsIHRtcFZlYzIpO1xyXG4gICAgaWYgKGNhbGxiYWNrKGVkZ2UpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgICB2ZWMzLnNldCh0bXBWZWMxLCB0aGlzLm1heFgsIHRoaXMubWF4WSwgdGhpcy5taW5aKTtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIHRoaXMubWF4WCwgdGhpcy5tYXhZLCB0aGlzLm1heFopO1xyXG4gICAgZWRnZS5yZXNldCh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgIGlmIChjYWxsYmFjayhlZGdlKSkgcmV0dXJuIHRydWU7XHJcblxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgX3NlZ21lbnQgPSBuZXcgTGluZVNlZ21lbnQodmVjMy5jcmVhdGUoKSwgdmVjMy5jcmVhdGUoKSk7XHJcblxyXG5leHBvcnQge0FhYmJ9O1xyXG4iLCJpbXBvcnQge0NvbGxpZGFibGV9IGZyb20gJy4vY29sbGlkYWJsZSc7XHJcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4vbGluZS1zZWdtZW50JztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBjYXBzdWxlLlxyXG4gKlxyXG4gKiAtIEEgY2Fwc3VsZSBpcyBhIGN5bGluZGVyIHdpdGggc2VtaS1zcGhlcmVzIG9uIGVpdGhlciBlbmQuXHJcbiAqIC0gQSBjYXBzdWxlIGNhbiByZXByZXNlbnQgYSByb3VnaCBhcHByb3hpbWF0aW9uIG9mIG1hbnkgdXNlZnVsIHNoYXBlcy5cclxuICogLSBBIGNhcHN1bGUgY2FuIGJlIHVzZWQgZm9yIHJlbGF0aXZlbHkgZWZmaWNpZW50IGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAqL1xyXG5jbGFzcyBDYXBzdWxlIGV4dGVuZHMgQ29sbGlkYWJsZSB7XHJcbiAgLyoqXHJcbiAgICogVGhlIGRlZmF1bHQgb3JpZW50YXRpb24gb2YgdGhlIGNhcHN1bGUgaXMgYWxvbmcgdGhlIHotYXhpcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmRGlzdGFuY2UgSGFsZiB0aGUgZGlzdGFuY2UgZnJvbSB0aGUgY2VudGVycyBvZiB0aGUgY2Fwc3VsZSBlbmQgc3BoZXJlcy5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxyXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGhhbGZEaXN0YW5jZSwgcmFkaXVzLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xyXG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcclxuICAgIHRoaXMuaGFsZkRpc3RhbmNlID0gaGFsZkRpc3RhbmNlO1xyXG4gICAgdGhpcy5zZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuZnJvbVZhbHVlcygwLCAwLCAtaGFsZkRpc3RhbmNlKSxcclxuICAgICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgaGFsZkRpc3RhbmNlKSk7XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLnNlZ21lbnQuY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge0NvbGxpZGFibGV9XHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgZ2V0IGJvdW5kaW5nVm9sdW1lKCkge1xyXG4gICAgcmV0dXJuIHRoaXM7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNlZ21lbnQuY2VudGVyID0gdmFsdWU7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3F1YXR9IHZhbHVlXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XHJcbiAgICB0aGlzLnNlZ21lbnQub3JpZW50YXRpb24gPSB2YWx1ZTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q2Fwc3VsZX07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSAzRCBjb2xsaWRhYmxlIHJpZ2lkIG9iamVjdC5cclxuICpcclxuICogVGhpcyBpcyB1c2VmdWwgZm9yIGNvbGxpc2lvbiBkZXRlY3Rpb24gYW5kIHJlc3BvbnNlLlxyXG4gKlxyXG4gKiBAYWJzdHJhY3RcclxuICovXHJcbmNsYXNzIENvbGxpZGFibGUge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gaXNTdGF0aW9uYXJ5XHJcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKSB7XHJcbiAgICAvLyBDb2xsaWRhYmxlIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBDb2xsaWRhYmxlKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgQ29sbGlkYWJsZSBpbnN0YW5jZXMgZGlyZWN0bHknKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLmlzU3RhdGlvbmFyeSA9IGlzU3RhdGlvbmFyeTtcclxuICAgIHRoaXMucGh5c2ljc0pvYiA9IHBoeXNpY3NKb2I7XHJcbiAgICB0aGlzLmNvbGxpc2lvbnMgPSBbXTtcclxuICAgIHRoaXMucHJldmlvdXNDb2xsaXNpb25zID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbXBsZW1lbnRpbmcgY2xhc3NlcyBjYW4gb3ZlcnJpZGUgdGhpcyB0byBwcm92aWRlIGEgY2VudGVyIG9mIG1hc3MgdGhhdCBpcyBkaWZmZXJlbnQgdGhhbiB0aGVcclxuICAgKiBjZW50ZXIgb2Ygdm9sdW1lLlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICovXHJcbiAgZ2V0IGNlbnRlck9mTWFzcygpIHtcclxuICAgIHJldHVybiB0aGlzLmNlbnRlck9mVm9sdW1lO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICogQGFic3RyYWN0XHJcbiAgICovXHJcbiAgZ2V0IGNlbnRlck9mVm9sdW1lKCkge1xyXG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxyXG4gICAqIEBhYnN0cmFjdFxyXG4gICAqL1xyXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcclxuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHZhbHVlXHJcbiAgICogQGFic3RyYWN0XHJcbiAgICovXHJcbiAgc2V0IHBvc2l0aW9uKHZhbHVlKSB7XHJcbiAgICAvLyBFeHRlbmRpbmcgY2xhc3NlcyBzaG91bGQgaW1wbGVtZW50IHRoaXMgbWV0aG9kLlxyXG4gICAgdGhyb3cgbmV3IFR5cGVFcnJvcignTWV0aG9kIG5vdCBpbXBsZW1lbnRlZCcpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxyXG4gICAqIEBhYnN0cmFjdFxyXG4gICAqL1xyXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xyXG4gICAgLy8gRXh0ZW5kaW5nIGNsYXNzZXMgc2hvdWxkIGltcGxlbWVudCB0aGlzIG1ldGhvZC5cclxuICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ01ldGhvZCBub3QgaW1wbGVtZW50ZWQnKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7Q29sbGlkYWJsZX07XHJcbiIsImltcG9ydCB7dG1wVmVjMSwgdG1wVmVjMn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIGEgbGluZSBzZWdtZW50LlxyXG4gKi9cclxuY2xhc3MgTGluZVNlZ21lbnQge1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gc3RhcnRcclxuICAgKiBAcGFyYW0ge3ZlYzN9IGVuZFxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKHN0YXJ0LCBlbmQpIHtcclxuICAgIHRoaXMuc3RhcnQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5lbmQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdGhpcy5fY2VudGVyID0gdmVjMy5jcmVhdGUoKTtcclxuICAgIHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kID0gdmVjMy5jcmVhdGUoKTtcclxuICAgIHRoaXMucmVzZXQoc3RhcnQsIGVuZCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0XHJcbiAgICogQHBhcmFtIHt2ZWMzfSBlbmRcclxuICAgKi9cclxuICByZXNldChzdGFydCwgZW5kKSB7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy5zdGFydCwgc3RhcnQpO1xyXG4gICAgdmVjMy5jb3B5KHRoaXMuZW5kLCBlbmQpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdCh0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uU3RhcnQsIHRoaXMuc3RhcnQsIHRoaXMuY2VudGVyKTtcclxuICAgIHZlYzMuc3VidHJhY3QodGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCwgdGhpcy5lbmQsIHRoaXMuY2VudGVyKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7TGluZVNlZ21lbnR9ICovXHJcbiAgY2xvbmUoKSB7XHJcbiAgICBjb25zdCBzZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHRoaXMuc3RhcnQsIHRoaXMuZW5kKTtcclxuICAgIHNlZ21lbnQuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydCA9IHRoaXMuX29yaWdpbmFsT3JpZW50YXRpb25TdGFydDtcclxuICAgIHNlZ21lbnQuX29yaWdpbmFsT3JpZW50YXRpb25FbmQgPSB0aGlzLl9vcmlnaW5hbE9yaWVudGF0aW9uRW5kO1xyXG4gICAgcmV0dXJuIHNlZ21lbnQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGUgVU4tTk9STUFMSVpFRCBkaXJlY3Rpb24gb2YgdGhpcyBzZWdtZW50LlxyXG4gICAqXHJcbiAgICogQHJldHVybnMge3ZlYzN9XHJcbiAgICovXHJcbiAgZ2V0IGRpcigpIHtcclxuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgdGhpcy5fZGlyID0gdGhpcy5fZGlyIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICByZXR1cm4gdmVjMy5zdWJ0cmFjdCh0aGlzLl9kaXIsIHRoaXMuZW5kLCB0aGlzLnN0YXJ0KTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cclxuICBnZXQgY2VudGVyKCkge1xyXG4gICAgdmVjMy5sZXJwKHRoaXMuX2NlbnRlciwgdGhpcy5zdGFydCwgdGhpcy5lbmQsIDAuNSk7XHJcbiAgICByZXR1cm4gdGhpcy5fY2VudGVyO1xyXG4gIH1cclxuXHJcbiAgLyoqIEBwYXJhbSB7dmVjM30gdmFsdWUgKi9cclxuICBzZXQgY2VudGVyKHZhbHVlKSB7XHJcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSBvYmplY3Qgd2hlbiB0aGlzIGlzIGNhbGxlZCBtdWx0aXBsZSB0aW1lcy5cclxuICAgIHRoaXMuX2Rpc3BsYWNlbWVudCA9IHRoaXMuX2Rpc3BsYWNlbWVudCB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgdmVjMy5zdWJ0cmFjdCh0aGlzLl9kaXNwbGFjZW1lbnQsIHZhbHVlLCB0aGlzLmNlbnRlcik7XHJcblxyXG4gICAgdmVjMy5hZGQodGhpcy5zdGFydCwgdGhpcy5zdGFydCwgdGhpcy5fZGlzcGxhY2VtZW50KTtcclxuICAgIHZlYzMuYWRkKHRoaXMuZW5kLCB0aGlzLmVuZCwgdGhpcy5fZGlzcGxhY2VtZW50KTtcclxuICB9XHJcblxyXG4gIC8qKiBAcGFyYW0ge3F1YXR9IHZhbHVlICovXHJcbiAgc2V0IG9yaWVudGF0aW9uKHZhbHVlKSB7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMSwgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvblN0YXJ0LCB2YWx1ZSk7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMiwgdGhpcy5fb3JpZ2luYWxPcmllbnRhdGlvbkVuZCwgdmFsdWUpO1xyXG5cclxuICAgIC8vIFdlIGRvbid0IHdhbnQgdGhpcyB0byBiZSByZS1jYWxjdWxhdGVkIGJldHdlZW4gc3RhcnQvZW5kIHVwZGF0ZXMuXHJcbiAgICBjb25zdCBjZW50ZXIgPSB0aGlzLmNlbnRlcjtcclxuXHJcbiAgICB2ZWMzLmFkZCh0aGlzLnN0YXJ0LCBjZW50ZXIsIHRtcFZlYzEpO1xyXG4gICAgdmVjMy5hZGQodGhpcy5lbmQsIGNlbnRlciwgdG1wVmVjMik7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge0xpbmVTZWdtZW50fTtcclxuIiwiaW1wb3J0IHtDb2xsaWRhYmxlfSBmcm9tICcuL2NvbGxpZGFibGUnO1xyXG5pbXBvcnQge1NwaGVyZX0gZnJvbSAnLi9zcGhlcmUtY29sbGlkYWJsZSc7XHJcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4vbGluZS1zZWdtZW50JztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYW4gb3JpZW50ZWQgYm91bmRpbmcgYm94IChPQkIpLlxyXG4gKlxyXG4gKiBUaGlzIGlzIHVzZWZ1bCBib3RoIGZvciBjb2xsaXNpb24gZGV0ZWN0aW9uIGFuZCBmb3IgcmVwcmVzZW50aW5nIGFueSByb3RhdGVkIHJlY3Rhbmd1bGFyIGN1Ym9pZC5cclxuICogQW4gT0JCIGlzIG9ubHkgYXBwcm9wcmlhdGUgZm9yIHNvbWUgZ2VvbWV0cmllcy4gRm9yIG90aGVyIGdlb21ldHJpZXMsIGFuIGF4aWFsbHktYWxpZ25lZCBib3VuZGluZ1xyXG4gKiBib3ggKEFBQkIpIG9yIGEgYm91bmRpbmcgc3BoZXJlIG1heSBiZSBtb3JlIGFwcHJvcHJpYXRlLlxyXG4gKi9cclxuY2xhc3MgT2JiIGV4dGVuZHMgQ29sbGlkYWJsZSB7XHJcbiAgLyoqXHJcbiAgICogRGVmYXVsdHMgdG8gYmVpbmcgY2VudGVyZWQgYXQgdGhlIG9yaWdpbiB3aXRoIGl0cyBsb2NhbCBheGVzIGFsaWduZWQgd2l0aCB0aGUgd29ybGQgYXhlcy5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBoYWxmU2lkZUxlbmd0aFhcclxuICAgKiBAcGFyYW0ge251bWJlcn0gaGFsZlNpZGVMZW5ndGhZXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGhhbGZTaWRlTGVuZ3RoWlxyXG4gICAqIEBwYXJhbSB7Ym9vbGVhbn0gW2lzU3RhdGlvbmFyeT1mYWxzZV1cclxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihoYWxmU2lkZUxlbmd0aFgsIGhhbGZTaWRlTGVuZ3RoWSwgaGFsZlNpZGVMZW5ndGhaLCBpc1N0YXRpb25hcnkgPSBmYWxzZSwgcGh5c2ljc0pvYikge1xyXG4gICAgc3VwZXIoaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcclxuICAgIHRoaXMuZXh0ZW50cyA9IFtcclxuICAgICAgdmVjMy5mcm9tVmFsdWVzKGhhbGZTaWRlTGVuZ3RoWCwgMCwgMCksXHJcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCBoYWxmU2lkZUxlbmd0aFksIDApLFxyXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgaGFsZlNpZGVMZW5ndGhaKVxyXG4gICAgXTtcclxuICAgIHRoaXMuYXhlcyA9IFtcclxuICAgICAgdmVjMy5mcm9tVmFsdWVzKDEsIDAsIDApLFxyXG4gICAgICB2ZWMzLmZyb21WYWx1ZXMoMCwgMSwgMCksXHJcbiAgICAgIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAxKVxyXG4gICAgXTtcclxuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzID0gW1xyXG4gICAgICBoYWxmU2lkZUxlbmd0aFgsXHJcbiAgICAgIGhhbGZTaWRlTGVuZ3RoWSxcclxuICAgICAgaGFsZlNpZGVMZW5ndGhaXHJcbiAgICBdO1xyXG4gICAgdGhpcy5fY2VudGVyID0gdmVjMy5jcmVhdGUoKTtcclxuICAgIHRoaXMuX29yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9jZW50ZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBnZXQgYm91bmRpbmdWb2x1bWUoKSB7XHJcbiAgICAvLyBSZXVzZSB0aGUgc2FtZSB2YWx1ZSB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgaWYgKCF0aGlzLl9ib3VuZGluZ1NwaGVyZSkge1xyXG4gICAgICBjb25zdCByYWRpdXMgPSBNYXRoLnNxcnQodGhpcy5oYWxmU2lkZUxlbmd0aFggKiB0aGlzLmhhbGZTaWRlTGVuZ3RoWCArXHJcbiAgICAgICAgICB0aGlzLmhhbGZTaWRlTGVuZ3RoWSAqIHRoaXMuaGFsZlNpZGVMZW5ndGhZICtcclxuICAgICAgICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhaICogdGhpcy5oYWxmU2lkZUxlbmd0aFopO1xyXG4gICAgICB0aGlzLl9ib3VuZGluZ1NwaGVyZSA9IG5ldyBTcGhlcmUoMCwgMCwgMCwgcmFkaXVzLCB0aGlzLmlzU3RhdGlvbmFyeSk7XHJcbiAgICB9XHJcbiAgICB0aGlzLl9ib3VuZGluZ1NwaGVyZS5wb3NpdGlvbiA9IHRoaXMuX2NlbnRlcjtcclxuICAgIHJldHVybiB0aGlzLl9ib3VuZGluZ1NwaGVyZTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7dmVjM30gdmFsdWVcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBzZXQgcG9zaXRpb24odmFsdWUpIHtcclxuICAgIHZlYzMuY29weSh0aGlzLl9jZW50ZXIsIHZhbHVlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7cXVhdH0gdmFsdWVcclxuICAgKiBAb3ZlcnJpZGVcclxuICAgKi9cclxuICBzZXQgb3JpZW50YXRpb24odmFsdWUpIHtcclxuICAgIHF1YXQuY29weSh0aGlzLl9vcmllbnRhdGlvbiwgdmFsdWUpO1xyXG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xyXG4gIH1cclxuICAvKiogQHJldHVybnMge3F1YXR9ICovXHJcbiAgZ2V0IG9yaWVudGF0aW9uKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX29yaWVudGF0aW9uO1xyXG4gIH1cclxuXHJcbiAgLyoqIEByZXR1cm5zIHtudW1iZXJ9ICovXHJcbiAgZ2V0IGhhbGZTaWRlTGVuZ3RoWCgpIHtcclxuICAgIHJldHVybiB0aGlzLmhhbGZTaWRlTGVuZ3Roc1swXTtcclxuICB9XHJcbiAgLyoqIEBwYXJhbSB7bnVtYmVyfSB2YWx1ZSAqL1xyXG4gIHNldCBoYWxmU2lkZUxlbmd0aFgodmFsdWUpIHtcclxuICAgIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzBdID0gdmFsdWU7XHJcbiAgICB0aGlzLl91cGRhdGVFeHRlbnRzKCk7XHJcbiAgfVxyXG5cclxuICAvKiogQHJldHVybnMge251bWJlcn0gKi9cclxuICBnZXQgaGFsZlNpZGVMZW5ndGhZKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzFdO1xyXG4gIH1cclxuICAvKiogQHBhcmFtIHtudW1iZXJ9IHZhbHVlICovXHJcbiAgc2V0IGhhbGZTaWRlTGVuZ3RoWSh2YWx1ZSkge1xyXG4gICAgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMV0gPSB2YWx1ZTtcclxuICAgIHRoaXMuX3VwZGF0ZUV4dGVudHMoKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7bnVtYmVyfSAqL1xyXG4gIGdldCBoYWxmU2lkZUxlbmd0aFooKSB7XHJcbiAgICByZXR1cm4gdGhpcy5oYWxmU2lkZUxlbmd0aHNbMl07XHJcbiAgfVxyXG4gIC8qKiBAcGFyYW0ge251bWJlcn0gdmFsdWUgKi9cclxuICBzZXQgaGFsZlNpZGVMZW5ndGhaKHZhbHVlKSB7XHJcbiAgICB0aGlzLmhhbGZTaWRlTGVuZ3Roc1syXSA9IHZhbHVlO1xyXG4gICAgdGhpcy5fdXBkYXRlRXh0ZW50cygpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQ2FsbHMgdGhlIGdpdmVuIGNhbGxiYWNrIG9uY2UgZm9yIGVhY2ggdmVydGV4LlxyXG4gICAqXHJcbiAgICogU3RvcHMgYXMgc29vbiBhcyB0aGUgY2FsbGJhY2sgcmV0dXJucyB0cnVlIGZvciBhIHZlcnRleC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7VmVydGV4Q2FsbGJhY2t9IGNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHt2ZWMzfSBbdmVydGV4XSBPdXRwdXQgcGFyYW0uXHJcbiAgICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgb25lIG9mIHRoZSBjYWxsYmFja3MgcmV0dXJuZWQgdHJ1ZS5cclxuICAgKi9cclxuICBzb21lVmVydGV4KGNhbGxiYWNrLCB2ZXJ0ZXgpIHtcclxuICAgIHZlcnRleCA9IHZlcnRleCB8fCBfdmVydGV4MTtcclxuXHJcbiAgICBmb3IgKGxldCB4U2NhbGUgPSAtMTsgeFNjYWxlIDw9IDE7IHhTY2FsZSArPSAyKSB7XHJcbiAgICAgIGZvciAobGV0IHlTY2FsZSA9IC0xOyB5U2NhbGUgPD0gMTsgeVNjYWxlICs9IDIpIHtcclxuICAgICAgICBmb3IgKGxldCB6U2NhbGUgPSAtMTsgelNjYWxlIDw9IDE7IHpTY2FsZSArPSAyKSB7XHJcbiAgICAgICAgICB2ZWMzLmNvcHkodmVydGV4LCB0aGlzLl9jZW50ZXIpO1xyXG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzBdLCB4U2NhbGUpO1xyXG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzFdLCB5U2NhbGUpO1xyXG4gICAgICAgICAgdmVjMy5zY2FsZUFuZEFkZCh2ZXJ0ZXgsIHZlcnRleCwgdGhpcy5leHRlbnRzWzJdLCB6U2NhbGUpO1xyXG4gICAgICAgICAgaWYgKGNhbGxiYWNrKHZlcnRleCkpIHtcclxuICAgICAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxscyB0aGUgZ2l2ZW4gY2FsbGJhY2sgb25jZSBmb3IgZWFjaCBlZGdlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtFZGdlQ2FsbGJhY2t9IGNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtMaW5lU2VnbWVudH0gW2VkZ2VdIE91dHB1dCBwYXJhbS5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxyXG4gICAqL1xyXG4gIHNvbWVFZGdlKGNhbGxiYWNrLCBlZGdlKSB7XHJcbiAgICBlZGdlID0gZWRnZSB8fCBfc2VnbWVudDtcclxuXHJcbiAgICByZXR1cm4gX2VkZ2VFeHRlbnRTY2FsZXMuc29tZShlZGdlRXh0ZW50U2NhbGVQYWlyID0+IHtcclxuICAgICAgY29uc3QgdmVydGV4MUV4dGVudFNjYWxlcyA9IGVkZ2VFeHRlbnRTY2FsZVBhaXJbMF07XHJcbiAgICAgIGNvbnN0IHZlcnRleDJFeHRlbnRTY2FsZXMgPSBlZGdlRXh0ZW50U2NhbGVQYWlyWzFdO1xyXG5cclxuICAgICAgLy8gQ2FsY3VsYXRlIHRoZSBlZGdlJ3MgZmlyc3QgYW5kIHNlY29uZCB2ZXJ0ZXguXHJcbiAgICAgIHZlYzMuY29weShfdmVydGV4MSwgdGhpcy5fY2VudGVyKTtcclxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgyLCB0aGlzLl9jZW50ZXIpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxsIGJhY2sgd2l0aCB0aGUgZWRnZS5cclxuICAgICAgZWRnZS5yZXNldChfdmVydGV4MSwgX3ZlcnRleDIpO1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2soZWRnZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGZhY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0ZhY2VDYWxsYmFja30gY2FsbGJhY2tcclxuICAgKiBAcGFyYW0ge0FycmF5Ljx2ZWMzPn0gW2ZhY2VdIE91dHB1dCBwYXJhbS5cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIGNhbGxiYWNrcyByZXR1cm5lZCB0cnVlLlxyXG4gICAqL1xyXG4gIHNvbWVGYWNlKGNhbGxiYWNrLCBmYWNlKSB7XHJcbiAgICBmYWNlID0gZmFjZSB8fCBbXTtcclxuXHJcbiAgICByZXR1cm4gX2ZhY2VFeHRlbnRTY2FsZXMuc29tZShmYWNlRXh0ZW50U2NhbGVzID0+IHtcclxuICAgICAgY29uc3QgdmVydGV4MUV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMF07XHJcbiAgICAgIGNvbnN0IHZlcnRleDJFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzFdO1xyXG4gICAgICBjb25zdCB2ZXJ0ZXgzRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1syXTtcclxuICAgICAgY29uc3QgdmVydGV4NEV4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbM107XHJcblxyXG4gICAgICAvLyBDYWxjdWxhdGUgdGhlIGZhY2UncyB2ZXJ0aWNlcy5cclxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgxLCB0aGlzLl9jZW50ZXIpO1xyXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDIsIHRoaXMuX2NlbnRlcik7XHJcbiAgICAgIHZlYzMuY29weShfdmVydGV4MywgdGhpcy5fY2VudGVyKTtcclxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXg0LCB0aGlzLl9jZW50ZXIpO1xyXG4gICAgICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDNFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDQsIF92ZXJ0ZXg0LCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDRFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICB9XHJcblxyXG4gICAgICAvLyBDYWxsIGJhY2sgd2l0aCB0aGUgZmFjZS5cclxuICAgICAgZmFjZS5zcGxpY2UoMCwgNCwgX3ZlcnRleDEsIF92ZXJ0ZXgyLCBfdmVydGV4MywgX3ZlcnRleDQpO1xyXG4gICAgICByZXR1cm4gY2FsbGJhY2soZmFjZSk7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIENhbGxzIHRoZSBnaXZlbiBjYWxsYmFjayBvbmNlIGZvciBlYWNoIGZhY2Ugd2l0aCBhIGdpdmVuIGFkZGl0aW9uYWwgb2Zmc2V0IGZyb20gdGhlIGNlbnRlclxyXG4gICAqIGFwcGxpZWQgdG8gZWFjaCBmYWNlLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtGYWNlQ2FsbGJhY2t9IGNhbGxiYWNrXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHJhZGl1c09mZnNldFxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fSBbZmFjZV0gT3V0cHV0IHBhcmFtLlxyXG4gICAqIEByZXR1cm5zIHtib29sZWFufSBUcnVlIGlmIG9uZSBvZiB0aGUgY2FsbGJhY2tzIHJldHVybmVkIHRydWUuXHJcbiAgICovXHJcbiAgc29tZVB1c2hlZE91dEZhY2UoY2FsbGJhY2ssIHJhZGl1c09mZnNldCwgZmFjZSkge1xyXG4gICAgZmFjZSA9IGZhY2UgfHwgW107XHJcblxyXG4gICAgcmV0dXJuIF9mYWNlRXh0ZW50U2NhbGVzLnNvbWUoKGZhY2VFeHRlbnRTY2FsZXMsIGluZGV4KSA9PiB7XHJcbiAgICAgIGNvbnN0IHZlcnRleDFFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzBdO1xyXG4gICAgICBjb25zdCB2ZXJ0ZXgyRXh0ZW50U2NhbGVzID0gZmFjZUV4dGVudFNjYWxlc1sxXTtcclxuICAgICAgY29uc3QgdmVydGV4M0V4dGVudFNjYWxlcyA9IGZhY2VFeHRlbnRTY2FsZXNbMl07XHJcbiAgICAgIGNvbnN0IHZlcnRleDRFeHRlbnRTY2FsZXMgPSBmYWNlRXh0ZW50U2NhbGVzWzNdO1xyXG4gICAgICBjb25zdCBkaXJlY3Rpb25PZmZzZXRzID0gX3B1c2hlZE91dEZhY2VPZmZzZXREaXJlY3Rpb25zW2luZGV4XTtcclxuXHJcbiAgICAgIC8vIENhbGN1bGF0ZSB0aGUgZmFjZSdzIHZlcnRpY2VzLlxyXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDEsIHRoaXMuX2NlbnRlcik7XHJcbiAgICAgIHZlYzMuY29weShfdmVydGV4MiwgdGhpcy5fY2VudGVyKTtcclxuICAgICAgdmVjMy5jb3B5KF92ZXJ0ZXgzLCB0aGlzLl9jZW50ZXIpO1xyXG4gICAgICB2ZWMzLmNvcHkoX3ZlcnRleDQsIHRoaXMuX2NlbnRlcik7XHJcbiAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICAgICAgLy8gQWRkIHRoZSBvZmZzZXQgZm9yIHRoZSBub3JtYWwgdmVydGV4IHBvc2l0aW9uLlxyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDEsIF92ZXJ0ZXgxLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDFFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDIsIF92ZXJ0ZXgyLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDJFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDNFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDQsIF92ZXJ0ZXg0LCB0aGlzLmV4dGVudHNbaV0sIHZlcnRleDRFeHRlbnRTY2FsZXNbaV0pO1xyXG4gICAgICAgIC8vIEFkZCB0aGUgcHVzaGVkLW91dCBvZmZzZXQuXHJcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4MSwgX3ZlcnRleDEsIHRoaXMuZXh0ZW50c1tpXSxcclxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcclxuICAgICAgICB2ZWMzLnNjYWxlQW5kQWRkKF92ZXJ0ZXgyLCBfdmVydGV4MiwgdGhpcy5leHRlbnRzW2ldLFxyXG4gICAgICAgICAgICByYWRpdXNPZmZzZXQgLyB0aGlzLmhhbGZTaWRlTGVuZ3Roc1tpXSAqIGRpcmVjdGlvbk9mZnNldHNbaV0pO1xyXG4gICAgICAgIHZlYzMuc2NhbGVBbmRBZGQoX3ZlcnRleDMsIF92ZXJ0ZXgzLCB0aGlzLmV4dGVudHNbaV0sXHJcbiAgICAgICAgICAgIHJhZGl1c09mZnNldCAvIHRoaXMuaGFsZlNpZGVMZW5ndGhzW2ldICogZGlyZWN0aW9uT2Zmc2V0c1tpXSk7XHJcbiAgICAgICAgdmVjMy5zY2FsZUFuZEFkZChfdmVydGV4NCwgX3ZlcnRleDQsIHRoaXMuZXh0ZW50c1tpXSxcclxuICAgICAgICAgICAgcmFkaXVzT2Zmc2V0IC8gdGhpcy5oYWxmU2lkZUxlbmd0aHNbaV0gKiBkaXJlY3Rpb25PZmZzZXRzW2ldKTtcclxuICAgICAgfVxyXG5cclxuICAgICAgLy8gQ2FsbCBiYWNrIHdpdGggdGhlIGZhY2UuXHJcbiAgICAgIGZhY2Uuc3BsaWNlKDAsIDQsIF92ZXJ0ZXgxLCBfdmVydGV4MiwgX3ZlcnRleDMsIF92ZXJ0ZXg0KTtcclxuICAgICAgcmV0dXJuIGNhbGxiYWNrKGZhY2UpO1xyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlRXh0ZW50cygpIHtcclxuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCB0aGlzLmhhbGZTaWRlTGVuZ3Roc1swXSwgMCwgMCk7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5leHRlbnRzWzBdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xyXG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIHRoaXMuaGFsZlNpZGVMZW5ndGhzWzFdLCAwKTtcclxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmV4dGVudHNbMV0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XHJcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMCwgMCwgdGhpcy5oYWxmU2lkZUxlbmd0aHNbMl0pO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuZXh0ZW50c1syXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcclxuXHJcbiAgICB2ZWMzLnNldChfdmVydGV4MSwgMSwgMCwgMCk7XHJcbiAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodGhpcy5heGVzWzBdLCBfdmVydGV4MSwgdGhpcy5fb3JpZW50YXRpb24pO1xyXG4gICAgdmVjMy5zZXQoX3ZlcnRleDEsIDAsIDEsIDApO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRoaXMuYXhlc1sxXSwgX3ZlcnRleDEsIHRoaXMuX29yaWVudGF0aW9uKTtcclxuICAgIHZlYzMuc2V0KF92ZXJ0ZXgxLCAwLCAwLCAxKTtcclxuICAgIHZlYzMudHJhbnNmb3JtUXVhdCh0aGlzLmF4ZXNbMl0sIF92ZXJ0ZXgxLCB0aGlzLl9vcmllbnRhdGlvbik7XHJcbiAgfVxyXG59XHJcblxyXG5jb25zdCBfdmVydGV4MSA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IF92ZXJ0ZXgyID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgX3ZlcnRleDMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBfdmVydGV4NCA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IF9zZWdtZW50ID0gbmV3IExpbmVTZWdtZW50KHZlYzMuY3JlYXRlKCksIHZlYzMuY3JlYXRlKCkpO1xyXG5cclxuY29uc3QgX2VkZ2VFeHRlbnRTY2FsZXMgPSBbXHJcbiAgLy8gRnJvbnQtZmFjZSBlZGdlcy5cclxuICBbWzEsIC0xLCAtMV0sIFsxLCAtMSwgMV1dLFxyXG4gIFtbMSwgLTEsIC0xXSwgWzEsIDEsIC0xXV0sXHJcbiAgW1sxLCAxLCAxXSwgWzEsIC0xLCAxXV0sXHJcbiAgW1sxLCAxLCAxXSwgWzEsIDEsIC0xXV0sXHJcbiAgLy8gQmFjay1mYWNlIGVkZ2VzLlxyXG4gIFtbLTEsIC0xLCAtMV0sIFstMSwgLTEsIDFdXSxcclxuICBbWy0xLCAtMSwgLTFdLCBbLTEsIDEsIC0xXV0sXHJcbiAgW1stMSwgMSwgMV0sIFstMSwgLTEsIDFdXSxcclxuICBbWy0xLCAxLCAxXSwgWy0xLCAxLCAtMV1dLFxyXG4gIC8vIEZyb250LXRvLWJhY2sgZWRnZXMuXHJcbiAgW1sxLCAtMSwgMV0sIFstMSwgLTEsIDFdXSxcclxuICBbWzEsIDEsIC0xXSwgWy0xLCAxLCAtMV1dLFxyXG4gIFtbMSwgMSwgMV0sIFstMSwgMSwgMV1dLFxyXG4gIFtbMSwgLTEsIC0xXSwgWy0xLCAtMSwgLTFdXSxcclxuXTtcclxuXHJcbmNvbnN0IF9mYWNlRXh0ZW50U2NhbGVzID0gW1xyXG4gIFtbMSwgLTEsIC0xXSwgWzEsIC0xLCAxXSwgWzEsIDEsIDFdLCBbMSwgMSwgLTFdXSxcclxuICBbWy0xLCAtMSwgLTFdLCBbLTEsIC0xLCAxXSwgWy0xLCAxLCAxXSwgWy0xLCAxLCAtMV1dLFxyXG4gIFtbLTEsIDEsIC0xXSwgWzEsIDEsIC0xXSwgWzEsIDEsIDFdLCBbLTEsIDEsIDFdXSxcclxuICBbWy0xLCAtMSwgLTFdLCBbMSwgLTEsIC0xXSwgWzEsIC0xLCAxXSwgWy0xLCAtMSwgMV1dLFxyXG4gIFtbLTEsIC0xLCAxXSwgWzEsIC0xLCAxXSwgWzEsIDEsIDFdLCBbLTEsIDEsIDFdXSxcclxuICBbWy0xLCAtMSwgLTFdLCBbMSwgLTEsIC0xXSwgWzEsIDEsIC0xXSwgWy0xLCAxLCAtMV1dLFxyXG5dO1xyXG5cclxuY29uc3QgX3B1c2hlZE91dEZhY2VPZmZzZXREaXJlY3Rpb25zID0gW1xyXG4gIHZlYzMuZnJvbVZhbHVlcygxLCAwLCAwKSxcclxuICB2ZWMzLmZyb21WYWx1ZXMoLTEsIDAsIDApLFxyXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAxLCAwKSxcclxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgLTEsIDApLFxyXG4gIHZlYzMuZnJvbVZhbHVlcygwLCAwLCAxKSxcclxuICB2ZWMzLmZyb21WYWx1ZXMoMCwgMCwgLTEpLFxyXG5dO1xyXG5cclxuZXhwb3J0IHtPYmJ9O1xyXG5cclxuLyoqXHJcbiAqIEBjYWxsYmFjayBWZXJ0ZXhDYWxsYmFja1xyXG4gKiBAcGFyYW0ge3ZlYzN9XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBJZiB0cnVlLCBpdGVyYXRpb24gd2lsbCBzdG9wLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRWRnZUNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9XHJcbiAqIEByZXR1cm5zIHtib29sZWFufSBJZiB0cnVlLCBpdGVyYXRpb24gd2lsbCBzdG9wLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAY2FsbGJhY2sgRmFjZUNhbGxiYWNrXHJcbiAqIEBwYXJhbSB7QXJyYXkuPHZlYzM+fVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gSWYgdHJ1ZSwgaXRlcmF0aW9uIHdpbGwgc3RvcC5cclxuICovXHJcbiIsImltcG9ydCB7Q29sbGlkYWJsZX0gZnJvbSAnLi9jb2xsaWRhYmxlJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIGNsYXNzIHJlcHJlc2VudHMgYSBib3VuZGluZyBzcGhlcmUuXHJcbiAqXHJcbiAqIFRoaXMgaXMgcHJpbWFyaWx5IHVzZWZ1bCBmb3IgY29sbGlzaW9uIGRldGVjdGlvbi4gQSBib3VuZGluZyBzcGhlcmUgaXMgb25seSBhcHByb3ByaWF0ZSBmb3Igc29tZVxyXG4gKiBnZW9tZXRyaWVzLiBGb3Igb3RoZXIgZ2VvbWV0cmllcywgYW4gYXhpYWxseS1hbGlnbmVkIGJvdW5kaW5nIGJveCBtYXkgYmUgbW9yZSBhcHByb3ByaWF0ZS4gRm9yXHJcbiAqIG90aGVycyBzdGlsbCwgYW4gb3JpZW50ZWQgYm91bmRpbmcgYm94IG9yIGEgbW9yZSBjb21wbGljYXRlZCBoaWVyYXJjaGljYWwgbW9kZWwgbWF5IGJlIG1vcmVcclxuICogYXBwcm9wcmlhdGUuXHJcbiAqL1xyXG5jbGFzcyBTcGhlcmUgZXh0ZW5kcyBDb2xsaWRhYmxlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gY2VudGVyWFxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBjZW50ZXJZXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IGNlbnRlclpcclxuICAgKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXHJcbiAgICogQHBhcmFtIHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXVxyXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxyXG4gICAqL1xyXG4gIGNvbnN0cnVjdG9yKGNlbnRlclgsIGNlbnRlclksIGNlbnRlclosIHJhZGl1cywgaXNTdGF0aW9uYXJ5ID0gZmFsc2UsIHBoeXNpY3NKb2IpIHtcclxuICAgIHN1cGVyKGlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XHJcbiAgICB0aGlzLmNlbnRlclggPSBjZW50ZXJYO1xyXG4gICAgdGhpcy5jZW50ZXJZID0gY2VudGVyWTtcclxuICAgIHRoaXMuY2VudGVyWiA9IGNlbnRlclo7XHJcbiAgICB0aGlzLnJhZGl1cyA9IHJhZGl1cztcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHt2ZWMzfVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIGdldCBjZW50ZXJPZlZvbHVtZSgpIHtcclxuICAgIC8vIFJldXNlIHRoZSBzYW1lIG9iamVjdCB3aGVuIHRoaXMgaXMgY2FsbGVkIG11bHRpcGxlIHRpbWVzLlxyXG4gICAgdGhpcy5fY2VudGVyID0gdGhpcy5fY2VudGVyIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICB2ZWMzLnNldCh0aGlzLl9jZW50ZXIsIHRoaXMuY2VudGVyWCwgdGhpcy5jZW50ZXJZLCB0aGlzLmNlbnRlclopO1xyXG4gICAgcmV0dXJuIHRoaXMuX2NlbnRlcjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIGdldCBib3VuZGluZ1ZvbHVtZSgpIHtcclxuICAgIHJldHVybiB0aGlzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHt2ZWMzfSB2YWx1ZVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xyXG4gICAgdGhpcy5jZW50ZXJYID0gdmFsdWVbMF07XHJcbiAgICB0aGlzLmNlbnRlclkgPSB2YWx1ZVsxXTtcclxuICAgIHRoaXMuY2VudGVyWiA9IHZhbHVlWzJdO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtxdWF0fSB2YWx1ZVxyXG4gICAqIEBvdmVycmlkZVxyXG4gICAqL1xyXG4gIHNldCBvcmllbnRhdGlvbih2YWx1ZSkge1xyXG4gICAgLy8gRG8gbm90aGluZy5cclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7U3BoZXJlfTtcclxuIiwiaW1wb3J0ICogYXMgYWFiYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xyXG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vc3JjL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XHJcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9vYmItY29sbGlzaW9uLWRldGVjdGlvbic7XHJcbmltcG9ydCAqIGFzIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL3NyYy9zcGhlcmUtY29sbGlzaW9uLWRldGVjdGlvbic7XHJcblxyXG5leHBvcnQge1xyXG4gIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24sXHJcbiAgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbixcclxuICBvYmJDb2xsaXNpb25EZXRlY3Rpb24sXHJcbiAgc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLFxyXG59O1xyXG4iLCJpbXBvcnQgKiBhcyBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9zcGhlcmUtY29sbGlzaW9uLWRldGVjdGlvbic7XHJcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcclxuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XHJcbmltcG9ydCB7YWFiYlZzUG9pbnQgYXMgZ2VvbWV0cnlBYWJiVnNQb2ludH0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcblxyXG4vKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxyXG4gKiBheGlhbGx5LWFsaWduZWQgYm91bmRpbmcgYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cclxuICovXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNQb2ludChhYWJiLCBwb2ludCkge1xyXG4gIHJldHVybiBnZW9tZXRyeUFhYmJWc1BvaW50KGFhYmIsIHBvaW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gYWFiYlZzU3BoZXJlKGFhYmIsIHNwaGVyZSkge1xyXG4gIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNBYWJiKHNwaGVyZSwgYWFiYik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJBXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYkJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNBYWJiKGFhYmJBLCBhYWJiQikge1xyXG4gIHJldHVybiBhYWJiQS5tYXhYID49IGFhYmJCLm1pblggJiYgYWFiYkEubWluWCA8PSBhYWJiQi5tYXhYICYmXHJcbiAgICAgIGFhYmJBLm1heFkgPj0gYWFiYkIubWluWSAmJiBhYWJiQS5taW5ZIDw9IGFhYmJCLm1heFkgJiZcclxuICAgICAgYWFiYkEubWF4WiA+PSBhYWJiQi5taW5aICYmIGFhYmJBLm1pblogPD0gYWFiYkIubWF4WjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gYWFiYlZzT2JiKGFhYmIsIG9iYikge1xyXG4gIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNBYWJiKG9iYiwgYWFiYik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gYWFiYlZzQ2Fwc3VsZShhYWJiLCBjYXBzdWxlKSB7XHJcbiAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzQWFiYihjYXBzdWxlLCBhYWJiKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBhYWJiVnNQb2ludCxcclxuICBhYWJiVnNTcGhlcmUsXHJcbiAgYWFiYlZzQWFiYixcclxuICBhYWJiVnNPYmIsXHJcbiAgYWFiYlZzQ2Fwc3VsZSxcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBkZXRlY3Rpbmcgd2hldGhlciBpbnRlcnNlY3Rpb24gaGFzIG9jY3VycmVkIGJldHdlZW5cclxuICogY2Fwc3VsZXMgYW5kIG90aGVyIHNoYXBlcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsXHJcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcclxuICBmaW5kU3F1YXJlZERpc3RhbmNlRnJvbVNlZ21lbnRUb1BvaW50LFxyXG4gIHRtcFZlYzFcclxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcclxuaW1wb3J0ICogYXMgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vb2JiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxyXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gY2Fwc3VsZVZzUG9pbnQoY2Fwc3VsZSwgcG9pbnQpIHtcclxuICByZXR1cm4gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChjYXBzdWxlLnNlZ21lbnQsIHBvaW50KSA8PVxyXG4gICAgICBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBzdWxlVnNTcGhlcmUoY2Fwc3VsZSwgc3BoZXJlKSB7XHJcbiAgY29uc3Qgc3VtT2ZSYWRpaSA9IGNhcHN1bGUucmFkaXVzICsgc3BoZXJlLnJhZGl1cztcclxuICByZXR1cm4gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChjYXBzdWxlLnNlZ21lbnQsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSkgPD1cclxuICAgICAgc3VtT2ZSYWRpaSAqIHN1bU9mUmFkaWk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXHJcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XHJcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcclxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gY2Fwc3VsZVZzQWFiYihjYXBzdWxlLCBhYWJiKSB7XHJcbiAgY29uc3Qgc3F1YXJlZFJhZGl1cyA9IGNhcHN1bGUucmFkaXVzICogY2Fwc3VsZS5yYWRpdXM7XHJcblxyXG4gIC8vIENoZWNrIHdoZXRoZXIgdGhlIHR3byBjYXBzdWxlIGVuZHMgaW50ZXJzZWN0IHRoZSBBQUJCIChzcGhlcmUgdnMgQUFCQikgKGFkZHJlc3NlcyB0aGVcclxuICAvLyBjYXBzdWxlLXZzLUFBQkItZmFjZSBjYXNlKS5cclxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KHRtcFZlYzEsIGFhYmIsIGNhcHN1bGUuc2VnbWVudC5zdGFydCk7XHJcbiAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudC5zdGFydCkgPD0gc3F1YXJlZFJhZGl1cykge1xyXG4gICAgcmV0dXJuIHRydWU7XHJcbiAgfVxyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMSwgYWFiYiwgY2Fwc3VsZS5zZWdtZW50LmVuZCk7XHJcbiAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudC5lbmQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcclxuICAgIHJldHVybiB0cnVlO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2Fwc3VsZSBpbnRlcnNlY3RzIHdpdGggYW55IEFBQkIgZWRnZSAoYWRkcmVzc2VzIHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZVxyXG4gIC8vIGNhc2UpLlxyXG4gIHJldHVybiBhYWJiLnNvbWVFZGdlKGVkZ2UgPT5cclxuICAgICAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhjYXBzdWxlLnNlZ21lbnQsIGVkZ2UpIDw9IHNxdWFyZWRSYWRpdXMpO1xyXG5cclxuICAvLyAoVGhlIGNhcHN1bGUtdnMtQUFCQi12ZXJ0ZXggY2FzZSBpcyBjb3ZlcmVkIGJ5IHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZSBjYXNlKS5cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gY2Fwc3VsZVZzT2JiKGNhcHN1bGUsIG9iYikge1xyXG4gIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNDYXBzdWxlKG9iYiwgY2Fwc3VsZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVBXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBzdWxlVnNDYXBzdWxlKGNhcHN1bGVBLCBjYXBzdWxlQikge1xyXG4gIGNvbnN0IHN1bU9mUmFkaWkgPSBjYXBzdWxlQS5yYWRpdXMgKyBjYXBzdWxlQi5yYWRpdXM7XHJcbiAgcmV0dXJuIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMoY2Fwc3VsZUEuc2VnbWVudCwgY2Fwc3VsZUIuc2VnbWVudCkgPD1cclxuICAgICAgc3VtT2ZSYWRpaSAqIHN1bU9mUmFkaWk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY2Fwc3VsZVZzUG9pbnQsXHJcbiAgY2Fwc3VsZVZzU3BoZXJlLFxyXG4gIGNhcHN1bGVWc0FhYmIsXHJcbiAgY2Fwc3VsZVZzT2JiLFxyXG4gIGNhcHN1bGVWc0NhcHN1bGUsXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgZGV0ZWN0aW5nIHdoZXRoZXIgaW50ZXJzZWN0aW9uIGhhcyBvY2N1cnJlZCBiZXR3ZWVuXHJcbiAqIG9yaWVudGVkIGJvdW5kaW5nIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtcclxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQsXHJcbiAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24sXHJcbiAgZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyxcclxuICB0bXBWZWMxLFxyXG4gIHRtcFZlYzIsXHJcbiAgdG1wVmVjMyxcclxuICB0bXBWZWM0XHJcbn0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcbmltcG9ydCAqIGFzIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24gZnJvbSAnLi9hYWJiLWNvbGxpc2lvbi1kZXRlY3Rpb24nO1xyXG5pbXBvcnQgKiBhcyBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uIGZyb20gJy4vY2Fwc3VsZS1jb2xsaXNpb24tZGV0ZWN0aW9uJztcclxuXHJcbi8vIFRPRE86IFJlZmFjdG9yIHRoZXNlIHRvIG5vdCBhY3R1YWxseSBjYWxjdWxhdGUgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbi4gVGhlc2UgY2hlY2tzIGNhblxyXG4vLyBpbnN0ZWFkIGJlIGRvbmUgbW9yZSBlZmZpY2llbnRseSB1c2luZyBTQVQuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHBvaW50XHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gb2JiVnNQb2ludChvYmIsIHBvaW50KSB7XHJcbiAgdmVjMy5zdWJ0cmFjdCh0bXBWZWM0LCBwb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcclxuXHJcbiAgdmVjMy5zZXQodG1wVmVjMSwgMSwgMCwgMCk7XHJcbiAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzEsIHRtcFZlYzEsIG9iYi5vcmllbnRhdGlvbik7XHJcbiAgY29uc3QgYXhpczFEaXN0YW5jZSA9IHZlYzMuZG90KHRtcFZlYzQsIHRtcFZlYzEpO1xyXG5cclxuICBpZiAoYXhpczFEaXN0YW5jZSA+PSAtb2JiLmhhbGZTaWRlTGVuZ3RoWCAmJiBheGlzMURpc3RhbmNlIDw9IG9iYi5oYWxmU2lkZUxlbmd0aFgpIHtcclxuICAgIHZlYzMuc2V0KHRtcFZlYzIsIDAsIDEsIDApO1xyXG4gICAgdmVjMy50cmFuc2Zvcm1RdWF0KHRtcFZlYzIsIHRtcFZlYzIsIG9iYi5vcmllbnRhdGlvbik7XHJcbiAgICBjb25zdCBheGlzMkRpc3RhbmNlID0gdmVjMy5kb3QodG1wVmVjNCwgdG1wVmVjMik7XHJcblxyXG4gICAgaWYgKGF4aXMyRGlzdGFuY2UgPj0gLW9iYi5oYWxmU2lkZUxlbmd0aFkgJiYgYXhpczJEaXN0YW5jZSA8PSBvYmIuaGFsZlNpZGVMZW5ndGhZKSB7XHJcbiAgICAgIHZlYzMuc2V0KHRtcFZlYzMsIDAsIDAsIDEpO1xyXG4gICAgICB2ZWMzLnRyYW5zZm9ybVF1YXQodG1wVmVjMywgdG1wVmVjMywgb2JiLm9yaWVudGF0aW9uKTtcclxuICAgICAgY29uc3QgYXhpczNEaXN0YW5jZSA9IHZlYzMuZG90KHRtcFZlYzQsIHRtcFZlYzMpO1xyXG5cclxuICAgICAgcmV0dXJuIGF4aXMzRGlzdGFuY2UgPj0gLW9iYi5oYWxmU2lkZUxlbmd0aFogJiYgYXhpczNEaXN0YW5jZSA8PSBvYmIuaGFsZlNpZGVMZW5ndGhaO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gb2JiVnNTcGhlcmUob2JiLCBzcGhlcmUpIHtcclxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQodG1wVmVjMSwgb2JiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xyXG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpIDw9XHJcbiAgICAgIHNwaGVyZS5yYWRpdXMgKiBzcGhlcmUucmFkaXVzO1xyXG59XHJcblxyXG4vKipcclxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxyXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxyXG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXHJcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cclxuICpcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBvYmJWc0FhYmIob2JiLCBhYWJiKSB7XHJcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihvYmIsIGFhYmIsIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQpO1xyXG59XHJcblxyXG4vKipcclxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxyXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxyXG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXHJcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cclxuICpcclxuICogQHBhcmFtIHtPYmJ9IG9iYkFcclxuICogQHBhcmFtIHtPYmJ9IG9iYkJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBvYmJWc09iYihvYmJBLCBvYmJCKSB7XHJcbiAgcmV0dXJuIF9vYmJWc0JveEhlbHBlcihvYmJBLCBvYmJCLCBvYmJWc1BvaW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJcclxuICogQHBhcmFtIHtPYmJ8QWFiYn0gb3RoZXJcclxuICogQHBhcmFtIHtGdW5jdGlvbn0gb3RoZXJWc1BvaW50Q2FsbGJhY2tcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfb2JiVnNCb3hIZWxwZXIob2JiLCBvdGhlciwgb3RoZXJWc1BvaW50Q2FsbGJhY2spIHtcclxuICAvLyBDaGVjayB3aGV0aGVyIGFueSB2ZXJ0aWNlcyBmcm9tIEEgbGllIHdpdGhpbiBCJ3MgYm91bmRzLlxyXG4gIGlmIChvYmIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb3RoZXJWc1BvaW50Q2FsbGJhY2sob3RoZXIsIHZlcnRleCkpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBCIGxpZSB3aXRoaW4gQSdzIGJvdW5kcy5cclxuICBpZiAob3RoZXIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb2JiVnNQb2ludChvYmIsIHZlcnRleCkpKSByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgLy8gV2UgYXNzdW1lIHRoYXQgYSB2ZXJ0ZXgtdG8tZmFjZSBjb2xsaXNpb24gd291bGQgaGF2ZSBiZWVuIGRldGVjdGVkIGJ5IG9uZSBvZiB0aGUgdHdvIGFib3ZlXHJcbiAgLy8gY2hlY2tzLiBBbnkgZWRnZS10by1lZGdlIGNvbGxpc2lvbiBtdXN0IGludm9sdmUgYm90aCBhbiBlZGdlIGZyb20gQSB0aHJvdWdoIGEgZmFjZSBvZiBCIGFuZFxyXG4gIC8vIHZpY2UgdmVyc2EuIFNvIGl0IGlzIHN1ZmZpY2llbnQgdG8gb25seSBjaGVjayB0aGUgZWRnZXMgb2Ygb25lIGFuZCB0aGUgZmFjZXMgb2YgdGhlIG90aGVyLlxyXG4gIGlmIChvdGhlci5zb21lRWRnZShlZGdlID0+XHJcbiAgICAgICAgICBvYmIuc29tZUZhY2UoZmFjZSA9PlxyXG4gICAgICAgICAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHRtcFZlYzEsIGVkZ2UsIC4uLmZhY2UpKSkpXHJcbiAgICByZXR1cm4gdHJ1ZTtcclxuXHJcbiAgcmV0dXJuIGZhbHNlO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBvYmJWc0NhcHN1bGUob2JiLCBjYXBzdWxlKSB7XHJcbiAgLy8gQ2hlY2sgdGhlIGVkZ2VzLlxyXG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xyXG4gIGxldCBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZUVkZ2UoZWRnZSA9PlxyXG4gICAgICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGUuc2VnbWVudCwgZWRnZSkgPCBzcXVhcmVkUmFkaXVzKTtcclxuXHJcbiAgaWYgKGFyZUludGVyc2VjdGluZykgcmV0dXJuIHRydWU7XHJcblxyXG4gIC8vIENoZWNrIHRoZSBmYWNlcy5cclxuICBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZVB1c2hlZE91dEZhY2UoZmFjZSA9PlxyXG4gICAgICAgICAgZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24odG1wVmVjMSwgY2Fwc3VsZS5zZWdtZW50LCAuLi5mYWNlKSwgY2Fwc3VsZS5yYWRpdXMpO1xyXG5cclxuICAvLyBDaGVjayBmb3IgaW5jbHVzaW9uIG9mIG9uZSBzaGFwZSBpbnNpZGUgdGhlIG90aGVyLlxyXG4gIGFyZUludGVyc2VjdGluZyA9IGFyZUludGVyc2VjdGluZyB8fCBvYmJWc1BvaW50KG9iYiwgY2Fwc3VsZS5jZW50ZXJPZlZvbHVtZSk7XHJcbiAgYXJlSW50ZXJzZWN0aW5nID0gYXJlSW50ZXJzZWN0aW5nIHx8IGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzUG9pbnQoY2Fwc3VsZSxcclxuICAgICAgb2JiLmNlbnRlck9mVm9sdW1lKTtcclxuXHJcbiAgcmV0dXJuIGFyZUludGVyc2VjdGluZztcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBvYmJWc1BvaW50LFxyXG4gIG9iYlZzU3BoZXJlLFxyXG4gIG9iYlZzQWFiYixcclxuICBvYmJWc09iYixcclxuICBvYmJWc0NhcHN1bGUsXHJcbn07XHJcbiIsImltcG9ydCB7ZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCwgdG1wVmVjMX0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcbmltcG9ydCAqIGFzIG9iYkNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL29iYi1jb2xsaXNpb24tZGV0ZWN0aW9uJztcclxuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbiBmcm9tICcuL2NhcHN1bGUtY29sbGlzaW9uLWRldGVjdGlvbic7XHJcblxyXG4vKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyB1dGlsaXR5IG1ldGhvZHMgZm9yIGRldGVjdGluZyB3aGV0aGVyIGludGVyc2VjdGlvbiBoYXMgb2NjdXJyZWQgYmV0d2VlblxyXG4gKiBzcGhlcmVzIGFuZCBvdGhlciBzaGFwZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzUG9pbnQoc3BoZXJlLCBwb2ludCkge1xyXG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShwb2ludCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PSBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVBXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVCXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gc3BoZXJlVnNTcGhlcmUoc3BoZXJlQSwgc3BoZXJlQikge1xyXG4gIGNvbnN0IHN1bU9mUmFkaWkgPSBzcGhlcmVBLnJhZGl1cyArIHNwaGVyZUIucmFkaXVzO1xyXG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShzcGhlcmVBLmNlbnRlck9mVm9sdW1lLCBzcGhlcmVCLmNlbnRlck9mVm9sdW1lKSA8PVxyXG4gICAgICBzdW1PZlJhZGlpICogc3VtT2ZSYWRpaTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gc3BoZXJlVnNBYWJiKHNwaGVyZSwgYWFiYikge1xyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMSwgYWFiYiwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcclxuICByZXR1cm4gdmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMSwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKSA8PSBzcGhlcmUucmFkaXVzICogc3BoZXJlLnJhZGl1cztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzT2JiKHNwaGVyZSwgb2JiKSB7XHJcbiAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1NwaGVyZShvYmIsIHNwaGVyZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzQ2Fwc3VsZShzcGhlcmUsIGNhcHN1bGUpIHtcclxuICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNTcGhlcmUoY2Fwc3VsZSwgc3BoZXJlKTtcclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBzcGhlcmVWc1BvaW50LFxyXG4gIHNwaGVyZVZzU3BoZXJlLFxyXG4gIHNwaGVyZVZzQWFiYixcclxuICBzcGhlcmVWc09iYixcclxuICBzcGhlcmVWc0NhcHN1bGUsXHJcbn07XHJcbiIsImltcG9ydCAqIGFzIGFhYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvYWFiYi1jb250YWN0LWNhbGN1bGF0aW9uJztcclxuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL3NyYy9jYXBzdWxlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9zcmMvc3BoZXJlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5cclxuZXhwb3J0IHtcclxuICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLFxyXG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24sXHJcbiAgb2JiQ29udGFjdENhbGN1bGF0aW9uLFxyXG4gIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbixcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBheGlhbGx5LWFsaWduZWQgXHJcbiAqIGJvdW5kaW5nIGJveGVzIGFuZCBvdGhlciBzaGFwZXMuXHJcbiAqXHJcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXHJcbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXHJcbiAqL1xyXG5cclxuaW1wb3J0ICogYXMgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vc3BoZXJlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5pbXBvcnQgKiBhcyBvYmJDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9vYmItY29udGFjdC1jYWxjdWxhdGlvbic7XHJcbmltcG9ydCAqIGFzIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24gZnJvbSAnLi9jYXBzdWxlLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5pbXBvcnQge3RtcFZlYzF9IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge2FhYmJDb2xsaXNpb25EZXRlY3Rpb259IGZyb20gJy4uLy4uL2NvbGxpc2lvbi1kZXRlY3Rpb24nO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICovXHJcbmZ1bmN0aW9uIGFhYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgcG9pbnQpIHtcclxuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XHJcbiAgZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgYWFiYik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhYWJiLCBzcGhlcmUpIHtcclxuICBzcGhlcmVDb250YWN0Q2FsY3VsYXRpb24uc3BoZXJlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBhYWJiKTtcclxuICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtBYWJifSBhYWJiQVxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJCXHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYkEsIGFhYmJCKSB7XHJcbiAgLy8gQ29tcHV0ZSB0aGUgY29udGFjdCBub3JtYWwuXHJcbiAgdmVjMy5zZXQoY29udGFjdE5vcm1hbCwgMCwgMCwgMCk7XHJcbiAgY29uc3QgeEludGVyc2VjdGlvbkRlcHRoID0gTWF0aC5taW4oYWFiYkEubWF4WCAtIGFhYmJCLm1pblgsIGFhYmJCLm1heFggLSBhYWJiQS5taW5YKTtcclxuICBjb25zdCB5SW50ZXJzZWN0aW9uRGVwdGggPSBNYXRoLm1pbihhYWJiQS5tYXhZIC0gYWFiYkIubWluWSwgYWFiYkIubWF4WSAtIGFhYmJBLm1pblkpO1xyXG4gIGNvbnN0IHpJbnRlcnNlY3Rpb25EZXB0aCA9IE1hdGgubWluKGFhYmJBLm1heFogLSBhYWJiQi5taW5aLCBhYWJiQi5tYXhaIC0gYWFiYkEubWluWik7XHJcbiAgLy8gQXNzdW1lIHRoYXQgdGhlIGRpcmVjdGlvbiBvZiBpbnRlcnNlY3Rpb24gY29ycmVzcG9uZHMgdG8gd2hpY2hldmVyIGF4aXMgaGFzIHRoZSBzaGFsbG93ZXN0XHJcbiAgLy8gaW50ZXJzZWN0aW9uLlxyXG4gIGlmICh4SW50ZXJzZWN0aW9uRGVwdGggPD0geUludGVyc2VjdGlvbkRlcHRoKSB7XHJcbiAgICBpZiAoeEludGVyc2VjdGlvbkRlcHRoIDw9IHpJbnRlcnNlY3Rpb25EZXB0aCkge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzBdID0gYWFiYkEubWF4WCAtIGFhYmJCLm1pblggPD0gYWFiYkIubWF4WCAtIGFhYmJBLm1pblggPyAxIDogLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gYWFiYkEubWF4WiAtIGFhYmJCLm1pblogPD0gYWFiYkIubWF4WiAtIGFhYmJBLm1pblogPyAxIDogLTE7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh5SW50ZXJzZWN0aW9uRGVwdGggPD0gekludGVyc2VjdGlvbkRlcHRoKSB7XHJcbiAgICAgIGNvbnRhY3ROb3JtYWxbMV0gPSBhYWJiQS5tYXhZIC0gYWFiYkIubWluWSA8PSBhYWJiQi5tYXhZIC0gYWFiYkEubWluWSA/IDEgOiAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBhYWJiQS5tYXhaIC0gYWFiYkIubWluWiA8PSBhYWJiQi5tYXhaIC0gYWFiYkEubWluWiA/IDEgOiAtMTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIFRPRE86IFRoZSB0d28gQUFCQnMgZm9ybSBhIHNxdWFyZSBpbnRlcnNlY3Rpb24gY3Jvc3Mtc2VjdGlvbiByZWdpb24gYWxvbmcgdGhlIGRpcmVjdGlvbiBvZiB0aGVcclxuICAvLyBub3JtYWwuIENhbGN1bGF0ZSB0aGUgY2VudGVyIG9mIHRoYXQgc3F1YXJlIHRvIHVzZSBhcyB0aGUgcG9pbnQgb2YgY29udGFjdC5cclxuICBpZiAoIWFhYmJBLnNvbWVWZXJ0ZXgodmVydGV4ID0+IGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYWFiYkIsIHZlcnRleCksXHJcbiAgICAgICAgICBjb250YWN0UG9pbnQpKSB7XHJcbiAgICBhYWJiQi5zb21lVmVydGV4KHZlcnRleCA9PiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50KGFhYmJBLCB2ZXJ0ZXgpLCBjb250YWN0UG9pbnQpO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJcclxuICovXHJcbmZ1bmN0aW9uIGFhYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGFhYmIsIG9iYikge1xyXG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGFhYmIpO1xyXG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYWFiYiwgY2Fwc3VsZSkge1xyXG4gIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzQWFiYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIGFhYmIpO1xyXG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kQWFiYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBhYWJiKSB7XHJcbiAgdmVjMy5zZXQoY29udGFjdE5vcm1hbCwgMCwgMCwgMCk7XHJcbiAgdmVjMy5zdWJ0cmFjdCh0bXBWZWMxLCBjb250YWN0UG9pbnQsIGFhYmIuY2VudGVyT2ZWb2x1bWUpO1xyXG4gIGNvbnN0IHhEaXN0YW5jZUZyb21GYWNlID0gYWFiYi5yYW5nZVggLyAyIC0gTWF0aC5hYnModG1wVmVjMVswXSk7XHJcbiAgY29uc3QgeURpc3RhbmNlRnJvbUZhY2UgPSBhYWJiLnJhbmdlWSAvIDIgLSBNYXRoLmFicyh0bXBWZWMxWzFdKTtcclxuICBjb25zdCB6RGlzdGFuY2VGcm9tRmFjZSA9IGFhYmIucmFuZ2VaIC8gMiAtIE1hdGguYWJzKHRtcFZlYzFbMl0pO1xyXG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBwb2ludCBpcyBjb250YWN0aW5nIHdoaWNoZXZlciBmYWNlIGl0J3MgY2xvc2VzdCB0by5cclxuICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0geURpc3RhbmNlRnJvbUZhY2UpIHtcclxuICAgIGlmICh4RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzBdID0gdG1wVmVjMVswXSA+IDAgPyAxIDogLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gdG1wVmVjMVsyXSA+IDAgPyAxIDogLTE7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh5RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzFdID0gdG1wVmVjMVsxXSA+IDAgPyAxIDogLTE7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzJdID0gdG1wVmVjMVsyXSA+IDAgPyAxIDogLTE7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGFhYmJWc1BvaW50LFxyXG4gIGFhYmJWc1NwaGVyZSxcclxuICBhYWJiVnNBYWJiLFxyXG4gIGFhYmJWc09iYixcclxuICBhYWJiVnNDYXBzdWxlLFxyXG4gIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCxcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBjYXBzdWxlcyBhbmQgb3RoZXIgXHJcbiAqIHNoYXBlcy5cclxuICpcclxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cclxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQsXHJcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQsXHJcbiAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCxcclxuICB0bXBWZWMxLFxyXG4gIHRtcFZlYzJcclxufSBmcm9tICcuLi8uLi8uLi91dGlsJztcclxuaW1wb3J0ICogYXMgb2JiQ29udGFjdENhbGN1bGF0aW9uIGZyb20gJy4vb2JiLWNvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICovXHJcbmZ1bmN0aW9uIGNhcHN1bGVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgcG9pbnQpIHtcclxuICB2ZWMzLmNvcHkoY29udGFjdFBvaW50LCBwb2ludCk7XHJcbiAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY29udGFjdE5vcm1hbCwgY2Fwc3VsZS5zZWdtZW50LCBwb2ludCk7XHJcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwpO1xyXG4gIHZlYzMubm9ybWFsaXplKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgdGhlIGNhcHN1bGUgdG8gdGhlIHNwaGVyZSBjZW50ZXIuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICovXHJcbmZ1bmN0aW9uIGNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIHNwaGVyZSkge1xyXG4gIGNvbnN0IHNwaGVyZUNlbnRlciA9IHNwaGVyZS5jZW50ZXJPZlZvbHVtZTtcclxuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjb250YWN0UG9pbnQsIGNhcHN1bGUuc2VnbWVudCwgc3BoZXJlQ2VudGVyKTtcclxuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHNwaGVyZUNlbnRlciwgY29udGFjdFBvaW50KTtcclxuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKGNvbnRhY3RQb2ludCwgY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlLnJhZGl1cyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgY2Fwc3VsZSB0byB0aGUgQUFCQi5cclxuICpcclxuICogTk9URTogVGhpcyBpbXBsZW1lbnRhdGlvbiBjaGVhdHMgYnkgY2hlY2tpbmcgd2hldGhlciB2ZXJ0aWNlcyBmcm9tIG9uZSBzaGFwZSBsaWUgd2l0aGluIHRoZVxyXG4gKiBvdGhlci4gRHVlIHRvIHRoZSB0dW5uZWxsaW5nIHByb2JsZW0sIGl0IGlzIHBvc3NpYmxlIHRoYXQgaW50ZXJzZWN0aW9uIG9jY3VycyB3aXRob3V0IGFueVxyXG4gKiB2ZXJ0aWNlcyBseWluZyB3aXRoaW4gdGhlIG90aGVyIHNoYXBlLiBIb3dldmVyLCAoQSkgdGhpcyBpcyB1bmxpa2VseSwgYW5kIChCKSB3ZSBhcmUgaWdub3JpbmcgdGhlXHJcbiAqIHR1bm5lbGxpbmcgcHJvYmxlbSBmb3IgdGhlIHJlc3Qgb2YgdGhpcyBjb2xsaXNpb24gc3lzdGVtIGFueXdheS5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqL1xyXG5mdW5jdGlvbiBjYXBzdWxlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgY2Fwc3VsZSwgYWFiYikge1xyXG4gIC8vIHRtcFZlYzEgcmVwcmVzZW50cyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgY2Fwc3VsZSB0byB0aGUgQUFCQi4gdG1wVmVjMlxyXG4gIC8vIHJlcHJlc2VudHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIEFBQkIgdG8gdGhlIGNhcHN1bGUuXHJcblxyXG4gIC8vXHJcbiAgLy8gQ2hlY2sgd2hldGhlciB0aGUgdHdvIGNhcHN1bGUgZW5kcyBpbnRlcnNlY3QgdGhlIEFBQkIgKHNwaGVyZSB2cyBBQUJCKSAoYWRkcmVzc2VzIHRoZVxyXG4gIC8vIGNhcHN1bGUtdnMtQUFCQi1mYWNlIGNhc2UpLlxyXG4gIC8vXHJcblxyXG4gIGNvbnN0IHNxdWFyZWRSYWRpdXMgPSBjYXBzdWxlLnJhZGl1cyAqIGNhcHN1bGUucmFkaXVzO1xyXG4gIGxldCBkb2VzQWFiYkludGVyc2VjdEFuRW5kUG9pbnQgPSBmYWxzZTtcclxuXHJcbiAgbGV0IGVuZFBvaW50ID0gY2Fwc3VsZS5zZWdtZW50LnN0YXJ0O1xyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlRvUG9pbnQodG1wVmVjMiwgYWFiYiwgZW5kUG9pbnQpO1xyXG4gIGlmICh2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMyLCBlbmRQb2ludCkgPD0gc3F1YXJlZFJhZGl1cykge1xyXG4gICAgZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50ID0gdHJ1ZTtcclxuICB9IGVsc2Uge1xyXG4gICAgZW5kUG9pbnQgPSBjYXBzdWxlLnNlZ21lbnQuZW5kO1xyXG4gICAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludCh0bXBWZWMyLCBhYWJiLCBlbmRQb2ludCk7XHJcbiAgICBpZiAodmVjMy5zcXVhcmVkRGlzdGFuY2UodG1wVmVjMiwgZW5kUG9pbnQpIDw9IHNxdWFyZWRSYWRpdXMpIHtcclxuICAgICAgZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50ID0gdHJ1ZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGlmICghZG9lc0FhYmJJbnRlcnNlY3RBbkVuZFBvaW50KSB7XHJcbiAgICAvL1xyXG4gICAgLy8gQ2hlY2sgd2hldGhlciB0aGUgY2Fwc3VsZSBpbnRlcnNlY3RzIHdpdGggYW55IEFBQkIgZWRnZSAoYWRkcmVzc2VzIHRoZSBjYXBzdWxlLXZzLUFBQkItZWRnZVxyXG4gICAgLy8gY2FzZSkuXHJcbiAgICAvL1xyXG4gICAgYWFiYi5zb21lRWRnZShlZGdlID0+IHtcclxuICAgICAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCh0bXBWZWMxLCB0bXBWZWMyLFxyXG4gICAgICAgICAgY2Fwc3VsZS5zZWdtZW50LCBlZGdlKTtcclxuICAgICAgY29uc3QgZGlzdGFuY2UgPSB2ZWMzLnNxdWFyZWREaXN0YW5jZSh0bXBWZWMxLCB0bXBWZWMyKTtcclxuICAgICAgcmV0dXJuIGRpc3RhbmNlIDw9IHNxdWFyZWRSYWRpdXM7XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIC8vIChUaGUgY2Fwc3VsZS12cy1BQUJCLXZlcnRleCBjYXNlIGlzIGNvdmVyZWQgYnkgdGhlIGNhcHN1bGUtdnMtQUFCQi1lZGdlIGNhc2UpLlxyXG5cclxuICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludCh0bXBWZWMxLCBjYXBzdWxlLnNlZ21lbnQsIHRtcFZlYzIpO1xyXG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgdG1wVmVjMiwgdG1wVmVjMSk7XHJcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUucmFkaXVzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJcclxuICovXHJcbmZ1bmN0aW9uIGNhcHN1bGVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIG9iYikge1xyXG4gIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGNhcHN1bGUpO1xyXG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9pbnQgb24gdGhlIHN1cmZhY2Ugb2YgY2Fwc3VsZSBBIHRvIGNhcHN1bGUgQi5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge0NhcHN1bGV9IGNhcHN1bGVBXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZUJcclxuICovXHJcbmZ1bmN0aW9uIGNhcHN1bGVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBjYXBzdWxlQSwgY2Fwc3VsZUIpIHtcclxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KHRtcFZlYzEsIHRtcFZlYzIsXHJcbiAgICAgIGNhcHN1bGVBLnNlZ21lbnQsIGNhcHN1bGVCLnNlZ21lbnQpO1xyXG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgdG1wVmVjMiwgdG1wVmVjMSk7XHJcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbiAgdmVjMy5zY2FsZUFuZEFkZChjb250YWN0UG9pbnQsIHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGVBLnJhZGl1cyk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgY2Fwc3VsZVZzUG9pbnQsXHJcbiAgY2Fwc3VsZVZzU3BoZXJlLFxyXG4gIGNhcHN1bGVWc0FhYmIsXHJcbiAgY2Fwc3VsZVZzT2JiLFxyXG4gIGNhcHN1bGVWc0NhcHN1bGUsXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIHV0aWxpdHkgbWV0aG9kcyBmb3IgY2FsY3VsYXRpbmcgYSBjb250YWN0IHBvaW50IGJldHdlZW4gb3JpZW50ZWQgYm91bmRpbmdcclxuICogYm94ZXMgYW5kIG90aGVyIHNoYXBlcy5cclxuICpcclxuICogLSBFYWNoIG9mIHRoZXNlIGZ1bmN0aW9ucyBhc3N1bWVzIHRoYXQgdGhlIG9iamVjdHMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cclxuICogLSBUaGUgcmVzdWx0aW5nIGNvbnRhY3QgcG9pbnQgbWF5IGJlIGFueXdoZXJlIHdpdGhpbiB0aGUgaW50ZXJzZWN0aW9uIG9mIHRoZSB0d28gb2JqZWN0cy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uLFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCxcclxuICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzLFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQsXHJcbiAgdG1wVmVjMVxyXG59IGZyb20gJy4uLy4uLy4uL3V0aWwnO1xyXG5pbXBvcnQge2FhYmJDb2xsaXNpb25EZXRlY3Rpb24sIG9iYkNvbGxpc2lvbkRldGVjdGlvbn0gZnJvbSAnLi4vLi4vY29sbGlzaW9uLWRldGVjdGlvbic7XHJcbmltcG9ydCB7TGluZVNlZ21lbnR9IGZyb20gJy4uLy4uL2NvbGxpZGFibGVzJztcclxuaW1wb3J0ICogYXMgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbic7XHJcblxyXG4vLyBUT0RPOiBUaGVyZSBhcmUgbW9yZSBlZmZpY2llbnQgKGJ1dCBmYXIgbW9yZSBjb21wbGljYXRlZCkgYWxnb3JpdGhtcyBmb3IgZmluZGluZyB0aGUgcG9pbnQgb2ZcclxuLy8gaW50ZXJzZWN0aW9uIHdpdGggT0JCcy4gUG9ydCBvdmVyIHNvbWUgb3RoZXIgcHJlLWV4aXN0aW5nIHNvbHV0aW9ucyBmb3IgdGhlc2UuXHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICovXHJcbmZ1bmN0aW9uIG9iYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIHBvaW50KSB7XHJcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xyXG4gIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludCwgb2JiKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbmRzIHRoZSBjbG9zZXN0IHBvaW50IGFueXdoZXJlIGluc2lkZSB0aGUgT0JCIHRvIHRoZSBjZW50ZXIgb2YgdGhlIHNwaGVyZS5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICovXHJcbmZ1bmN0aW9uIG9iYlZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBzcGhlcmUpIHtcclxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbU9iYlRvUG9pbnQoY29udGFjdFBvaW50LCBvYmIsIHNwaGVyZS5jZW50ZXJPZlZvbHVtZSk7XHJcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUsIGNvbnRhY3RQb2ludCk7XHJcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXHJcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XHJcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcclxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqL1xyXG5mdW5jdGlvbiBvYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIGFhYmIpIHtcclxuICByZXR1cm4gX29iYlZzQm94SGVscGVyKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBhYWJiLCBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc1BvaW50LFxyXG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBOT1RFOiBUaGlzIGltcGxlbWVudGF0aW9uIGNoZWF0cyBieSBjaGVja2luZyB3aGV0aGVyIHZlcnRpY2VzIGZyb20gb25lIHNoYXBlIGxpZSB3aXRoaW4gdGhlXHJcbiAqIG90aGVyLiBEdWUgdG8gdGhlIHR1bm5lbGxpbmcgcHJvYmxlbSwgaXQgaXMgcG9zc2libGUgdGhhdCBpbnRlcnNlY3Rpb24gb2NjdXJzIHdpdGhvdXQgYW55XHJcbiAqIHZlcnRpY2VzIGx5aW5nIHdpdGhpbiB0aGUgb3RoZXIgc2hhcGUuIEhvd2V2ZXIsIChBKSB0aGlzIGlzIHVubGlrZWx5LCBhbmQgKEIpIHdlIGFyZSBpZ25vcmluZyB0aGVcclxuICogdHVubmVsbGluZyBwcm9ibGVtIGZvciB0aGUgcmVzdCBvZiB0aGlzIGNvbGxpc2lvbiBzeXN0ZW0gYW55d2F5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJBXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJCXHJcbiAqL1xyXG5mdW5jdGlvbiBvYmJWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIG9iYkEsIG9iYkIpIHtcclxuICByZXR1cm4gX29iYlZzQm94SGVscGVyKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiQSwgb2JiQiwgb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQsXHJcbiAgICAgIGZpbmRPYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcGFyYW0ge09iYnxBYWJifSBvdGhlclxyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBvdGhlclZzUG9pbnRDb2xsaXNpb25EZXRlY3Rpb25DYWxsYmFja1xyXG4gKiBAcGFyYW0ge0Z1bmN0aW9ufSBmaW5kT3RoZXJOb3JtYWxGcm9tQ29udGFjdFBvaW50XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfb2JiVnNCb3hIZWxwZXIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIG90aGVyLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgb3RoZXJWc1BvaW50Q29sbGlzaW9uRGV0ZWN0aW9uQ2FsbGJhY2ssXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICBmaW5kT3RoZXJOb3JtYWxGcm9tQ29udGFjdFBvaW50KSB7XHJcbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBBIGxpZSB3aXRoaW4gQidzIGJvdW5kcy5cclxuICBpZiAob2JiLnNvbWVWZXJ0ZXgodmVydGV4ID0+IG90aGVyVnNQb2ludENvbGxpc2lvbkRldGVjdGlvbkNhbGxiYWNrKG90aGVyLCB2ZXJ0ZXgpLFxyXG4gICAgICAgICAgY29udGFjdFBvaW50KSkge1xyXG4gICAgZmluZE90aGVyTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG90aGVyKTtcclxuICAgIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG4gICAgcmV0dXJuO1xyXG4gIH1cclxuXHJcbiAgLy8gQ2hlY2sgd2hldGhlciBhbnkgdmVydGljZXMgZnJvbSBCIGxpZSB3aXRoaW4gQSdzIGJvdW5kcy5cclxuICBpZiAob3RoZXIuc29tZVZlcnRleCh2ZXJ0ZXggPT4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQob2JiLCB2ZXJ0ZXgpLCBjb250YWN0UG9pbnQpKSB7XHJcbiAgICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIG9iYik7XHJcbiAgICByZXR1cm47XHJcbiAgfVxyXG5cclxuICAvLyBXZSBhc3N1bWUgdGhhdCBhIHZlcnRleC10by1mYWNlIGNvbGxpc2lvbiB3b3VsZCBoYXZlIGJlZW4gZGV0ZWN0ZWQgYnkgb25lIG9mIHRoZSB0d28gYWJvdmVcclxuICAvLyBjaGVja3MuIEFueSBlZGdlLXRvLWVkZ2UgY29sbGlzaW9uIG11c3QgaW52b2x2ZSBib3RoIGFuIGVkZ2UgZnJvbSBBIHRocm91Z2ggYSBmYWNlIG9mIEIgYW5kXHJcbiAgLy8gdmljZSB2ZXJzYS4gU28gaXQgaXMgc3VmZmljaWVudCB0byBvbmx5IGNoZWNrIHRoZSBlZGdlcyBvZiBvbmUgYW5kIHRoZSBmYWNlcyBvZiB0aGUgb3RoZXIuXHJcbiAgb3RoZXIuc29tZUVkZ2UoZWRnZSA9PlxyXG4gICAgICBvYmIuc29tZUZhY2UoZmFjZSA9PiBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRQbGFuZVJlZ2lvbihjb250YWN0UG9pbnQsIGVkZ2UsIC4uLmZhY2UpKSk7XHJcbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEBwYXJhbSB7Q2Fwc3VsZX0gY2Fwc3VsZVxyXG4gKi9cclxuZnVuY3Rpb24gb2JiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgb2JiLCBjYXBzdWxlKSB7XHJcbiAgLy8gdG1wVmVjMSBpcyB0aGUgcG9pbnQgb24gdGhlIGNhcHN1bGUgc2VnbWVudCB0aGF0IGlzIGNsb3Nlc3QgdG8gdGhlIE9CQi5cclxuXHJcbiAgLy9cclxuICAvLyBDaGVjayB0aGUgZWRnZXMuXHJcbiAgLy9cclxuXHJcbiAgY29uc3Qgc2VnbWVudCA9IG5ldyBMaW5lU2VnbWVudCh2ZWMzLmNyZWF0ZSgpLCB2ZWMzLmNyZWF0ZSgpKTtcclxuICBjb25zdCBzcXVhcmVkUmFkaXVzID0gY2Fwc3VsZS5yYWRpdXMgKiBjYXBzdWxlLnJhZGl1cztcclxuICBjb25zdCBhcmVJbnRlcnNlY3RpbmcgPSBvYmIuc29tZUVkZ2UoZWRnZSA9PlxyXG4gICAgICBmaW5kU3F1YXJlZERpc3RhbmNlQmV0d2VlblNlZ21lbnRzKGNhcHN1bGUuc2VnbWVudCwgZWRnZSkgPCBzcXVhcmVkUmFkaXVzLCBzZWdtZW50KTtcclxuXHJcbiAgaWYgKGFyZUludGVyc2VjdGluZykge1xyXG4gICAgZmluZENsb3Nlc3RQb2ludHNGcm9tU2VnbWVudFRvU2VnbWVudCh0bXBWZWMxLCBjb250YWN0UG9pbnQsIGNhcHN1bGUuc2VnbWVudCwgc2VnbWVudCk7XHJcbiAgICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3ROb3JtYWwsIHRtcFZlYzEsIGNvbnRhY3RQb2ludCk7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcclxuICAgIHJldHVybjtcclxuICB9XHJcblxyXG4gIC8vXHJcbiAgLy8gQ2hlY2sgdGhlIGZhY2VzLlxyXG4gIC8vXHJcblxyXG4gIG9iYi5zb21lUHVzaGVkT3V0RmFjZShmYWNlID0+XHJcbiAgICAgIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uKHRtcFZlYzEsIGNhcHN1bGUuc2VnbWVudCwgLi4uZmFjZSksIGNhcHN1bGUucmFkaXVzKTtcclxuXHJcbiAgZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgdG1wVmVjMSwgb2JiKTtcclxuXHJcbiAgLy8gTk9URTogVGhpcyBhc3N1bWVzIHRoYXQgdGhlIGFuZ2xlIGJldHdlZW4gdGhlIGNhcHN1bGUgc2VnbWVudCBhbmQgdGhlIGZhY2UgcGxhbmUgaXMgbm90IG9ibGlxdWVcclxuICAvLyBhbmQgdGhhdCB0aGUgZGVwdGggb2YgcGVuZXRyYXRpb24gaXMgc2hhbGxvdy4gV2hlbiBib3RoIG9mIHRoZXNlIGNvbmRpdGlvbnMgYXJlIG5vdCB0cnVlLCB0aGVcclxuICAvLyBjb250YWN0IHBvaW50IHdpbGwgYmUgb2Zmc2V0IGZyb20gdGhlIGludGVyc2VjdGlvbiBwb2ludCBvbiB0aGUgcHVzaGVkLW91dCBmYWNlLlxyXG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCB0bXBWZWMxLCBjb250YWN0Tm9ybWFsLCAtY2Fwc3VsZS5yYWRpdXMpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRcclxuICogQHBhcmFtIHtPYmJ9IG9iYlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZE9iYk5vcm1hbEZyb21Db250YWN0UG9pbnQoY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50LCBvYmIpIHtcclxuICAvLyBDYWxjdWxhdGUgdGhlIGRpc3BsYWNlbWVudCBhbG9uZyBlYWNoIGF4aXMuXHJcbiAgY29uc3QgcHJvamVjdGlvbnMgPSBbXTtcclxuICB2ZWMzLnN1YnRyYWN0KHRtcFZlYzEsIGNvbnRhY3RQb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgcHJvamVjdGlvbnNbaV0gPSB2ZWMzLmRvdChvYmIuYXhlc1tpXSwgdG1wVmVjMSk7XHJcbiAgfVxyXG5cclxuICAvLyBEZXRlcm1pbmUgd2hpY2ggZmFjZSB0aGUgbm9ybWFsIGlzIHBvaW50aW5nIGF3YXkgZnJvbS5cclxuICB2ZWMzLnNldChjb250YWN0Tm9ybWFsLCAwLCAwLCAwKTtcclxuICBjb25zdCB4RGlzdGFuY2VGcm9tRmFjZSA9IG9iYi5oYWxmU2lkZUxlbmd0aHNbMF0gLSBNYXRoLmFicyhwcm9qZWN0aW9uc1swXSk7XHJcbiAgY29uc3QgeURpc3RhbmNlRnJvbUZhY2UgPSBvYmIuaGFsZlNpZGVMZW5ndGhzWzFdIC0gTWF0aC5hYnMocHJvamVjdGlvbnNbMV0pO1xyXG4gIGNvbnN0IHpEaXN0YW5jZUZyb21GYWNlID0gb2JiLmhhbGZTaWRlTGVuZ3Roc1syXSAtIE1hdGguYWJzKHByb2plY3Rpb25zWzJdKTtcclxuICAvLyBBc3N1bWUgdGhhdCB0aGUgcG9pbnQgaXMgY29udGFjdGluZyB3aGljaGV2ZXIgZmFjZSBpdCdzIGNsb3Nlc3QgdG8uXHJcbiAgaWYgKHhEaXN0YW5jZUZyb21GYWNlIDw9IHlEaXN0YW5jZUZyb21GYWNlKSB7XHJcbiAgICBpZiAoeERpc3RhbmNlRnJvbUZhY2UgPD0gekRpc3RhbmNlRnJvbUZhY2UpIHtcclxuICAgICAgY29udGFjdE5vcm1hbFswXSA9IHByb2plY3Rpb25zWzBdID4gMCA/IDEgOiAtMTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNvbnRhY3ROb3JtYWxbMl0gPSBwcm9qZWN0aW9uc1syXSA+IDAgPyAxIDogLTE7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmICh5RGlzdGFuY2VGcm9tRmFjZSA8PSB6RGlzdGFuY2VGcm9tRmFjZSkge1xyXG4gICAgICBjb250YWN0Tm9ybWFsWzFdID0gcHJvamVjdGlvbnNbMV0gPiAwID8gMSA6IC0xO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgY29udGFjdE5vcm1hbFsyXSA9IHByb2plY3Rpb25zWzJdID4gMCA/IDEgOiAtMTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8vIEFwcGx5IHRoZSBPQkIncyBvcmllbnRhdGlvbiB0byB0aGUgbm9ybWFsLlxyXG4gIHZlYzMudHJhbnNmb3JtUXVhdChjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsLCBvYmIub3JpZW50YXRpb24pO1xyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIG9iYlZzUG9pbnQsXHJcbiAgb2JiVnNTcGhlcmUsXHJcbiAgb2JiVnNBYWJiLFxyXG4gIG9iYlZzT2JiLFxyXG4gIG9iYlZzQ2Fwc3VsZSxcclxuICBmaW5kT2JiTm9ybWFsRnJvbUNvbnRhY3RQb2ludCxcclxufTtcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgdXRpbGl0eSBtZXRob2RzIGZvciBjYWxjdWxhdGluZyBhIGNvbnRhY3QgcG9pbnQgYmV0d2VlbiBzcGhlcmVzIGFuZCBvdGhlclxyXG4gKiBzaGFwZXMuXHJcbiAqXHJcbiAqIC0gRWFjaCBvZiB0aGVzZSBmdW5jdGlvbnMgYXNzdW1lcyB0aGF0IHRoZSBvYmplY3RzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXHJcbiAqIC0gVGhlIHJlc3VsdGluZyBjb250YWN0IHBvaW50IG1heSBiZSBhbnl3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgdHdvIG9iamVjdHMuXHJcbiAqL1xyXG5cclxuaW1wb3J0IHtmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJTdXJmYWNlVG9Qb2ludH0gZnJvbSAnLi4vLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7ZmluZEFhYmJOb3JtYWxGcm9tQ29udGFjdFBvaW50fSBmcm9tICcuL2FhYmItY29udGFjdC1jYWxjdWxhdGlvbic7XHJcbmltcG9ydCAqIGFzIG9iYkNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL29iYi1jb250YWN0LWNhbGN1bGF0aW9uJztcclxuaW1wb3J0ICogYXMgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbiBmcm9tICcuL2NhcHN1bGUtY29udGFjdC1jYWxjdWxhdGlvbic7XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIHBvaW50KSB7XHJcbiAgdmVjMy5jb3B5KGNvbnRhY3RQb2ludCwgcG9pbnQpO1xyXG4gIC8vIEFzc3VtZSB0aGF0IHRoZSBwb2ludCBpcyBjb250YWN0aW5nIHRoZSBjbG9zZXN0IHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHRoZSBzcGhlcmUuXHJcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0Tm9ybWFsLCBwb2ludCwgc3BoZXJlLmNlbnRlck9mVm9sdW1lKTtcclxuICB2ZWMzLm5vcm1hbGl6ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdFBvaW50IE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0Tm9ybWFsIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUFcclxuICogQHBhcmFtIHtTcGhlcmV9IHNwaGVyZUJcclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlQSwgc3BoZXJlQikge1xyXG4gIHZlYzMuc3VidHJhY3QoY29udGFjdE5vcm1hbCwgc3BoZXJlQi5jZW50ZXJPZlZvbHVtZSwgc3BoZXJlQS5jZW50ZXJPZlZvbHVtZSk7XHJcbiAgdmVjMy5ub3JtYWxpemUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbiAgLy8gVGhlIHBvaW50IG9uIHRoZSBzdXJmYWNlIG9mIHNwaGVyZSBBIHRoYXQgaXMgY2xvc2VzdCB0byB0aGUgY2VudGVyIG9mIHNwaGVyZSBCLlxyXG4gIHZlYzMuc2NhbGVBbmRBZGQoY29udGFjdFBvaW50LCBzcGhlcmVBLmNlbnRlck9mVm9sdW1lLCBjb250YWN0Tm9ybWFsLCBzcGhlcmVBLnJhZGl1cyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb2ludCBvbiB0aGUgc3VyZmFjZSBvZiB0aGUgQUFCQiB0byB0aGUgc3BoZXJlIGNlbnRlci5cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxyXG4gKi9cclxuZnVuY3Rpb24gc3BoZXJlVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBhYWJiKSB7XHJcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnQoY29udGFjdFBvaW50LCBhYWJiLCBzcGhlcmUuY2VudGVyT2ZWb2x1bWUpO1xyXG4gIGZpbmRBYWJiTm9ybWFsRnJvbUNvbnRhY3RQb2ludChjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnQsIGFhYmIpO1xyXG4gIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnQgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3ROb3JtYWwgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge1NwaGVyZX0gc3BoZXJlXHJcbiAqIEBwYXJhbSB7T2JifSBvYmJcclxuICovXHJcbmZ1bmN0aW9uIHNwaGVyZVZzT2JiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgc3BoZXJlLCBvYmIpIHtcclxuICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNTcGhlcmUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBvYmIsIHNwaGVyZSk7XHJcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7dmVjM30gY29udGFjdE5vcm1hbCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7U3BoZXJlfSBzcGhlcmVcclxuICogQHBhcmFtIHtDYXBzdWxlfSBjYXBzdWxlXHJcbiAqL1xyXG5mdW5jdGlvbiBzcGhlcmVWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBzcGhlcmUsIGNhcHN1bGUpIHtcclxuICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGNhcHN1bGUsIHNwaGVyZSk7XHJcbiAgdmVjMy5uZWdhdGUoY29udGFjdE5vcm1hbCwgY29udGFjdE5vcm1hbCk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgc3BoZXJlVnNQb2ludCxcclxuICBzcGhlcmVWc1NwaGVyZSxcclxuICBzcGhlcmVWc0FhYmIsXHJcbiAgc3BoZXJlVnNPYmIsXHJcbiAgc3BoZXJlVnNDYXBzdWxlLFxyXG59O1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL2NvbGxpZGFibGVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9jb2xsaXNpb24tZGV0ZWN0aW9uJztcclxuZXhwb3J0ICogZnJvbSAnLi9jb250YWN0LWNhbGN1bGF0aW9uJztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtZmFjdG9yaWVzJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvY29sbGlkYWJsZS1waHlzaWNzLWpvYic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpZGFibGUtc3RvcmUnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9jb2xsaXNpb24taGFuZGxlcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2NvbGxpc2lvbi11dGlscyc7XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgc2V0IG9mIGZhY3RvcnkgZnVuY3Rpb25zIGZvciBjcmVhdGluZyBDb2xsaWRhYmxlIGluc3RhbmNlcy5cclxuICovXHJcblxyXG5pbXBvcnQge1xyXG4gIENhcHN1bGUsXHJcbiAgT2JiLFxyXG4gIFNwaGVyZVxyXG59IGZyb20gJy4uL2NvbGxpZGFibGVzJztcclxuaW1wb3J0IHtfZ2VvbWV0cnl9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBwYXJhbXNcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gW3BoeXNpY3NKb2JdXHJcbiAqIEByZXR1cm5zIHtDb2xsaWRhYmxlfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XHJcbiAgcmV0dXJuIF9jb2xsaWRhYmxlQ3JlYXRvcnNbcGFyYW1zLmNvbGxpZGFibGVTaGFwZUlkXShwYXJhbXMsIHBoeXNpY3NKb2IpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBhc3N1bWVzIHRoZSBiYXNlIFJlbmRlcmFibGVTaGFwZSBoYXMgYSBzaWRlIGxlbmd0aCBvZiBvbmUgdW5pdC5cclxuICpcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cclxuICogQHJldHVybnMge0NvbGxpZGFibGV9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVPYmJGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xyXG4gIGNvbnN0IGhhbGZSYW5nZVggPSBwYXJhbXMuc2NhbGVbMF0gLyAyO1xyXG4gIGNvbnN0IGhhbGZSYW5nZVkgPSBwYXJhbXMuc2NhbGVbMV0gLyAyO1xyXG4gIGNvbnN0IGhhbGZSYW5nZVogPSBwYXJhbXMuc2NhbGVbMl0gLyAyO1xyXG4gIHJldHVybiBuZXcgT2JiKGhhbGZSYW5nZVgsIGhhbGZSYW5nZVksIGhhbGZSYW5nZVosIHBhcmFtcy5pc1N0YXRpb25hcnksIHBoeXNpY3NKb2IpO1xyXG59XHJcblxyXG4vKipcclxuICogVGhpcyBhc3N1bWVzIHRoZSBiYXNlIFJlbmRlcmFibGVTaGFwZSBoYXMgYSBcInJhZGl1c1wiIG9mIG9uZSB1bml0LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxyXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUocGFyYW1zLCBwaHlzaWNzSm9iKSB7XHJcbiAgY29uc3QgcmFkaXVzID0gcGFyYW1zLnJhZGl1cyB8fCB2ZWMzLmxlbmd0aChwYXJhbXMuc2NhbGUpIC8gTWF0aC5zcXJ0KDMpO1xyXG4gIHJldHVybiBuZXcgU3BoZXJlKDAsIDAsIDAsIHJhZGl1cywgcGFyYW1zLmlzU3RhdGlvbmFyeSwgcGh5c2ljc0pvYik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGUgcmFkaXVzIG9mIHRoZSBjcmVhdGVkIGNhcHN1bGUgd2lsbCBiZSBhbiBhdmVyYWdlIGZyb20gdGhlIHR3byBzaG9ydGVzdCBzaWRlcy5cclxuICpcclxuICogVGhlcmUgYXJlIHR3byBtb2RlczogZWl0aGVyIHdlIHVzZSBzY2FsZSwgb3Igd2UgdXNlIHJhZGl1cyBhbmQgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVTaGFwZUNvbmZpZ30gcGFyYW1zXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZVBoeXNpY3NKb2J9IFtwaHlzaWNzSm9iXVxyXG4gKiBAcmV0dXJucyB7Q29sbGlkYWJsZX1cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xyXG4gIGNvbnN0IHNjYWxlID0gcGFyYW1zLnNjYWxlO1xyXG4gIGNvbnN0IGNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZSA9IHBhcmFtcy5jYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2U7XHJcbiAgY29uc3QgaXNTdGF0aW9uYXJ5ID0gcGFyYW1zLmlzU3RhdGlvbmFyeTtcclxuICBsZXQgcmFkaXVzID0gcGFyYW1zLnJhZGl1cztcclxuXHJcbiAgbGV0IGhhbGZEaXN0YW5jZTtcclxuXHJcbiAgLy8gVGhlcmUgYXJlIHR3byBtb2RlczogZWl0aGVyIHdlIHVzZSBzY2FsZSwgb3Igd2UgdXNlIHJhZGl1cyBhbmQgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlLlxyXG4gIGlmICh0eXBlb2YgcmFkaXVzID09PSAnbnVtYmVyJyAmJiB0eXBlb2YgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlID09PSAnbnVtYmVyJykge1xyXG4gICAgaGFsZkRpc3RhbmNlID0gY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlIC8gMjtcclxuICB9IGVsc2Uge1xyXG4gICAgY29uc3QgY29weSA9IHZlYzMuY2xvbmUoc2NhbGUpO1xyXG4gICAgY29weS5zb3J0KCk7XHJcblxyXG4gICAgY29uc3QgbGVuZ3RoID0gY29weVsyXTtcclxuICAgIHJhZGl1cyA9IChjb3B5WzBdICsgY29weVsxXSkgLyAyO1xyXG4gICAgaGFsZkRpc3RhbmNlID0gbGVuZ3RoIC8gMiAtIHJhZGl1cztcclxuICB9XHJcblxyXG4gIGNvbnN0IG9yaWVudGF0aW9uID0gcXVhdC5jcmVhdGUoKTtcclxuICBpZiAoc2NhbGVbMF0gPiBzY2FsZVsxXSkge1xyXG4gICAgaWYgKHNjYWxlWzBdID4gc2NhbGVbMl0pIHtcclxuICAgICAgdmVjMy5yb3RhdGVZKG9yaWVudGF0aW9uLCBvcmllbnRhdGlvbiwgX2dlb21ldHJ5LkhBTEZfUEkpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gRG8gbm90aGluZzsgdGhlIGNhcHN1bGUgZGVmYXVsdHMgdG8gYmVpbmcgYWxpZ25lZCB3aXRoIHRoZSB6LWF4aXMuXHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChzY2FsZVsxXSA+IHNjYWxlWzJdKSB7XHJcbiAgICAgIHZlYzMucm90YXRlWChvcmllbnRhdGlvbiwgb3JpZW50YXRpb24sIC1fZ2VvbWV0cnkuSEFMRl9QSSk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAvLyBEbyBub3RoaW5nOyB0aGUgY2Fwc3VsZSBkZWZhdWx0cyB0byBiZWluZyBhbGlnbmVkIHdpdGggdGhlIHotYXhpcy5cclxuICAgIH1cclxuICB9XHJcblxyXG4gIGNvbnN0IGNhcHN1bGUgPSBuZXcgQ2Fwc3VsZShoYWxmRGlzdGFuY2UsIHJhZGl1cywgaXNTdGF0aW9uYXJ5LCBwaHlzaWNzSm9iKTtcclxuICBjYXBzdWxlLm9yaWVudGF0aW9uID0gb3JpZW50YXRpb247XHJcblxyXG4gIHJldHVybiBjYXBzdWxlO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IHBhcmFtc1xyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBbcGh5c2ljc0pvYl1cclxuICogQHJldHVybnMge0NvbGxpZGFibGV9XHJcbiAqL1xyXG5mdW5jdGlvbiBjcmVhdGVTcGhlcmVPckNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlKHBhcmFtcywgcGh5c2ljc0pvYikge1xyXG4gIGNvbnN0IHNjYWxlID0gcGFyYW1zLnNjYWxlO1xyXG4gIGNvbnN0IHJhZGl1cyA9IHBhcmFtcy5yYWRpdXM7XHJcbiAgY29uc3QgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlID0gcGFyYW1zLmNhcHN1bGVFbmRQb2ludHNEaXN0YW5jZTtcclxuXHJcbiAgY29uc3QgaGFsZkxlbmd0aFggPSBzY2FsZVswXSAqIHJhZGl1cztcclxuICBjb25zdCBoYWxmTGVuZ3RoWSA9IHNjYWxlWzFdICogcmFkaXVzO1xyXG4gIGNvbnN0IGhhbGZMZW5ndGhaID0gc2NhbGVbMl0gKiAocmFkaXVzICsgY2Fwc3VsZUVuZFBvaW50c0Rpc3RhbmNlKSAvIDI7XHJcblxyXG4gIGNvbnN0IG1pbkxlbmd0aCA9IE1hdGgubWluKE1hdGgubWluKGhhbGZMZW5ndGhYLCBoYWxmTGVuZ3RoWSksIGhhbGZMZW5ndGhaKTtcclxuICBjb25zdCBtYXhMZW5ndGggPSBNYXRoLm1heChNYXRoLm1heChoYWxmTGVuZ3RoWCwgaGFsZkxlbmd0aFkpLCBoYWxmTGVuZ3RoWik7XHJcblxyXG4gIGlmIChtYXhMZW5ndGggLyBtaW5MZW5ndGggPj0gX1NQSEVSRV9WU19DQVBTVUxFX0FTUEVDVF9SQVRJT19USFJFU0hPTEQpIHtcclxuICAgIHJldHVybiBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICByZXR1cm4gY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZShwYXJhbXMsIHBoeXNpY3NKb2IpO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgX1NQSEVSRV9WU19DQVBTVUxFX0FTUEVDVF9SQVRJT19USFJFU0hPTEQgPSAyO1xyXG5cclxuY29uc3QgX2NvbGxpZGFibGVDcmVhdG9ycyA9IHtcclxuICAnQ1VCRSc6IGNyZWF0ZU9iYkZyb21SZW5kZXJhYmxlU2hhcGUsXHJcbiAgJ1NQSEVSRV9PUl9DQVBTVUxFJzogY3JlYXRlU3BoZXJlT3JDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcclxuICAnU1BIRVJFJzogY3JlYXRlU3BoZXJlRnJvbVJlbmRlcmFibGVTaGFwZSxcclxuICAnQ0FQU1VMRSc6IGNyZWF0ZUNhcHN1bGVGcm9tUmVuZGVyYWJsZVNoYXBlLFxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBjcmVhdGVDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcclxuICBjcmVhdGVDb2xsaWRhYmxlRnJvbVJlbmRlcmFibGVTaGFwZSxcclxuICBjcmVhdGVPYmJGcm9tUmVuZGVyYWJsZVNoYXBlLFxyXG4gIGNyZWF0ZVNwaGVyZUZyb21SZW5kZXJhYmxlU2hhcGUsXHJcbiAgY3JlYXRlU3BoZXJlT3JDYXBzdWxlRnJvbVJlbmRlcmFibGVTaGFwZSxcclxufTtcclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBDb2xsaWRhYmxlU2hhcGVDb25maWdcclxuICogQHByb3BlcnR5IHtzdHJpbmd9IGNvbGxpZGFibGVTaGFwZUlkIFRoZSBJRCBvZiB0aGUgdHlwZSBvZiBjb2xsaWRhYmxlIHNoYXBlLlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtzY2FsZV1cclxuICogQHByb3BlcnR5IHtib29sZWFufSBbaXNTdGF0aW9uYXJ5PWZhbHNlXSBXaGV0aGVyIHRoZSBjb2xsaWRhYmxlIGlzIGZpeGVkIGluIHBsYWNlLlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7Q29sbGlkYWJsZVNoYXBlQ29uZmlnfSBTcGhlcmljYWxDb2xsaWRhYmxlU2hhcGVQYXJhbXNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IHJhZGl1c1xyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7U3BoZXJpY2FsQ29sbGlkYWJsZVNoYXBlUGFyYW1zfSBDYXBzdWxlQ29sbGlkYWJsZVNoYXBlUGFyYW1zXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjYXBzdWxlRW5kUG9pbnRzRGlzdGFuY2UgVGhlIGRpc3RhbmNlIGJldHdlZW4gdGhlIGNlbnRlcnMgb2YgdGhlIHNwaGVyZXMgb24gZWl0aGVyIGVuZFxyXG4gKiBvZiB0aGUgY2Fwc3VsZS5cclxuICovXHJcbiIsImltcG9ydCB7Y3JlYXRlQ29sbGlkYWJsZUZyb21SZW5kZXJhYmxlU2hhcGV9IGZyb20gJy4vY29sbGlkYWJsZS1mYWN0b3JpZXMnO1xyXG5pbXBvcnQge2NvbGxpZGFibGVTdG9yZX0gZnJvbSAnLi9jb2xsaWRhYmxlLXN0b3JlJztcclxuaW1wb3J0IHtQaHlzaWNzSm9ifSBmcm9tICcuLi8uLi9zcmMvcGh5c2ljcy1qb2InO1xyXG5pbXBvcnQge2NyZWF0ZUZvckNvbGxpZGFibGV9IGZyb20gJy4uLy4uL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIEEgQ29sbGlkYWJsZVBoeXNpY3NKb2IgZXh0ZW5kcyB0aGUgc3RhbmRhcmQgUGh5c2ljc0pvYiB3aXRoIGEgY29sbGlkYWJsZSBnZW9tZXRyeS5cclxuICovXHJcbmNsYXNzIENvbGxpZGFibGVQaHlzaWNzSm9iIGV4dGVuZHMgUGh5c2ljc0pvYiB7XHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlU2hhcGVDb25maWd9IGNvbGxpZGFibGVQYXJhbXNcclxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gc3RhdGVcclxuICAgKiBAcGFyYW0ge0FycmF5LjxGb3JjZUFwcGxpZXI+fSBmb3JjZUFwcGxpZXJzXHJcbiAgICogQHBhcmFtIHtPYmplY3R9IGNvbnRyb2xsZXJcclxuICAgKiBAcGFyYW0ge0NvbGxpc2lvbkhhbmRsZXJ9IGNvbGxpc2lvbkhhbmRsZXJcclxuICAgKi9cclxuICBjb25zdHJ1Y3Rvcihjb2xsaWRhYmxlUGFyYW1zLCBzdGF0ZSwgZm9yY2VBcHBsaWVycywgY29udHJvbGxlciwgY29sbGlzaW9uSGFuZGxlcikge1xyXG4gICAgc3VwZXIoZm9yY2VBcHBsaWVycywgc3RhdGUpO1xyXG5cclxuICAgIGNvbGxpZGFibGVQYXJhbXMuc2NhbGUgPSBjb2xsaWRhYmxlUGFyYW1zLnNjYWxlIHx8IHZlYzMuZnJvbVZhbHVlcygxLCAxLCAxKTtcclxuICAgIHRoaXMuY29sbGlkYWJsZSA9IGNyZWF0ZUNvbGxpZGFibGVGcm9tUmVuZGVyYWJsZVNoYXBlKGNvbGxpZGFibGVQYXJhbXMsIHRoaXMpO1xyXG4gICAgdGhpcy5jdXJyZW50U3RhdGUudW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9XHJcbiAgICAgICAgY3JlYXRlRm9yQ29sbGlkYWJsZSh0aGlzLmNvbGxpZGFibGUsIHRoaXMuY3VycmVudFN0YXRlLm1hc3MpO1xyXG4gICAgdGhpcy5jdXJyZW50U3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XHJcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XHJcbiAgICB0aGlzLmNvbnRyb2xsZXIgPSBjb250cm9sbGVyO1xyXG4gICAgdGhpcy5fY29sbGlzaW9uSGFuZGxlciA9IGNvbGxpc2lvbkhhbmRsZXI7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXHJcbiAgICovXHJcbiAgYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcikge1xyXG4gICAgc3VwZXIuYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcik7XHJcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0ZvcmNlQXBwbGllcn0gZm9yY2VBcHBsaWVyXHJcbiAgICovXHJcbiAgcmVtb3ZlRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcikge1xyXG4gICAgc3VwZXIucmVtb3ZlRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllcik7XHJcbiAgICB0aGlzLmlzQXRSZXN0ID0gZmFsc2U7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBUaGlzIGNhbGxiYWNrIGlzIHRyaWdnZXJlZCBpbiByZXNwb25zZSB0byBhIGNvbGxpc2lvbi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cclxuICAgKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiB0aGlzIG5lZWRzIHRoZSBzdGFuZGFyZCBjb2xsaXNpb24gcmVzdGl0dXRpb24gdG8gcHJvY2VlZC5cclxuICAgKi9cclxuICBoYW5kbGVDb2xsaXNpb24oY29sbGlzaW9uKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fY29sbGlzaW9uSGFuZGxlcihjb2xsaXNpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IFtzdGFydFRpbWVdXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgc3RhcnQoc3RhcnRUaW1lKSB7XHJcbiAgICBzdXBlci5zdGFydChzdGFydFRpbWUpO1xyXG4gICAgY29sbGlkYWJsZVN0b3JlLnJlZ2lzdGVyQ29sbGlkYWJsZSh0aGlzLmNvbGxpZGFibGUpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQG92ZXJyaWRlXHJcbiAgICovXHJcbiAgZmluaXNoKCkge1xyXG4gICAgc3VwZXIuZmluaXNoKCk7XHJcbiAgICBjb2xsaWRhYmxlU3RvcmUudW5yZWdpc3RlckNvbGxpZGFibGUodGhpcy5jb2xsaWRhYmxlKTtcclxuICB9XHJcblxyXG4gIC8qKiBAcmV0dXJucyB7dmVjM30gKi9cclxuICBnZXQgcG9zaXRpb24oKSB7XHJcbiAgICByZXR1cm4gdGhpcy5jdXJyZW50U3RhdGUucG9zaXRpb247XHJcbiAgfVxyXG5cclxuICAvKiogQHBhcmFtIHt2ZWMzfSB2YWx1ZSAqL1xyXG4gIHNldCBwb3NpdGlvbih2YWx1ZSkge1xyXG4gICAgdGhpcy5jdXJyZW50U3RhdGUucG9zaXRpb24gPSB2ZWMzLmNsb25lKHZhbHVlKTtcclxuICAgIHRoaXMuY29sbGlkYWJsZS5wb3NpdGlvbiA9IHZlYzMuY2xvbmUodmFsdWUpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtDb2xsaWRhYmxlUGh5c2ljc0pvYn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBDb2xsaXNpb25IYW5kbGVyXHJcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhpcyBuZWVkcyB0aGUgc3RhbmRhcmQgY29sbGlzaW9uIHJlc3RpdHV0aW9uIHRvIHByb2NlZWQuXHJcbiAqL1xyXG4iLCJpbXBvcnQge2RldGVjdEJvdW5kaW5nVm9sdW1lSW50ZXJzZWN0aW9ufSBmcm9tICcuL2NvbGxpc2lvbi11dGlscyc7XHJcblxyXG4vLyBUT0RPOiBJbXBsZW1lbnQgc29tZSBmb3JtIG9mIGJvdW5kaW5nIHZvbHVtZSBoaWVyYXJjaHkgdG8gbWFrZSBzZWFyY2hpbmcgZm9yIHBvdGVudGlhbCBjb2xsaXNpb25zXHJcbi8vIG1vcmUgZWZmaWNpZW50LlxyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgcmVnaXN0ZXJzIGFuZCByZXRyaWV2ZXMgYWxsIENvbGxpZGFibGVzIHdpdGhpbiBhIHNjZW5lLlxyXG4gKi9cclxuY2xhc3MgQ29sbGlkYWJsZVN0b3JlIHtcclxuICBjb25zdHJ1Y3RvcigpIHtcclxuICAgIHRoaXMuX2NvbGxpZGFibGVzID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWNoZXMgdGhlIGdpdmVuIHByb2dyYW0gd3JhcHBlci5cclxuICAgKlxyXG4gICAqIFRoaXMgbWV0aG9kIGlzIGlkZW1wb3RlbnQ7IGEgZ2l2ZW4gcHJvZ3JhbSB3aWxsIG9ubHkgYmUgY2FjaGVkIG9uY2UuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcclxuICAgKi9cclxuICByZWdpc3RlckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xyXG4gICAgdGhpcy5fY29sbGlkYWJsZXMucHVzaChjb2xsaWRhYmxlKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxyXG4gICAqL1xyXG4gIHVucmVnaXN0ZXJDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcclxuICAgIGNvbnN0IGluZGV4ID0gdGhpcy5fY29sbGlkYWJsZXMuaW5kZXhPZihjb2xsaWRhYmxlKTtcclxuICAgIGlmIChpbmRleCA+PSAwKSB7XHJcbiAgICAgIHRoaXMuX2NvbGxpZGFibGVzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0NvbGxpZGFibGV9IGNvbGxpZGFibGVcclxuICAgKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpZGFibGU+fVxyXG4gICAqL1xyXG4gIGdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckNvbGxpZGFibGUoY29sbGlkYWJsZSkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2NvbGxpZGFibGVzLmZpbHRlcihvdGhlciA9PlxyXG4gICAgICBjb2xsaWRhYmxlICE9PSBvdGhlciAmJlxyXG4gICAgICBkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbihjb2xsaWRhYmxlLCBvdGhlcikpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge0FycmF5LjxDb2xsaXNpb24+fVxyXG4gICAqL1xyXG4gIGdldFBvc3NpYmxlQ29sbGlzaW9uc0ZvckFsbENvbGxpZGFibGVzKCkge1xyXG4gICAgY29uc3QgcmVzdWx0ID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMCwgY291bnQgPSB0aGlzLl9jb2xsaWRhYmxlcy5sZW5ndGg7IGkgPCBjb3VudDsgaSsrKSB7XHJcbiAgICAgIGNvbnN0IGNvbGxpZGFibGVBID0gdGhpcy5fY29sbGlkYWJsZXNbaV07XHJcbiAgICAgIGZvciAobGV0IGogPSBpICsgMTsgaiA8IGNvdW50OyBqKyspIHtcclxuICAgICAgICBjb25zdCBjb2xsaWRhYmxlQiA9IHRoaXMuX2NvbGxpZGFibGVzW2pdO1xyXG4gICAgICAgIGlmIChkZXRlY3RCb3VuZGluZ1ZvbHVtZUludGVyc2VjdGlvbihjb2xsaWRhYmxlQSwgY29sbGlkYWJsZUIpKSB7XHJcbiAgICAgICAgICByZXN1bHQucHVzaCh7Y29sbGlkYWJsZUE6IGNvbGxpZGFibGVBLCBjb2xsaWRhYmxlQjogY29sbGlkYWJsZUJ9KTtcclxuICAgICAgICB9XHJcbiAgICAgIH1cclxuICAgIH1cclxuICAgIHJldHVybiByZXN1bHQ7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge0Z1bmN0aW9ufSBjYWxsYmFja1xyXG4gICAqL1xyXG4gIGZvckVhY2goY2FsbGJhY2spIHtcclxuICAgIHRoaXMuX2NvbGxpZGFibGVzLmZvckVhY2goY2FsbGJhY2spO1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgY29sbGlkYWJsZVN0b3JlID0gbmV3IENvbGxpZGFibGVTdG9yZSgpO1xyXG5leHBvcnQge2NvbGxpZGFibGVTdG9yZX07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gQ29sbGlzaW9uXHJcbiAqIEBwcm9wZXJ0eSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZUFcclxuICogQHByb3BlcnR5IHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlQlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtjb250YWN0UG9pbnRdIEluIHdvcmxkIGNvb3JkaW5hdGVzLlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IFtjb250YWN0Tm9ybWFsXSBQb2ludHMgYXdheSBmcm9tIGJvZHkgQSBhbmQgdG93YXJkIGJvZHkgQi5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IFt0aW1lXVxyXG4gKi9cclxuIiwiaW1wb3J0IHtcclxuICBhcmVWZWMzc0Nsb3NlLFxyXG4gIHRtcFZlYzEsXHJcbiAgdG1wVmVjMixcclxuICB0bXBWZWMzLFxyXG4gIHRtcFZlYzQsXHJcbn0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcblxyXG5pbXBvcnQge2NvbGxpZGFibGVTdG9yZX0gZnJvbSAnLi9jb2xsaWRhYmxlLXN0b3JlJztcclxuaW1wb3J0IHtkZXRlY3RJbnRlcnNlY3Rpb24sIGNhbGN1bGF0ZUNvbnRhY3R9IGZyb20gJy4vY29sbGlzaW9uLXV0aWxzJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGlzaW9uIHBpcGVsaW5lLlxyXG4gKlxyXG4gKiBUaGVzZSBmdW5jdGlvbnMgd2lsbCBkZXRlY3QgY29sbGlzaW9ucyBiZXR3ZWVuIGNvbGxpZGFibGUgYm9kaWVzIGFuZCB1cGRhdGUgdGhlaXIgbW9tZW50YSBpblxyXG4gKiByZXNwb25zZSB0byB0aGUgY29sbGlzaW9ucy5cclxuICpcclxuICogLSBDb25zaXN0cyBvZiBhbiBlZmZpY2llbnQgYnJvYWQtcGhhc2UgY29sbGlzaW9uIGRldGVjdGlvbiBzdGVwIGZvbGxvd2VkIGJ5IGEgcHJlY2lzZVxyXG4gKiAgIG5hcnJvdy1waGFzZSBzdGVwLlxyXG4gKiAtIENhbGN1bGF0ZXMgdGhlIHBvc2l0aW9uLCBzdXJmYWNlIG5vcm1hbCwgYW5kIHRpbWUgb2YgZWFjaCBjb250YWN0LlxyXG4gKiAtIENhbGN1bGF0ZXMgdGhlIGltcHVsc2Ugb2YgYSBjb2xsaXNpb24gYW5kIHVwZGF0ZXMgdGhlIGJvZGllcycgbGluZWFyIGFuZCBhbmd1bGFyIG1vbWVudGEgaW5cclxuICogICByZXNwb25zZS5cclxuICogLSBBcHBsaWVzIENvdWxvbWIgZnJpY3Rpb24gdG8gY29sbGlkaW5nIGJvZGllcy5cclxuICogLSBTdWItZGl2aWRlcyB0aGUgdGltZSBzdGVwIHRvIG1vcmUgcHJlY2lzZWx5IGRldGVybWluZSB3aGVuIGFuZCB3aGVyZSBhIGNvbGxpc2lvbiBvY2N1cnMuXHJcbiAqIC0gU3VwcG9ydHMgbXVsdGlwbGUgY29sbGlzaW9ucyB3aXRoIGEgc2luZ2xlIGJvZHkgaW4gYSBzaW5nbGUgdGltZSBzdGVwLlxyXG4gKiAtIEVmZmljaWVudGx5IHN1cHBvcnRzIGJvZGllcyBjb21pbmcgdG8gcmVzdCBhZ2FpbnN0IGVhY2ggb3RoZXIuXHJcbiAqIC0gQm9kaWVzIHdpbGwgbmV2ZXIgcGVuZXRyYXRlIG9uZSBhbm90aGVyLlxyXG4gKiAtIFRoaXMgZG9lcyBub3QgYWRkcmVzcyB0aGUgdHVubmVsbGluZyBwcm9ibGVtLiBUaGF0IGlzLCBpdCBpcyBwb3NzaWJsZSBmb3IgdHdvIGZhc3QtbW92aW5nXHJcbiAqICAgYm9kaWVzIHRvIHBhc3MgdGhyb3VnaCBlYWNoIG90aGVyIGFzIGxvbmcgYXMgdGhleSBkaWQgbm90IGludGVyc2VjdCBlYWNoIG90aGVyIGR1cmluZyBhbnkgdGltZVxyXG4gKiAgIHN0ZXAuXHJcbiAqIC0gVGhpcyBvbmx5IHN1cHBvcnRzIGNvbGxpc2lvbnMgYmV0d2VlbiBjZXJ0YWluIHR5cGVzIG9mIHNoYXBlcy4gRm9ydHVuYXRlbHksIHRoaXMgc2V0IHByb3ZpZGVzXHJcbiAqICAgcmVhc29uYWJsZSBhcHByb3hpbWF0aW9ucyBmb3IgbW9zdCBvdGhlciBzaGFwZXMuIFRoZSBzdXBwb3J0ZWQgdHlwZXMgb2Ygc2hhcGVzIGFyZTogc3BoZXJlcyxcclxuICogICBjYXBzdWxlcywgQUFCQnMsIGFuZCBPQkJzLlxyXG4gKlxyXG4gKiAjIyBPYmplY3RzIHRoYXQgY29tZSB0byByZXN0XHJcbiAqXHJcbiAqIEFuIGltcG9ydGFudCBlZmZpY2llbmN5IGltcHJvdmVtZW50IGlzIHRvIG5vdCBwcm9jZXNzIG9iamVjdHMgdGhyb3VnaCB0aGUgcGh5c2ljcyBlbmdpbmUgcGlwZWxpbmVcclxuICogYWZ0ZXIgdGhleSBoYXZlIGNvbWUgdG8gcmVzdC4gVGhlIGlzQXRSZXN0IGZpZWxkIGluZGljYXRlcyB3aGVuIGEgYm9keSBoYXMgY29tZSB0byByZXN0LlxyXG4gKlxyXG4gKiBpc0F0UmVzdCBpcyBzZXQgdG8gdHJ1ZSBhZnRlciBhIHBoeXNpY3MgZnJhbWUgaXMgZmluaXNoZWQgaWYgdGhlIGNvbGxpc2lvbnMsIGZvcmNlcywgcG9zaXRpb24sXHJcbiAqIGFuZCBvcmllbnRhdGlvbiBvZiBhIGpvYiBoYXZlIG5vdCBjaGFuZ2VkIGZyb20gdGhlIHByZXZpb3VzIHRvIHRoZSBjdXJyZW50IHN0YXRlLlxyXG4gKlxyXG4gKiBpc0F0UmVzdCBpcyBzZXQgdG8gZmFsc2UgZnJvbSB0d28gcG9zc2libGUgZXZlbnRzOiBhZnRlciBhIHBoeXNpY3MgZnJhbWUgaXMgZmluaXNoZWQgaWYgdGhlXHJcbiAqIGNvbGxpc2lvbnMgaGF2ZSBjaGFuZ2VkIGZyb20gdGhlIHByZXZpb3VzIHRvIHRoZSBjdXJyZW50IHN0YXRlLCBvciB3aGVuIGEgZm9yY2UgaXMgYWRkZWQgdG9cclxuICogcmVtb3ZlZCBmcm9tIHRoZSBqb2IuXHJcbiAqXHJcbiAqICMjIENvbGxpc2lvbiBjYWxjdWxhdGlvbnMgZG8gbm90IGNvbnNpZGVyIHZlbG9jaXR5XHJcbiAqXHJcbiAqIENvbGxpc2lvbiBkZXRlY3Rpb24gd29ya3MgYnkgd2FpdGluZyB1bnRpbCB0d28gYm9kaWVzIGludGVyc2VjdC4gSG93ZXZlciwgYmVjYXVzZSB0aW1lIGZyYW1lcyBhcmVcclxuICogbm90IGluZmluaXRlbHkgc21hbGwsIHdoZW4gYW4gaW50ZXJzZWN0aW9uIGlzIGRldGVjdGVkLCBpdCdzIGFscmVhZHkgcGFzdCB0aGUgZXhhY3QgaW5zdGFuY2Ugb2ZcclxuICogY29sbGlzaW9uLiBUbyBhbGxldmlhdGUgcHJvYmxlbXMgZnJvbSB0aGlzLCB0aGUgdmVsb2NpdHkgb2YgZWFjaCBib2R5IGNhbiBiZSBjb25zaWRlcmVkIHdoZW5cclxuICogY2FsY3VsYXRpbmcgdGhlIGNvbGxpc2lvbiB0aW1lLCBwb3NpdGlvbiwgYW5kIGNvbnRhY3Qgbm9ybWFsLiBIb3dldmVyLCB0YWtpbmcgdmVsb2NpdHkgaW50b1xyXG4gKiBhY2NvdW50IG1ha2VzIHRoZSBjb250YWN0IGNhbGN1bGF0aW9ucyBtdWNoIG1vcmUgY29tcGxleCwgc28gd2UgZG8gbm90IGNvbnNpZGVyIHZlbG9jaXR5IGluIG91clxyXG4gKiBjYWxjdWxhdGlvbnMuXHJcbiAqXHJcbiAqIEEgbm90YWJsZSBjb25zZXF1ZW5jZSBvZiB0aGlzIGlzIHRoYXQgdGhlIGNhbGN1bGF0ZWQgY29udGFjdCBub3JtYWxzIGNhbiBiZSBpbmNvcnJlY3QuIENvbnNpZGVyXHJcbiAqIHRoZSBmb2xsb3dpbmcgbW92aW5nIHNxdWFyZXMuIEF0IHRpbWUgdDIgdGhleSBhcmUgZm91bmQgdG8gaGF2ZSBjb2xsaWRlZC4gVGhlIGNhbGN1bGF0ZWQgY29udGFjdFxyXG4gKiBwb2ludCB3aWxsIGJlIHNvbWV3aGVyZSB3aXRoaW4gdGhlIGludGVyc2VjdGlvbiBvZiB0aGUgY29ybmVycy4gQnV0IHRoZSBjYWxjdWxhdGVkIGNvbnRhY3Qgbm9ybWFsXHJcbiAqIHdpbGwgcG9pbnQgdXB3YXJkcywgd2hpbGUgdGhlIHRydWUgY29udGFjdCBub3JtYWwgc2hvdWxkIHBvaW50IHRvIHRoZSByaWdodC4gVGhpcyBpcyBiZWNhdXNlIHRoZVxyXG4gKiBjb250YWN0IGNhbGN1bGF0aW9ucyBkbyBub3QgY29uc2lkZXIgdmVsb2NpdHkgYW5kIGluc3RlYWQgb25seSBjb25zaWRlciB0aGUgc2hhbGxvd2VzdCBkaXJlY3Rpb25cclxuICogb2Ygb3ZlcmxhcC5cclxuICpcclxuICogLy8gVGltZSB0MVxyXG4gKiAgICAgICAgICAgICAgICAgICAgKy0tLS0tLS0tLS0tLStcclxuICogICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8XHJcbiAqICAgICAgICAgICAgICAgICAgICB8ICAgICAgICAgICAgfFxyXG4gKiAgICAgICAgICAgICAgICA8LS0gfCAgICAgIEIgICAgIHxcclxuICogICAgICAgICAgICAgICAgICAgIHwgICAgICAgICAgICB8XHJcbiAqICArLS0tLS0tLS0tLS0tKyAgICB8ICAgICAgICAgICAgfFxyXG4gKiAgfCAgICAgICAgICAgIHwgICAgKy0tLS0tLS0tLS0tLStcclxuICogIHwgICAgICAgICAgICB8XHJcbiAqICB8ICAgICAgQSAgICAgfCAtLT5cclxuICogIHwgICAgICAgICAgICB8XHJcbiAqICB8ICAgICAgICAgICAgfFxyXG4gKiAgKy0tLS0tLS0tLS0tLStcclxuICpcclxuICogLy8gVGltZSB0MlxyXG4gKiAgICAgICAgICstLS0tLS0tLS0tLS0rXHJcbiAqICAgICAgICAgfCAgICAgICAgICAgIHxcclxuICogICAgICAgICB8ICAgICAgICAgICAgfFxyXG4gKiAgICAgICAgIHwgICAgICBCICAgICB8XHJcbiAqICAgICAgICAgfCAgICAgICAgICAgIHxcclxuICogICstLS0tLS0tLS0tLS0rICAgICAgfFxyXG4gKiAgfCAgICAgICstLS0tLXwtLS0tLS0rXHJcbiAqICB8ICAgICAgICAgICAgfFxyXG4gKiAgfCAgICAgIEEgICAgIHxcclxuICogIHwgICAgICAgICAgICB8XHJcbiAqICB8ICAgICAgICAgICAgfFxyXG4gKiAgKy0tLS0tLS0tLS0tLStcclxuICovXHJcblxyXG4vKipcclxuICogRGV0ZWN0IGFuZCBoYW5kbGUgYW55IGNvbGxpc2lvbnMgYmV0d2VlbiBhIGdpdmVuIGpvYiBhbmQgYWxsIG90aGVyIGNvbGxpZGFibGUgYm9kaWVzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBqb2JcclxuICogQHBhcmFtIHtET01IaWdoUmVzVGltZVN0YW1wfSBlbGFwc2VkVGltZVxyXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcclxuICovXHJcbmZ1bmN0aW9uIGhhbmRsZUNvbGxpc2lvbnNGb3JKb2Ioam9iLCBlbGFwc2VkVGltZSwgcGh5c2ljc1BhcmFtcykge1xyXG4gIGNvbnN0IGNvbGxpZGFibGUgPSBqb2IuY29sbGlkYWJsZTtcclxuXHJcbiAgLy8gQ2xlYXIgYW55IHByZXZpb3VzIGNvbGxpc2lvbiBpbmZvLlxyXG4gIGNvbGxpZGFibGUucHJldmlvdXNDb2xsaXNpb25zID0gY29sbGlkYWJsZS5jb2xsaXNpb25zO1xyXG4gIGNvbGxpZGFibGUuY29sbGlzaW9ucyA9IFtdO1xyXG5cclxuICAvLyBGaW5kIGFsbCBjb2xsaWRpbmcgY29sbGlkYWJsZXMuXHJcbiAgY29uc3QgY29sbGlkaW5nQ29sbGlkYWJsZXMgPSBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpO1xyXG5cclxuICAvLyBTdG9yZSB0aGUgdGltZSBvZiBjb2xsaXNpb24gZm9yIGVhY2ggY29sbGlzaW9uLlxyXG4gIGNvbnN0IGNvbGxpc2lvbnMgPSBfcmVjb3JkQ29sbGlzaW9ucyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcywgZWxhcHNlZFRpbWUpO1xyXG5cclxuICAvLyBDYWxjdWxhdGUgdGhlIHBvaW50cyBvZiBjb250YWN0IGZvciBlYWNoIGNvbGxpc2lvbi5cclxuICBfY2FsY3VsYXRlUG9pbnRzT2ZDb250YWN0KGNvbGxpc2lvbnMpO1xyXG5cclxuICAvLyBDb2xsaXNpb24gcmVzb2x1dGlvbi5cclxuICBfcmVzb2x2ZUNvbGxpc2lvbnMoY29sbGlzaW9ucywgcGh5c2ljc1BhcmFtcyk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyBhbGwgb3RoZXIgY29sbGlkYWJsZXMgdGhhdCBpbnRlcnNlY3Qgd2l0aCB0aGUgZ2l2ZW4gY29sbGlkYWJsZS5cclxuICpcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXHJcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlkYWJsZT59XHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kSW50ZXJzZWN0aW5nQ29sbGlkYWJsZXNGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcclxuICAvLyBCcm9hZC1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB3aG9zZSBib3VuZGluZyB2b2x1bWVzIGludGVyc2VjdCkuXHJcbiAgY29uc3QgY29sbGlkaW5nQ29sbGlkYWJsZXMgPSBjb2xsaWRhYmxlU3RvcmUuZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQ29sbGlkYWJsZShjb2xsaWRhYmxlKTtcclxuXHJcbiAgLy8gTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHRoYXQgYWN0dWFsbHkgaW50ZXJzZWN0KS5cclxuICByZXR1cm4gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpZGluZ0NvbGxpZGFibGVzKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpZGFibGVQaHlzaWNzSm9iPn0gam9ic1xyXG4gKi9cclxuZnVuY3Rpb24gZGV0ZXJtaW5lSm9ic0F0UmVzdChqb2JzKSB7XHJcbiAgam9icy5mb3JFYWNoKGpvYiA9PiBqb2IuaXNBdFJlc3QgPSBfaXNKb2JBdFJlc3Qoam9iKSk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMoKSB7XHJcbiAgY29sbGlkYWJsZVN0b3JlLmZvckVhY2goX3JlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQ29sbGlkYWJsZSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBMb2dzIGEgd2FybmluZyBtZXNzYWdlIGZvciBhbnkgcGFpciBvZiBvYmplY3RzIHRoYXQgaW50ZXJzZWN0LlxyXG4gKi9cclxuZnVuY3Rpb24gY2hlY2tUaGF0Tm9PYmplY3RzQ29sbGlkZSgpIHtcclxuICAvLyBCcm9hZC1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uIChwYWlycyB3aG9zZSBib3VuZGluZyB2b2x1bWVzIGludGVyc2VjdCkuXHJcbiAgbGV0IGNvbGxpc2lvbnMgPSBjb2xsaWRhYmxlU3RvcmUuZ2V0UG9zc2libGVDb2xsaXNpb25zRm9yQWxsQ29sbGlkYWJsZXMoKTtcclxuXHJcbiAgLy8gTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24gKHBhaXJzIHRoYXQgYWN0dWFsbHkgaW50ZXJzZWN0KS5cclxuICBjb2xsaXNpb25zID0gX2RldGVjdFByZWNpc2VDb2xsaXNpb25zRnJvbUNvbGxpc2lvbnMoY29sbGlzaW9ucyk7XHJcblxyXG4gIGNvbGxpc2lvbnMuZm9yRWFjaChjb2xsaXNpb24gPT4ge1xyXG4gICAgY29uc29sZS53YXJuKCdPYmplY3RzIHN0aWxsIGludGVyc2VjdCBhZnRlciBjb2xsaXNpb24gcmVzb2x1dGlvbicsIGNvbGxpc2lvbik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDcmVhdGUgY29sbGlzaW9uIG9iamVjdHMgdGhhdCByZWNvcmQgdGhlIHRpbWUgb2YgY29sbGlzaW9uIGFuZCB0aGUgY29sbGlkYWJsZXMgaW4gdGhlIGNvbGxpc2lvbi5cclxuICpcclxuICogQWxzbyByZWNvcmQgcmVmZXJlbmNlcyB0byB0aGVzZSBjb2xsaXNpb25zIG9uIHRoZSBjb2xsaWRhYmxlcy5cclxuICpcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXHJcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpZGFibGU+fSBjb2xsaWRpbmdDb2xsaWRhYmxlc1xyXG4gKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGVsYXBzZWRUaW1lXHJcbiAqIEByZXR1cm5zIHtBcnJheS48Q29sbGlzaW9uPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9yZWNvcmRDb2xsaXNpb25zKGNvbGxpZGFibGUsIGNvbGxpZGluZ0NvbGxpZGFibGVzLCBlbGFwc2VkVGltZSkge1xyXG4gIHJldHVybiBjb2xsaWRpbmdDb2xsaWRhYmxlcy5tYXAob3RoZXIgPT4ge1xyXG4gICAgY29uc3QgY29sbGlzaW9uID0ge1xyXG4gICAgICBjb2xsaWRhYmxlQTogY29sbGlkYWJsZSxcclxuICAgICAgY29sbGlkYWJsZUI6IG90aGVyLFxyXG4gICAgICB0aW1lOiBlbGFwc2VkVGltZVxyXG4gICAgfTtcclxuXHJcbiAgICAvLyBSZWNvcmQgdGhlIGZhY3QgdGhhdCB0aGVzZSBvYmplY3RzIGNvbGxpZGVkICh0aGUgTW9kZWxDb250cm9sbGVyIG1heSB3YW50IHRvIGhhbmRsZSB0aGlzKS5cclxuICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5jb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTtcclxuICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5jb2xsaXNpb25zLnB1c2goY29sbGlzaW9uKTtcclxuXHJcbiAgICByZXR1cm4gY29sbGlzaW9uO1xyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogTmFycm93LXBoYXNlIGNvbGxpc2lvbiBkZXRlY3Rpb24uXHJcbiAqXHJcbiAqIEdpdmVuIGEgbGlzdCBvZiBwb3NzaWJsZSBjb2xsaXNpb24gcGFpcnMsIGZpbHRlciBvdXQgd2hpY2ggcGFpcnMgYXJlIGFjdHVhbGx5IGNvbGxpZGluZy5cclxuICpcclxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc1xyXG4gKiBAcmV0dXJucyB7QXJyYXkuPENvbGxpc2lvbj59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfZGV0ZWN0UHJlY2lzZUNvbGxpc2lvbnNGcm9tQ29sbGlzaW9ucyhjb2xsaXNpb25zKSB7XHJcbiAgcmV0dXJuIGNvbGxpc2lvbnMuZmlsdGVyKGNvbGxpc2lvbiA9PiB7XHJcbiAgICAvLyBUT0RPOlxyXG4gICAgLy8gLSBVc2UgdGVtcG9yYWwgYmlzZWN0aW9uIHdpdGggZGlzY3JldGUgc3ViLXRpbWUgc3RlcHMgdG8gZmluZCB0aW1lIG9mIGNvbGxpc2lvbiAodXNlXHJcbiAgICAvLyAgICAgICB4LXZzLXktc3BlY2lmaWMgaW50ZXJzZWN0aW9uIGRldGVjdGlvbiBtZXRob2RzKS5cclxuICAgIC8vIC0gTWFrZSBzdXJlIHRoZSBjb2xsaXNpb24gb2JqZWN0IGlzIHNldCB1cCB3aXRoIHRoZSBcInByZXZpb3VzU3RhdGVcIiBmcm9tIHRoZSBzdWItc3RlcFxyXG4gICAgLy8gICBiZWZvcmUgY29sbGlzaW9uIGFuZCB0aGUgdGltZSBmcm9tIHRoZSBzdWItc3RlcCBhZnRlciBjb2xsaXNpb24gKGRldGVybWluZWQgZnJvbSB0aGVcclxuICAgIC8vICAgcHJldmlvdXMgdGVtcG9yYWwgYmlzZWN0aW9uIHNlYXJjaC4uLilcclxuXHJcbiAgICByZXR1cm4gZGV0ZWN0SW50ZXJzZWN0aW9uKGNvbGxpc2lvbi5jb2xsaWRhYmxlQSwgY29sbGlzaW9uLmNvbGxpZGFibGVCKTtcclxuICB9KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIE5hcnJvdy1waGFzZSBjb2xsaXNpb24gZGV0ZWN0aW9uLlxyXG4gKlxyXG4gKiBHaXZlbiBhIGxpc3Qgb2YgcG9zc2libGUgY29sbGlzaW9uIHBhaXJzLCBmaWx0ZXIgb3V0IHdoaWNoIHBhaXJzIGFyZSBhY3R1YWxseSBjb2xsaWRpbmcuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxyXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaWRhYmxlPn0gY29sbGlkaW5nQ29sbGlkYWJsZXNcclxuICogQHJldHVybnMge0FycmF5LjxDb2xsaWRhYmxlPn1cclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9kZXRlY3RQcmVjaXNlQ29sbGlzaW9uc0Zyb21Db2xsaWRpbmdDb2xsaWRhYmxlcyhjb2xsaWRhYmxlLCBjb2xsaWRpbmdDb2xsaWRhYmxlcykge1xyXG4gIHJldHVybiBjb2xsaWRpbmdDb2xsaWRhYmxlcy5maWx0ZXIob3RoZXIgPT4ge1xyXG4gICAgLy8gVE9ETzpcclxuICAgIC8vIC0gVXNlIHRlbXBvcmFsIGJpc2VjdGlvbiB3aXRoIGRpc2NyZXRlIHN1Yi10aW1lIHN0ZXBzIHRvIGZpbmQgdGltZSBvZiBjb2xsaXNpb24gKHVzZVxyXG4gICAgLy8gICAgICAgeC12cy15LXNwZWNpZmljIGludGVyc2VjdGlvbiBkZXRlY3Rpb24gbWV0aG9kcykuXHJcbiAgICAvLyAtIE1ha2Ugc3VyZSB0aGUgY29sbGlzaW9uIG9iamVjdCBpcyBzZXQgdXAgd2l0aCB0aGUgXCJwcmV2aW91c1N0YXRlXCIgZnJvbSB0aGUgc3ViLXN0ZXBcclxuICAgIC8vICAgYmVmb3JlIGNvbGxpc2lvbiBhbmQgdGhlIHRpbWUgZnJvbSB0aGUgc3ViLXN0ZXAgYWZ0ZXIgY29sbGlzaW9uIChkZXRlcm1pbmVkIGZyb20gdGhlXHJcbiAgICAvLyAgIHByZXZpb3VzIHRlbXBvcmFsIGJpc2VjdGlvbiBzZWFyY2guLi4pXHJcblxyXG4gICAgcmV0dXJuIGRldGVjdEludGVyc2VjdGlvbihjb2xsaWRhYmxlLCBvdGhlcik7XHJcbiAgfSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIGludGVyc2VjdGlvbiBwb3NpdGlvbiBhbmQgY29udGFjdCBub3JtYWwgb2YgZWFjaCBjb2xsaXNpb24uXHJcbiAqXHJcbiAqIEBwYXJhbSB7QXJyYXkuPENvbGxpc2lvbj59IGNvbGxpc2lvbnNcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVQb2ludHNPZkNvbnRhY3QoY29sbGlzaW9ucykge1xyXG4gIGNvbGxpc2lvbnMuZm9yRWFjaChjYWxjdWxhdGVDb250YWN0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFVwZGF0ZXMgdGhlIGxpbmVhciBhbmQgYW5ndWxhciBtb21lbnRhIG9mIGVhY2ggYm9keSBpbiByZXNwb25zZSB0byBpdHMgY29sbGlzaW9uLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0FycmF5LjxDb2xsaXNpb24+fSBjb2xsaXNpb25zXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3Jlc29sdmVDb2xsaXNpb25zKGNvbGxpc2lvbnMsIHBoeXNpY3NQYXJhbXMpIHtcclxuICBjb2xsaXNpb25zLmZvckVhY2goY29sbGlzaW9uID0+IHtcclxuICAgIC8vIElmIG5laXRoZXIgcGh5c2ljcyBqb2IgbmVlZHMgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiwgdGhlbiBkb24ndCBkbyBpdC5cclxuICAgIGlmIChfbm90aWZ5UGh5c2ljc0pvYnNPZkNvbGxpc2lvbihjb2xsaXNpb24pKSB7XHJcbiAgICAgIGlmIChjb2xsaXNpb24uY29sbGlkYWJsZUEucGh5c2ljc0pvYiAmJiBjb2xsaXNpb24uY29sbGlkYWJsZUIucGh5c2ljc0pvYikge1xyXG4gICAgICAgIC8vIE5laXRoZXIgb2YgdGhlIGNvbGxpZGFibGVzIGlzIHN0YXRpb25hcnkuXHJcbiAgICAgICAgX3Jlc29sdmVDb2xsaXNpb24oY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICAvLyBPbmUgb2YgdGhlIHR3byBjb2xsaWRhYmxlcyBpcyBzdGF0aW9uYXJ5LlxyXG4gICAgICAgIF9yZXNvbHZlQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QoY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKTtcclxuICAgICAgfVxyXG4gICAgfVxyXG4gIH0pO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn0gVHJ1ZSBpZiBvbmUgb2YgdGhlIFBoeXNpY3NKb2JzIG5lZWQgdGhlIHN0YW5kYXJkIGNvbGxpc2lvbiByZXN0aXR1dGlvbiB0b1xyXG4gKiBwcm9jZWVkLlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX25vdGlmeVBoeXNpY3NKb2JzT2ZDb2xsaXNpb24oY29sbGlzaW9uKSB7XHJcbiAgcmV0dXJuIGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pIHx8XHJcbiAgICAgIGNvbGxpc2lvbi5jb2xsaWRhYmxlQi5waHlzaWNzSm9iLmhhbmRsZUNvbGxpc2lvbihjb2xsaXNpb24pXHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNvbHZlIGEgY29sbGlzaW9uIGJldHdlZW4gdHdvIG1vdmluZywgcGh5c2ljcy1iYXNlZCBvYmplY3RzLlxyXG4gKlxyXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGNvbGxpc2lvbi1yZXNwb25zZSBhbGdvcml0aG1zIGZyb20gV2lraXBlZGlhXHJcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xsaXNpb25fcmVzcG9uc2UjSW1wdWxzZS1iYXNlZF9yZWFjdGlvbl9tb2RlbCkuXHJcbiAqXHJcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cclxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfcmVzb2x2ZUNvbGxpc2lvbihjb2xsaXNpb24sIHBoeXNpY3NQYXJhbXMpIHtcclxuICBjb25zdCBjb2xsaWRhYmxlQSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcclxuICBjb25zdCBjb2xsaWRhYmxlQiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcclxuICBjb25zdCBwcmV2aW91c1N0YXRlQSA9IGNvbGxpZGFibGVBLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZTtcclxuICBjb25zdCBwcmV2aW91c1N0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IucHJldmlvdXNTdGF0ZTtcclxuICBjb25zdCBuZXh0U3RhdGVBID0gY29sbGlkYWJsZUEucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XHJcbiAgY29uc3QgbmV4dFN0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xyXG4gIGNvbnN0IGNlbnRlckEgPSBjb2xsaWRhYmxlQS5jZW50ZXJPZk1hc3M7XHJcbiAgY29uc3QgY2VudGVyQiA9IGNvbGxpZGFibGVCLmNlbnRlck9mTWFzcztcclxuICBjb25zdCBjb250YWN0UG9pbnQgPSBjb2xsaXNpb24uY29udGFjdFBvaW50O1xyXG5cclxuICBjb25zdCBjb250YWN0UG9pbnRPZmZzZXRBID0gdG1wVmVjMztcclxuICB2ZWMzLnN1YnRyYWN0KGNvbnRhY3RQb2ludE9mZnNldEEsIGNvbnRhY3RQb2ludCwgY2VudGVyQSk7XHJcbiAgY29uc3QgY29udGFjdFBvaW50T2Zmc2V0QiA9IHRtcFZlYzQ7XHJcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0UG9pbnRPZmZzZXRCLCBjb250YWN0UG9pbnQsIGNlbnRlckIpO1xyXG5cclxuICAvL1xyXG4gIC8vIENhbGN1bGF0ZSB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgb2YgdGhlIGJvZGllcyBhdCB0aGUgcG9pbnQgb2YgY29udGFjdC5cclxuICAvL1xyXG4gIC8vIFdlIHVzZSB0aGUgdmVsb2NpdHkgZnJvbSB0aGUgcHJldmlvdXMgc3RhdGUsIHNpbmNlIGl0IGlzIHRoZSB2ZWxvY2l0eSB0aGF0IGxlZCB0byB0aGVcclxuICAvLyBjb2xsaXNpb24uXHJcbiAgLy9cclxuXHJcbiAgY29uc3QgdmVsb2NpdHlBID0gdG1wVmVjMTtcclxuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHByZXZpb3VzU3RhdGVBLmFuZ3VsYXJWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0QSk7XHJcbiAgdmVjMy5hZGQodmVsb2NpdHlBLCBwcmV2aW91c1N0YXRlQS52ZWxvY2l0eSwgdG1wVmVjMSk7XHJcblxyXG4gIGNvbnN0IHZlbG9jaXR5QiA9IHRtcFZlYzI7XHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMyLCBwcmV2aW91c1N0YXRlQi5hbmd1bGFyVmVsb2NpdHksIGNvbnRhY3RQb2ludE9mZnNldEIpO1xyXG4gIHZlYzMuYWRkKHZlbG9jaXR5QiwgcHJldmlvdXNTdGF0ZUIudmVsb2NpdHksIHRtcFZlYzIpO1xyXG5cclxuICBjb25zdCByZWxhdGl2ZVZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLnN1YnRyYWN0KHJlbGF0aXZlVmVsb2NpdHksIHZlbG9jaXR5QiwgdmVsb2NpdHlBKTtcclxuXHJcbiAgaWYgKHZlYzMuZG90KHJlbGF0aXZlVmVsb2NpdHksIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKSA+PSAwKSB7XHJcbiAgICAvLyBJZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgaXMgbm90IHBvaW50aW5nIGFnYWluc3QgdGhlIG5vcm1hbCwgdGhlbiB0aGUgbm9ybWFsIHdhcyBjYWxjdWxhdGVkXHJcbiAgICAvLyBpbmNvcnJlY3RseSAodGhpcyBpcyBsaWtlbHkgZHVlIHRvIHRoZSB0aW1lIHN0ZXAgYmVpbmcgdG9vIGxhcmdlIGFuZCB0aGUgZmFjdCB0aGF0IG91clxyXG4gICAgLy8gY29udGFjdCBjYWxjdWxhdGlvbnMgZG9uJ3QgY29uc2lkZXIgdmVsb2NpdHkpLiBTbyB1cGRhdGUgdGhlIGNvbnRhY3Qgbm9ybWFsIHRvIGJlIGluIHRoZVxyXG4gICAgLy8gZGlyZWN0aW9uIG9mIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eS5cclxuXHJcbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoaXMgd29ya3MgYXMgZXhwZWN0ZWQuXHJcblxyXG4gICAgLy8gY29uc29sZS53YXJuKCdOb24tY29sbGlzaW9uIGJlY2F1c2Ugb2JqZWN0cyBhcmUgbW92aW5nIGF3YXkgZnJvbSBlYWNoIG90aGVyLicpO1xyXG5cclxuICAgIHZlYzMuY29weShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgcmVsYXRpdmVWZWxvY2l0eSk7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xyXG4gICAgdmVjMy5uZWdhdGUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcclxuICB9XHJcblxyXG4gIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgcmVsYXRpdmVWZWxvY2l0eSwgY29udGFjdFBvaW50T2Zmc2V0QSxcclxuICAgICAgY29udGFjdFBvaW50T2Zmc2V0QiwgcGh5c2ljc1BhcmFtcyk7XHJcblxyXG4gIC8vIE5PVEU6IFRoaXMgc3RhdGUgcmV2ZXJzaW9uIGlzIG9ubHkgYXBwbGllZCB0byBjb2xsaWRhYmxlQS4gVGhpcyBhc3N1bWVzIHRoYXQgb25seSBBIGlzIG1vdmluZ1xyXG4gIC8vIGR1cmluZyB0aGlzIGl0ZXJhdGlvbiBvZiB0aGUgY29sbGlzaW9uIHBpcGVsaW5lLlxyXG5cclxuICAvLyBSZXZlcnQgdG8gdGhlIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbiBmcm9tIGltbWVkaWF0ZWx5IGJlZm9yZSB0aGUgY29sbGlzaW9uLlxyXG4gIHZlYzMuY29weShuZXh0U3RhdGVBLnBvc2l0aW9uLCBwcmV2aW91c1N0YXRlQS5wb3NpdGlvbik7XHJcbiAgcXVhdC5jb3B5KG5leHRTdGF0ZUEub3JpZW50YXRpb24sIHByZXZpb3VzU3RhdGVBLm9yaWVudGF0aW9uKTtcclxuXHJcbiAgLy8gQWxzbyByZXZlcnQgdGhlIGNvbGxpZGFibGVzJyBwb3NpdGlvbiBhbmQgb3JpZW50YXRpb24uXHJcbiAgY29sbGlkYWJsZUEucG9zaXRpb24gPSBwcmV2aW91c1N0YXRlQS5wb3NpdGlvbjtcclxuICBjb2xsaWRhYmxlQS5vcmllbnRhdGlvbiA9IHByZXZpb3VzU3RhdGVBLm9yaWVudGF0aW9uO1xyXG5cclxuICBuZXh0U3RhdGVBLnVwZGF0ZURlcGVuZGVudEZpZWxkcygpO1xyXG4gIG5leHRTdGF0ZUIudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBSZXNvbHZlIGEgY29sbGlzaW9uIGJldHdlZW4gb25lIG1vdmluZywgcGh5c2ljcy1iYXNlZCBvYmplY3QgYW5kIG9uZSBzdGF0aW9uYXJ5IG9iamVjdC5cclxuICpcclxuICogQHBhcmFtIHtDb2xsaXNpb259IGNvbGxpc2lvblxyXG4gKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9yZXNvbHZlQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QoY29sbGlzaW9uLCBwaHlzaWNzUGFyYW1zKSB7XHJcbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsO1xyXG5cclxuICBsZXQgcGh5c2ljc0NvbGxpZGFibGU7XHJcbiAgaWYgKGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iKSB7XHJcbiAgICBwaHlzaWNzQ29sbGlkYWJsZSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQTtcclxuICB9IGVsc2Uge1xyXG4gICAgcGh5c2ljc0NvbGxpZGFibGUgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XHJcbiAgICB2ZWMzLm5lZ2F0ZShjb250YWN0Tm9ybWFsLCBjb250YWN0Tm9ybWFsKTtcclxuICB9XHJcblxyXG4gIGNvbnN0IHByZXZpb3VzU3RhdGUgPSBwaHlzaWNzQ29sbGlkYWJsZS5waHlzaWNzSm9iLnByZXZpb3VzU3RhdGU7XHJcbiAgY29uc3QgbmV4dFN0YXRlID0gcGh5c2ljc0NvbGxpZGFibGUucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XHJcbiAgY29uc3QgY2VudGVyID0gcGh5c2ljc0NvbGxpZGFibGUuY2VudGVyT2ZNYXNzO1xyXG4gIGNvbnN0IGNvbnRhY3RQb2ludCA9IGNvbGxpc2lvbi5jb250YWN0UG9pbnQ7XHJcblxyXG4gIGNvbnN0IGNvbnRhY3RQb2ludE9mZnNldCA9IHRtcFZlYzM7XHJcbiAgdmVjMy5zdWJ0cmFjdChjb250YWN0UG9pbnRPZmZzZXQsIGNvbnRhY3RQb2ludCwgY2VudGVyKTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eSBvZiB0aGUgYm9kaWVzIGF0IHRoZSBwb2ludCBvZiBjb250YWN0LiBXZSB1c2UgdGhlIHZlbG9jaXR5IGZyb21cclxuICAvLyB0aGUgcHJldmlvdXMgc3RhdGUsIHNpbmNlIGl0IGlzIHRoZSB2ZWxvY2l0eSB0aGF0IGxlZCB0byB0aGUgY29sbGlzaW9uLlxyXG4gIGNvbnN0IHZlbG9jaXR5ID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLmNyb3NzKHRtcFZlYzEsIHByZXZpb3VzU3RhdGUuYW5ndWxhclZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXQpO1xyXG4gIHZlYzMuYWRkKHZlbG9jaXR5LCBwcmV2aW91c1N0YXRlLnZlbG9jaXR5LCB0bXBWZWMxKTtcclxuXHJcbiAgaWYgKHZlYzMuZG90KHZlbG9jaXR5LCBjb250YWN0Tm9ybWFsKSA8PSAwKSB7XHJcbiAgICAvLyBJZiB0aGUgcmVsYXRpdmUgdmVsb2NpdHkgaXMgbm90IHBvaW50aW5nIGFnYWluc3QgdGhlIG5vcm1hbCwgdGhlbiB0aGUgbm9ybWFsIHdhcyBjYWxjdWxhdGVkXHJcbiAgICAvLyBpbmNvcnJlY3RseSAodGhpcyBpcyBsaWtlbHkgZHVlIHRvIHRoZSB0aW1lIHN0ZXAgYmVpbmcgdG9vIGxhcmdlIGFuZCB0aGUgZmFjdCB0aGF0IG91clxyXG4gICAgLy8gY29udGFjdCBjYWxjdWxhdGlvbnMgZG9uJ3QgY29uc2lkZXIgdmVsb2NpdHkpLiBTbyB1cGRhdGUgdGhlIGNvbnRhY3Qgbm9ybWFsIHRvIGJlIGluIHRoZVxyXG4gICAgLy8gZGlyZWN0aW9uIG9mIHRoZSByZWxhdGl2ZSB2ZWxvY2l0eS5cclxuXHJcbiAgICAvLyBUT0RPOiBDaGVjayB0aGF0IHRoaXMgd29ya3MgYXMgZXhwZWN0ZWQuXHJcblxyXG4gICAgY29uc29sZS53YXJuKCdOb24tY29sbGlzaW9uIGJlY2F1c2Ugb2JqZWN0IGlzIG1vdmluZyBhd2F5IGZyb20gc3RhdGlvbmFyeSBvYmplY3QuJyk7XHJcblxyXG4gICAgdmVjMy5jb3B5KGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsLCB2ZWxvY2l0eSk7XHJcbiAgICB2ZWMzLm5vcm1hbGl6ZShjb2xsaXNpb24uY29udGFjdE5vcm1hbCwgY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwpO1xyXG4gICAgdmVjMy5uZWdhdGUoY29sbGlzaW9uLmNvbnRhY3ROb3JtYWwsIGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsKTtcclxuICB9XHJcblxyXG4gIF9hcHBseUltcHVsc2VGcm9tQ29sbGlzaW9uV2l0aFN0YXRpb25hcnlPYmplY3QocGh5c2ljc0NvbGxpZGFibGUsIGNvbGxpc2lvbiwgdmVsb2NpdHksXHJcbiAgICAgIGNvbnRhY3RQb2ludE9mZnNldCwgcGh5c2ljc1BhcmFtcyk7XHJcblxyXG4gIC8vIFJldmVydCB0byB0aGUgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uIGZyb20gaW1tZWRpYXRlbHkgYmVmb3JlIHRoZSBjb2xsaXNpb24uXHJcbiAgdmVjMy5jb3B5KG5leHRTdGF0ZS5wb3NpdGlvbiwgcHJldmlvdXNTdGF0ZS5wb3NpdGlvbik7XHJcbiAgcXVhdC5jb3B5KG5leHRTdGF0ZS5vcmllbnRhdGlvbiwgcHJldmlvdXNTdGF0ZS5vcmllbnRhdGlvbik7XHJcblxyXG4gIC8vIEFsc28gcmV2ZXJ0IHRoZSBjb2xsaWRhYmxlJ3MgcG9zaXRpb24gYW5kIG9yaWVudGF0aW9uLlxyXG4gIHBoeXNpY3NDb2xsaWRhYmxlLnBvc2l0aW9uID0gcHJldmlvdXNTdGF0ZS5wb3NpdGlvbjtcclxuICBwaHlzaWNzQ29sbGlkYWJsZS5vcmllbnRhdGlvbiA9IHByZXZpb3VzU3RhdGUub3JpZW50YXRpb247XHJcblxyXG4gIG5leHRTdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIFRoaXMgaXMgYmFzZWQgb24gY29sbGlzaW9uLXJlc3BvbnNlIGFsZ29yaXRobXMgZnJvbSBXaWtpcGVkaWFcclxuICogKGh0dHBzOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0NvbGxpc2lvbl9yZXNwb25zZSNJbXB1bHNlLWJhc2VkX3JlYWN0aW9uX21vZGVsKS4gVGhpcyBhbGdvcml0aG1cclxuICogaGFzIGJlZW4gc2ltcGxpZmllZCBieSBhc3N1bWluZyB0aGUgc3RhdGlvbmFyeSBib2R5IGhhcyBpbmZpbml0ZSBtYXNzIGFuZCB6ZXJvIHZlbG9jaXR5LlxyXG4gKlxyXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXHJcbiAqIEBwYXJhbSB7dmVjM30gcmVsYXRpdmVWZWxvY2l0eVxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNvbnRhY3RQb2ludE9mZnNldEFcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRCXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0NvbmZpZ30gcGh5c2ljc1BhcmFtc1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2FwcGx5SW1wdWxzZUZyb21Db2xsaXNpb24oY29sbGlzaW9uLCByZWxhdGl2ZVZlbG9jaXR5LCBjb250YWN0UG9pbnRPZmZzZXRBLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjb250YWN0UG9pbnRPZmZzZXRCLCBwaHlzaWNzUGFyYW1zKSB7XHJcbiAgY29uc3QgY29sbGlkYWJsZUEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XHJcbiAgY29uc3QgY29sbGlkYWJsZUIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUI7XHJcblxyXG4gIGNvbnN0IHN0YXRlQSA9IGNvbGxpZGFibGVBLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xyXG4gIGNvbnN0IHN0YXRlQiA9IGNvbGxpZGFibGVCLnBoeXNpY3NKb2IuY3VycmVudFN0YXRlO1xyXG5cclxuICBjb25zdCBjb250YWN0Tm9ybWFsID0gY29sbGlzaW9uLmNvbnRhY3ROb3JtYWw7XHJcblxyXG4gIC8vXHJcbiAgLy8gQ2FsY3VsYXRlIGFuZCBhcHBseSB0aGUgbWFpbiBjb2xsaXNpb24gaW1wdWxzZS5cclxuICAvL1xyXG5cclxuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIHJlbGF0aXZlVmVsb2NpdHksIC0oMSArIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uKSk7XHJcbiAgY29uc3QgbnVtZXJhdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCk7XHJcblxyXG4gIHZlYzMuY3Jvc3ModG1wVmVjMSwgY29udGFjdFBvaW50T2Zmc2V0QSwgY29udGFjdE5vcm1hbCk7XHJcbiAgdmVjMy50cmFuc2Zvcm1NYXQzKHRtcFZlYzEsIHRtcFZlYzEsIHN0YXRlQS5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCB0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXRBKTtcclxuXHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMyLCBjb250YWN0UG9pbnRPZmZzZXRCLCBjb250YWN0Tm9ybWFsKTtcclxuICB2ZWMzLnRyYW5zZm9ybU1hdDModG1wVmVjMiwgdG1wVmVjMiwgc3RhdGVCLmludmVyc2VJbmVydGlhVGVuc29yKTtcclxuICB2ZWMzLmNyb3NzKHRtcFZlYzIsIHRtcFZlYzIsIGNvbnRhY3RQb2ludE9mZnNldEIpO1xyXG5cclxuICB2ZWMzLmFkZCh0bXBWZWMxLCB0bXBWZWMxLCB0bXBWZWMyKTtcclxuICBjb25zdCBkZW5vbWluYXRvciA9IHZlYzMuZG90KHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwpICsgc3RhdGVBLmludmVyc2VNYXNzICsgc3RhdGVCLmludmVyc2VNYXNzO1xyXG5cclxuICBjb25zdCBpbXB1bHNlTWFnbml0dWRlID0gbnVtZXJhdG9yIC8gZGVub21pbmF0b3I7XHJcblxyXG4gIF9hcHBseUltcHVsc2Uoc3RhdGVBLCAtaW1wdWxzZU1hZ25pdHVkZSwgY29udGFjdE5vcm1hbCwgY29udGFjdFBvaW50T2Zmc2V0QSk7XHJcbiAgX2FwcGx5SW1wdWxzZShzdGF0ZUIsIGltcHVsc2VNYWduaXR1ZGUsIGNvbnRhY3ROb3JtYWwsIGNvbnRhY3RQb2ludE9mZnNldEIpO1xyXG5cclxuICAvL1xyXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgYSBkeW5hbWljIGZyaWN0aW9uIGltcHVsc2UuXHJcbiAgLy9cclxuXHJcbiAgY29uc3QgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlID0gaW1wdWxzZU1hZ25pdHVkZSAqIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZkZyaWN0aW9uO1xyXG5cclxuICBjb25zdCB0YW5nZW50ID0gdG1wVmVjMjtcclxuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIHZlYzMuZG90KHJlbGF0aXZlVmVsb2NpdHksIGNvbnRhY3ROb3JtYWwpKTtcclxuICB2ZWMzLnN1YnRyYWN0KHRhbmdlbnQsIHJlbGF0aXZlVmVsb2NpdHksIHRtcFZlYzEpO1xyXG4gIHZlYzMubm9ybWFsaXplKHRhbmdlbnQsIHRhbmdlbnQpO1xyXG5cclxuICBfYXBwbHlJbXB1bHNlKHN0YXRlQSwgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlLCB0YW5nZW50LCBjb250YWN0UG9pbnRPZmZzZXRBKTtcclxuICBfYXBwbHlJbXB1bHNlKHN0YXRlQiwgLWZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSwgdGFuZ2VudCwgY29udGFjdFBvaW50T2Zmc2V0Qik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBUaGlzIGlzIGJhc2VkIG9uIGNvbGxpc2lvbi1yZXNwb25zZSBhbGdvcml0aG1zIGZyb20gV2lraXBlZGlhXHJcbiAqIChodHRwczovL2VuLndpa2lwZWRpYS5vcmcvd2lraS9Db2xsaXNpb25fcmVzcG9uc2UjSW1wdWxzZS1iYXNlZF9yZWFjdGlvbl9tb2RlbCkuIFRoaXMgYWxnb3JpdGhtXHJcbiAqIGhhcyBiZWVuIHNpbXBsaWZpZWQgYnkgYXNzdW1pbmcgdGhlIHN0YXRpb25hcnkgYm9keSBoYXMgaW5maW5pdGUgbWFzcyBhbmQgemVybyB2ZWxvY2l0eS5cclxuICpcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBwaHlzaWNzQ29sbGlkYWJsZVxyXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXHJcbiAqIEBwYXJhbSB7dmVjM30gdmVsb2NpdHlcclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRcclxuICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfYXBwbHlJbXB1bHNlRnJvbUNvbGxpc2lvbldpdGhTdGF0aW9uYXJ5T2JqZWN0KHBoeXNpY3NDb2xsaWRhYmxlLCBjb2xsaXNpb24sIHZlbG9jaXR5LFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnRhY3RQb2ludE9mZnNldCwgcGh5c2ljc1BhcmFtcykge1xyXG4gIGNvbnN0IHN0YXRlID0gcGh5c2ljc0NvbGxpZGFibGUucGh5c2ljc0pvYi5jdXJyZW50U3RhdGU7XHJcbiAgY29uc3QgY29udGFjdE5vcm1hbCA9IGNvbGxpc2lvbi5jb250YWN0Tm9ybWFsO1xyXG5cclxuICAvL1xyXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgdGhlIG1haW4gY29sbGlzaW9uIGltcHVsc2UuXHJcbiAgLy9cclxuXHJcbiAgdmVjMy5zY2FsZSh0bXBWZWMxLCB2ZWxvY2l0eSwgLSgxICsgcGh5c2ljc1BhcmFtcy5jb2VmZmljaWVudE9mUmVzdGl0dXRpb24pKTtcclxuICBjb25zdCBudW1lcmF0b3IgPSB2ZWMzLmRvdCh0bXBWZWMxLCBjb250YWN0Tm9ybWFsKTtcclxuXHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQsIGNvbnRhY3ROb3JtYWwpO1xyXG4gIHZlYzMudHJhbnNmb3JtTWF0Myh0bXBWZWMxLCB0bXBWZWMxLCBzdGF0ZS5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCB0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQpO1xyXG4gIGNvbnN0IGRlbm9taW5hdG9yID0gdmVjMy5kb3QodG1wVmVjMSwgY29udGFjdE5vcm1hbCkgKyBzdGF0ZS5pbnZlcnNlTWFzcztcclxuXHJcbiAgY29uc3QgaW1wdWxzZU1hZ25pdHVkZSA9IG51bWVyYXRvciAvIGRlbm9taW5hdG9yO1xyXG5cclxuICBfYXBwbHlJbXB1bHNlKHN0YXRlLCBpbXB1bHNlTWFnbml0dWRlLCBjb250YWN0Tm9ybWFsLCBjb250YWN0UG9pbnRPZmZzZXQpO1xyXG5cclxuICAvL1xyXG4gIC8vIENhbGN1bGF0ZSBhbmQgYXBwbHkgYSBkeW5hbWljIGZyaWN0aW9uIGltcHVsc2UuXHJcbiAgLy9cclxuXHJcbiAgY29uc3QgZnJpY3Rpb25JbXB1bHNlTWFnbml0dWRlID0gaW1wdWxzZU1hZ25pdHVkZSAqIHBoeXNpY3NQYXJhbXMuY29lZmZpY2llbnRPZkZyaWN0aW9uO1xyXG5cclxuICBjb25zdCB0YW5nZW50ID0gdG1wVmVjMjtcclxuICB2ZWMzLnNjYWxlKHRtcFZlYzEsIGNvbnRhY3ROb3JtYWwsIHZlYzMuZG90KHZlbG9jaXR5LCBjb250YWN0Tm9ybWFsKSk7XHJcbiAgdmVjMy5zdWJ0cmFjdCh0YW5nZW50LCB2ZWxvY2l0eSwgdG1wVmVjMSk7XHJcbiAgdmVjMy5ub3JtYWxpemUodGFuZ2VudCwgdGFuZ2VudCk7XHJcblxyXG4gIF9hcHBseUltcHVsc2Uoc3RhdGUsIGZyaWN0aW9uSW1wdWxzZU1hZ25pdHVkZSwgdGFuZ2VudCwgY29udGFjdFBvaW50T2Zmc2V0KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gaW1wdWxzZU1hZ25pdHVkZVxyXG4gKiBAcGFyYW0ge3ZlYzN9IGltcHVsc2VEaXJlY3Rpb25cclxuICogQHBhcmFtIHt2ZWMzfSBjb250YWN0UG9pbnRPZmZzZXRcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9hcHBseUltcHVsc2Uoc3RhdGUsIGltcHVsc2VNYWduaXR1ZGUsIGltcHVsc2VEaXJlY3Rpb24sIGNvbnRhY3RQb2ludE9mZnNldCkge1xyXG4gIC8vIENhbGN1bGF0ZSB0aGUgdXBkYXRlZCBsaW5lYXIgbW9tZW50YS5cclxuICBjb25zdCBmaW5hbExpbmVhck1vbWVudHVtID0gdmVjMy5jcmVhdGUoKTtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKGZpbmFsTGluZWFyTW9tZW50dW0sIHN0YXRlLm1vbWVudHVtLCBpbXB1bHNlRGlyZWN0aW9uLCBpbXB1bHNlTWFnbml0dWRlKTtcclxuXHJcbiAgLy8gQ2FsY3VsYXRlIHRoZSB1cGRhdGVkIGFuZ3VsYXIgbW9tZW50YS5cclxuICBjb25zdCBmaW5hbEFuZ3VsYXJNb21lbnR1bSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgdmVjMy5jcm9zcyh0bXBWZWMxLCBjb250YWN0UG9pbnRPZmZzZXQsIGltcHVsc2VEaXJlY3Rpb24pO1xyXG4gIHZlYzMuc2NhbGVBbmRBZGQoZmluYWxBbmd1bGFyTW9tZW50dW0sIHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgdG1wVmVjMSwgaW1wdWxzZU1hZ25pdHVkZSk7XHJcblxyXG4gIC8vIEFwcGx5IHRoZSB1cGRhdGVkIG1vbWVudGEuXHJcbiAgdmVjMy5jb3B5KHN0YXRlLm1vbWVudHVtLCBmaW5hbExpbmVhck1vbWVudHVtKTtcclxuICB2ZWMzLmNvcHkoc3RhdGUuYW5ndWxhck1vbWVudHVtLCBmaW5hbEFuZ3VsYXJNb21lbnR1bSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGVQaHlzaWNzSm9ifSBqb2JcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfaXNKb2JBdFJlc3Qoam9iKSB7XHJcbiAgcmV0dXJuIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbiwgam9iLnByZXZpb3VzU3RhdGUucG9zaXRpb24pICYmXHJcbiAgICAgIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS52ZWxvY2l0eSwgam9iLnByZXZpb3VzU3RhdGUudmVsb2NpdHkpICYmXHJcbiAgICAgIGFyZVZlYzNzQ2xvc2Uoam9iLmN1cnJlbnRTdGF0ZS5vcmllbnRhdGlvbiwgam9iLnByZXZpb3VzU3RhdGUub3JpZW50YXRpb24pICYmXHJcbiAgICAgIF9kb0NvbGxpc2lvbnNNYXRjaChqb2IuY29sbGlkYWJsZS5jb2xsaXNpb25zLCBqb2IuY29sbGlkYWJsZS5wcmV2aW91c0NvbGxpc2lvbnMpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc0FcclxuICogQHBhcmFtIHtBcnJheS48Q29sbGlzaW9uPn0gY29sbGlzaW9uc0JcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfZG9Db2xsaXNpb25zTWF0Y2goY29sbGlzaW9uc0EsIGNvbGxpc2lvbnNCKSB7XHJcbiAgY29uc3QgY291bnQgPSBjb2xsaXNpb25zQS5sZW5ndGg7XHJcblxyXG4gIGlmIChjb3VudCAhPT0gY29sbGlzaW9uc0IubGVuZ3RoKSByZXR1cm4gZmFsc2U7XHJcblxyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgY291bnQ7IGkrKykge1xyXG4gICAgY29uc3QgY29sbGlzaW9uQSA9IGNvbGxpc2lvbnNBW2ldO1xyXG4gICAgY29uc3QgY29sbGlzaW9uQiA9IGNvbGxpc2lvbnNCW2ldO1xyXG4gICAgaWYgKGNvbGxpc2lvbkEuY29sbGlkYWJsZUEgIT09IGNvbGxpc2lvbkIuY29sbGlkYWJsZUEgfHxcclxuICAgICAgICBjb2xsaXNpb25BLmNvbGxpZGFibGVCICE9PSBjb2xsaXNpb25CLmNvbGxpZGFibGVCIHx8XHJcbiAgICAgICAgIWFyZVZlYzNzQ2xvc2UoY29sbGlzaW9uQS5jb250YWN0UG9pbnQsIGNvbGxpc2lvbkIuY29udGFjdFBvaW50KSB8fFxyXG4gICAgICAgICFhcmVWZWMzc0Nsb3NlKGNvbGxpc2lvbkEuY29udGFjdE5vcm1hbCwgY29sbGlzaW9uQi5jb250YWN0Tm9ybWFsKSkge1xyXG4gICAgICByZXR1cm4gZmFsc2VcclxuICAgIH1cclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBjb2xsaWRhYmxlXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfcmVjb3JkT2xkQ29sbGlzaW9uc0ZvckRldk1vZGVGb3JDb2xsaWRhYmxlKGNvbGxpZGFibGUpIHtcclxuICBpZiAoIWNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnMpIHtcclxuICAgIGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnMgPSBbXTtcclxuICB9XHJcblxyXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XHJcbiAgICBjb2xsaWRhYmxlLmV4dHJhUHJldmlvdXNDb2xsaXNpb25zW2ldID0gY29sbGlkYWJsZS5leHRyYVByZXZpb3VzQ29sbGlzaW9uc1tpIC0gMV07XHJcbiAgfVxyXG4gIGNvbGxpZGFibGUuZXh0cmFQcmV2aW91c0NvbGxpc2lvbnNbMF0gPSBjb2xsaWRhYmxlLnByZXZpb3VzQ29sbGlzaW9ucztcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q29sbGlzaW9ufSBjb2xsaXNpb25cclxuICogQHBhcmFtIHtPYmplY3R9IHRoaXNDb250cm9sbGVyXHJcbiAqIEByZXR1cm5zIHtPYmplY3R9XHJcbiAqL1xyXG5mdW5jdGlvbiBnZXRPdGhlckNvbnRyb2xsZXJGcm9tQ29sbGlzaW9uKGNvbGxpc2lvbiwgdGhpc0NvbnRyb2xsZXIpIHtcclxuICBjb25zdCBjb250cm9sbGVyQSA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQS5waHlzaWNzSm9iLmNvbnRyb2xsZXI7XHJcbiAgY29uc3QgY29udHJvbGxlckIgPSBjb2xsaXNpb24uY29sbGlkYWJsZUIucGh5c2ljc0pvYi5jb250cm9sbGVyO1xyXG4gIGlmIChjb250cm9sbGVyQSA9PT0gdGhpc0NvbnRyb2xsZXIpIHtcclxuICAgIHJldHVybiBjb250cm9sbGVyQjtcclxuICB9IGVsc2UgaWYgKGNvbnRyb2xsZXJCID09PSB0aGlzQ29udHJvbGxlcikge1xyXG4gICAgcmV0dXJuIGNvbnRyb2xsZXJBO1xyXG4gIH0gZWxzZSB7XHJcbiAgICB0aHJvdyBuZXcgRXJyb3IoJ05laXRoZXIgY29sbGlkYWJsZSBjb3JyZXNwb25kcyB0byB0aGUgZ2l2ZW4gY29udHJvbGxlcicpO1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IHtcclxuICBoYW5kbGVDb2xsaXNpb25zRm9ySm9iLFxyXG4gIGZpbmRJbnRlcnNlY3RpbmdDb2xsaWRhYmxlc0ZvckNvbGxpZGFibGUsXHJcbiAgZGV0ZXJtaW5lSm9ic0F0UmVzdCxcclxuICByZWNvcmRPbGRDb2xsaXNpb25zRm9yRGV2TW9kZUZvckFsbENvbGxpZGFibGVzLFxyXG4gIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUsXHJcbiAgZ2V0T3RoZXJDb250cm9sbGVyRnJvbUNvbGxpc2lvbixcclxufTtcclxuIiwiaW1wb3J0IHtcclxuICBBYWJiLFxyXG4gIENhcHN1bGUsXHJcbiAgT2JiLFxyXG4gIFNwaGVyZVxyXG59IGZyb20gJy4uL2NvbGxpZGFibGVzJztcclxuXHJcbmltcG9ydCB7XHJcbiAgYWFiYkNvbGxpc2lvbkRldGVjdGlvbixcclxuICBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLFxyXG4gIG9iYkNvbGxpc2lvbkRldGVjdGlvbixcclxuICBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24sXHJcbn0gZnJvbSAnLi4vY29sbGlzaW9uLWRldGVjdGlvbic7XHJcblxyXG5pbXBvcnQge1xyXG4gIGFhYmJDb250YWN0Q2FsY3VsYXRpb24sXHJcbiAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbixcclxuICBvYmJDb250YWN0Q2FsY3VsYXRpb24sXHJcbiAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLFxyXG59IGZyb20gJy4uL2NvbnRhY3QtY2FsY3VsYXRpb24nO1xyXG5cclxuLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyB1dGlsaXR5IGZ1bmN0aW9ucyBmb3IgZGV0ZWN0aW5nIGFuZCByZXNwb25kaW5nIHRvXHJcbiAqIGNvbGxpc2lvbnMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gYVxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGJcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBkZXRlY3RJbnRlcnNlY3Rpb24oYSwgYikge1xyXG4gIGlmIChhIGluc3RhbmNlb2YgU3BoZXJlKSB7XHJcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xyXG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzU3BoZXJlKGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xyXG4gICAgICByZXR1cm4gc3BoZXJlQ29sbGlzaW9uRGV0ZWN0aW9uLnNwaGVyZVZzQWFiYihhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcclxuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc0NhcHN1bGUoYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcclxuICAgICAgcmV0dXJuIHNwaGVyZUNvbGxpc2lvbkRldGVjdGlvbi5zcGhlcmVWc09iYihhLCBiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNQb2ludChhLCBiKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBBYWJiKSB7XHJcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xyXG4gICAgICByZXR1cm4gYWFiYkNvbGxpc2lvbkRldGVjdGlvbi5hYWJiVnNTcGhlcmUoYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XHJcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc0FhYmIoYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XHJcbiAgICAgIHJldHVybiBhYWJiQ29sbGlzaW9uRGV0ZWN0aW9uLmFhYmJWc0NhcHN1bGUoYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcclxuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzT2JiKGEsIGIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYSwgYik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIGlmIChhIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xyXG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcclxuICAgICAgcmV0dXJuIGNhcHN1bGVDb2xsaXNpb25EZXRlY3Rpb24uY2Fwc3VsZVZzU3BoZXJlKGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xyXG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNBYWJiKGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQ2Fwc3VsZSkge1xyXG4gICAgICByZXR1cm4gY2Fwc3VsZUNvbGxpc2lvbkRldGVjdGlvbi5jYXBzdWxlVnNDYXBzdWxlKGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XHJcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc09iYihhLCBiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1BvaW50KGEsIGIpO1xyXG4gICAgfVxyXG4gIH0gZWxzZSBpZiAoYSBpbnN0YW5jZW9mIE9iYikge1xyXG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcclxuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc1NwaGVyZShhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcclxuICAgICAgcmV0dXJuIG9iYkNvbGxpc2lvbkRldGVjdGlvbi5vYmJWc0FhYmIoYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XHJcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNDYXBzdWxlKGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XHJcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNPYmIoYSwgYik7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICByZXR1cm4gb2JiQ29sbGlzaW9uRGV0ZWN0aW9uLm9iYlZzUG9pbnQoYSwgYik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XHJcbiAgICAgIHJldHVybiBzcGhlcmVDb2xsaXNpb25EZXRlY3Rpb24uc3BoZXJlVnNQb2ludChiLCBhKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIEFhYmIpIHtcclxuICAgICAgcmV0dXJuIGFhYmJDb2xsaXNpb25EZXRlY3Rpb24uYWFiYlZzUG9pbnQoYiwgYSk7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XHJcbiAgICAgIHJldHVybiBjYXBzdWxlQ29sbGlzaW9uRGV0ZWN0aW9uLmNhcHN1bGVWc1BvaW50KGIsIGEpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XHJcbiAgICAgIHJldHVybiBvYmJDb2xsaXNpb25EZXRlY3Rpb24ub2JiVnNQb2ludChiLCBhKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHJldHVybiBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NvbGxpc2lvbn0gY29sbGlzaW9uXHJcbiAqL1xyXG5mdW5jdGlvbiBjYWxjdWxhdGVDb250YWN0KGNvbGxpc2lvbikge1xyXG4gIGNvbnN0IGEgPSBjb2xsaXNpb24uY29sbGlkYWJsZUE7XHJcbiAgY29uc3QgYiA9IGNvbGxpc2lvbi5jb2xsaWRhYmxlQjtcclxuICBjb25zdCBjb250YWN0UG9pbnQgPSB2ZWMzLmNyZWF0ZSgpO1xyXG4gIGNvbnN0IGNvbnRhY3ROb3JtYWwgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuICBpZiAoYSBpbnN0YW5jZW9mIFNwaGVyZSkge1xyXG4gICAgaWYgKGIgaW5zdGFuY2VvZiBTcGhlcmUpIHtcclxuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzU3BoZXJlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XHJcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcclxuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzQ2Fwc3VsZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XHJcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc09iYihjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgc3BoZXJlQ29udGFjdENhbGN1bGF0aW9uLnNwaGVyZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBBYWJiKSB7XHJcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xyXG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xyXG4gICAgICBhYWJiQ29udGFjdENhbGN1bGF0aW9uLmFhYmJWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcclxuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcclxuICAgICAgYWFiYkNvbnRhY3RDYWxjdWxhdGlvbi5hYWJiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XHJcbiAgICBpZiAoYiBpbnN0YW5jZW9mIFNwaGVyZSkge1xyXG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xyXG4gICAgICBjYXBzdWxlQ29udGFjdENhbGN1bGF0aW9uLmNhcHN1bGVWc0FhYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcclxuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNDYXBzdWxlKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBPYmIpIHtcclxuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIGNhcHN1bGVDb250YWN0Q2FsY3VsYXRpb24uY2Fwc3VsZVZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH1cclxuICB9IGVsc2UgaWYgKGEgaW5zdGFuY2VvZiBPYmIpIHtcclxuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XHJcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1NwaGVyZShjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGEsIGIpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgQWFiYikge1xyXG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNBYWJiKGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBDYXBzdWxlKSB7XHJcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc0NhcHN1bGUoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIE9iYikge1xyXG4gICAgICBvYmJDb250YWN0Q2FsY3VsYXRpb24ub2JiVnNPYmIoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBhLCBiKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYSwgYik7XHJcbiAgICB9XHJcbiAgfSBlbHNlIHtcclxuICAgIGlmIChiIGluc3RhbmNlb2YgU3BoZXJlKSB7XHJcbiAgICAgIHNwaGVyZUNvbnRhY3RDYWxjdWxhdGlvbi5zcGhlcmVWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XHJcbiAgICB9IGVsc2UgaWYgKGIgaW5zdGFuY2VvZiBBYWJiKSB7XHJcbiAgICAgIGFhYmJDb250YWN0Q2FsY3VsYXRpb24uYWFiYlZzUG9pbnQoY29udGFjdFBvaW50LCBjb250YWN0Tm9ybWFsLCBiLCBhKTtcclxuICAgIH0gZWxzZSBpZiAoYiBpbnN0YW5jZW9mIENhcHN1bGUpIHtcclxuICAgICAgY2Fwc3VsZUNvbnRhY3RDYWxjdWxhdGlvbi5jYXBzdWxlVnNQb2ludChjb250YWN0UG9pbnQsIGNvbnRhY3ROb3JtYWwsIGIsIGEpO1xyXG4gICAgfSBlbHNlIGlmIChiIGluc3RhbmNlb2YgT2JiKSB7XHJcbiAgICAgIG9iYkNvbnRhY3RDYWxjdWxhdGlvbi5vYmJWc1BvaW50KGNvbnRhY3RQb2ludCwgY29udGFjdE5vcm1hbCwgYiwgYSk7XHJcbiAgICB9IGVsc2Uge31cclxuICAgIHZlYzMubmVnYXRlKGNvbnRhY3ROb3JtYWwsIGNvbnRhY3ROb3JtYWwpO1xyXG4gIH1cclxuXHJcbiAgY29sbGlzaW9uLmNvbnRhY3RQb2ludCA9IGNvbnRhY3RQb2ludDtcclxuICBjb2xsaXNpb24uY29udGFjdE5vcm1hbCA9IGNvbnRhY3ROb3JtYWw7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge0NvbGxpZGFibGV9IGFcclxuICogQHBhcmFtIHtDb2xsaWRhYmxlfSBiXHJcbiAqIEByZXR1cm5zIHtib29sZWFufVxyXG4gKi9cclxuZnVuY3Rpb24gZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24oYSwgYikge1xyXG4gIHJldHVybiBkZXRlY3RJbnRlcnNlY3Rpb24oYS5ib3VuZGluZ1ZvbHVtZSwgYi5ib3VuZGluZ1ZvbHVtZSk7XHJcbn1cclxuXHJcbmV4cG9ydCB7XHJcbiAgZGV0ZWN0SW50ZXJzZWN0aW9uLFxyXG4gIGNhbGN1bGF0ZUNvbnRhY3QsXHJcbiAgZGV0ZWN0Qm91bmRpbmdWb2x1bWVJbnRlcnNlY3Rpb24sXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSByZS1leHBvcnRzIGFsbCBvZiB0aGUgZXhwb3J0cyBpbiB0aGUgZ3JhZnggZnJhbWV3b3JrLiBUaGlzIG1ha2VzIHRoZSBlbnRpcmUgZnJhbWV3b3JrXHJcbiAqIGNvbnZlbmllbnRseSBhY2Nlc3NpYmxlIHZpYSB0aGlzIHNpbmdsZSBtb2R1bGUuXHJcbiAqL1xyXG5cclxuZXhwb3J0ICogZnJvbSAnLi9jb2xsaXNpb25zJztcclxuZXhwb3J0ICogZnJvbSAnLi9pbnRlZ3JhdG9yJztcclxuZXhwb3J0ICogZnJvbSAnLi91dGlsJztcclxuXHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3BoeXNpY3MtZW5naW5lJztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvcGh5c2ljcy1qb2InO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy9waHlzaWNzLXN0YXRlJztcclxuIiwiZXhwb3J0ICogZnJvbSAnLi9zcmMvaW50ZWdyYXRvcic7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL3JrNC1pbnRlZ3JhdG9yJztcclxuIiwiLyoqXHJcbiAqIFRoaXMgY2xhc3MgbnVtZXJpY2FsbHkgaW50ZWdyYXRlcyB0aGUgZXF1YXRpb25zIG9mIG1vdGlvbi4gVGhhdCBpcywgYW4gaW50ZWdyYXRvciBpbXBsZW1lbnRzXHJcbiAqIHBoeXNpY3Mgc2ltdWxhdGlvbnMgYnkgdXBkYXRpbmcgcG9zaXRpb24gYW5kIHZlbG9jaXR5IHZhbHVlcyBmb3IgZWFjaCB0aW1lIHN0ZXAuXHJcbiAqXHJcbiAqIEBhYnN0cmFjdFxyXG4gKi9cclxuY2xhc3MgSW50ZWdyYXRvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICAvLyBJbnRlZ3JhdG9yIGlzIGFuIGFic3RyYWN0IGNsYXNzLiBJdCBzaG91bGQgbm90IGJlIGluc3RhbnRpYXRlZCBkaXJlY3RseS5cclxuICAgIGlmIChuZXcudGFyZ2V0ID09PSBJbnRlZ3JhdG9yKSB7XHJcbiAgICAgIHRocm93IG5ldyBUeXBlRXJyb3IoJ0Nhbm5vdCBjb25zdHJ1Y3QgSW50ZWdyYXRvciBpbnN0YW5jZXMgZGlyZWN0bHknKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEludGVncmF0ZSB0aGUgc3RhdGUgZnJvbSB0IHRvIHQgKyBkdC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHQgVG90YWwgZWxhcHNlZCB0aW1lLlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBkdCBEdXJhdGlvbiBvZiB0aGUgY3VycmVudCB0aW1lIHN0ZXAuXHJcbiAgICogQGFic3RyYWN0XHJcbiAgICovXHJcbiAgaW50ZWdyYXRlKGpvYiwgdCwgZHQpIHtcclxuICAgIC8vIEV4dGVuZGluZyBjbGFzc2VzIHNob3VsZCBpbXBsZW1lbnQgdGhpcyBtZXRob2QuXHJcbiAgICB0aHJvdyBuZXcgVHlwZUVycm9yKCdNZXRob2Qgbm90IGltcGxlbWVudGVkJyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcmV0dXJucyB7UGh5c2ljc0Rlcml2YXRpdmV9XHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZURlcml2YXRpdmUoKSB7XHJcbiAgICByZXR1cm4ge1xyXG4gICAgICB2ZWxvY2l0eTogdmVjMy5jcmVhdGUoKSxcclxuICAgICAgZm9yY2U6IHZlYzMuY3JlYXRlKCksXHJcbiAgICAgIHNwaW46IHF1YXQuY3JlYXRlKCksXHJcbiAgICAgIHRvcnF1ZTogdmVjMy5jcmVhdGUoKVxyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7SW50ZWdyYXRvcn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gUGh5c2ljc0Rlcml2YXRpdmVcclxuICogQHByb3BlcnR5IHt2ZWMzfSB2ZWxvY2l0eSBEZXJpdmF0aXZlIG9mIHBvc2l0aW9uLlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IGZvcmNlIERlcml2YXRpdmUgb2YgbW9tZW50dW0uXHJcbiAqIEBwcm9wZXJ0eSB7cXVhdH0gc3BpbiBEZXJpdmF0aXZlIG9mIG9yaWVudGF0aW9uLlxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IHRvcnF1ZSBEZXJpdmF0aXZlIG9mIGFuZ3VsYXIgbW9tZW50dW0uXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvcmNlQXBwbGllck91dHB1dFxyXG4gKiBAcHJvcGVydHkge3ZlYzN9IGZvcmNlXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gdG9ycXVlXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEZvcmNlQXBwbGllcklucHV0XHJcbiAqIEBwcm9wZXJ0eSB7UGh5c2ljc1N0YXRlfSBzdGF0ZVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gdFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gZHRcclxuICovXHJcbiIsImltcG9ydCB7X2dlb21ldHJ5LCBfdXRpbH0gZnJvbSAnLi4vLi4vdXRpbCc7XHJcbmltcG9ydCB7SW50ZWdyYXRvcn0gZnJvbSAnLi9pbnRlZ3JhdG9yJztcclxuaW1wb3J0IHtQaHlzaWNzU3RhdGV9IGZyb20gJy4uLy4uL3NyYy9waHlzaWNzLXN0YXRlJztcclxuXHJcbi8vIFRPRE86IEFjY291bnQgZm9yIHRoZSBmYWN0IHRoYXQgY29sbGlzaW9ucyB0YWtlIHBsYWNlIGJldHdlZW4gdGltZSBzdGVwczsgaW50ZWdyYXRpb24gc2hvdWxkXHJcbi8vIHJlYWxseSBjb25zaWRlciB0aGUgcHJldmlvdXMgc3RhdGUgYXMgYmVpbmcgdGhlIHRpbWUgYW5kIHN0YXRlIGF0IHRoZSBtb21lbnQgb2YgY29sbGlzaW9uLlxyXG5cclxuLyoqXHJcbiAqIFRoaXMgY2xhc3MgbnVtZXJpY2FsbHkgaW50ZWdyYXRlcyB0aGUgZXF1YXRpb25zIG9mIG1vdGlvbi4gVGhhdCBpcywgdGhpcyBpbXBsZW1lbnRzIHBoeXNpY3NcclxuICogc2ltdWxhdGlvbnMgYnkgdXBkYXRpbmcgcG9zaXRpb24gYW5kIHZlbG9jaXR5IHZhbHVlcyBmb3IgZWFjaCB0aW1lIHN0ZXAuXHJcbiAqXHJcbiAqIFRoaXMgaW50ZWdyYXRvciBpcyBhbiBpbXBsZW1lbnRhdGlvbiBvZiB0aGUgY2xhc3NpY2FsIFJ1bmdlLUt1dHRhIG1ldGhvZCAoUks0KVxyXG4gKiAoaHR0cHM6Ly9lbi53aWtpcGVkaWEub3JnL3dpa2kvUnVuZ2Vfa3V0dGEpLlxyXG4gKlxyXG4gKiBUaGlzIGludGVncmF0b3IgY2F1c2VzIGVuZXJneSB0byBiZSBsb3N0IGF0IGEgc21hbGwgcmF0ZS4gVGhpcyBpcyBhIGNvbW1vbiBwcm9ibGVtIGZvciBudW1lcmljYWxcclxuICogaW50ZWdyYXRvcnMsIGFuZCBpcyB1c3VhbGx5IG5lZ2xpZ2libGUuXHJcbiAqL1xyXG5jbGFzcyBSSzRJbnRlZ3JhdG9yIGV4dGVuZHMgSW50ZWdyYXRvciB7XHJcbiAgY29uc3RydWN0b3IoKSB7XHJcbiAgICBzdXBlcigpO1xyXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XHJcbiAgICAgIHRoaXMuX3dyYXBGb3JEZXZNb2RlKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBJbnRlZ3JhdGUgdGhlIHN0YXRlIGZyb20gdCB0byB0ICsgZHQuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSB0IFRvdGFsIGVsYXBzZWQgdGltZS5cclxuICAgKiBAcGFyYW0ge251bWJlcn0gZHQgRHVyYXRpb24gb2YgdGhlIGN1cnJlbnQgdGltZSBzdGVwLlxyXG4gICAqL1xyXG4gIGludGVncmF0ZShqb2IsIHQsIGR0KSB7XHJcbiAgICBjb25zdCBzdGF0ZSA9IGpvYi5jdXJyZW50U3RhdGU7XHJcbiAgICBfdGVtcFN0YXRlLmNvcHkoc3RhdGUpO1xyXG5cclxuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9hLCBfdGVtcFN0YXRlLCBqb2IsIHQsIDAsIF9FTVBUWV9ERVJJVkFUSVZFKTtcclxuICAgIF9jYWxjdWxhdGVEZXJpdmF0aXZlKF9iLCBfdGVtcFN0YXRlLCBqb2IsIHQsIGR0ICogMC41LCBfYSk7XHJcbiAgICBfY2FsY3VsYXRlRGVyaXZhdGl2ZShfYywgX3RlbXBTdGF0ZSwgam9iLCB0LCBkdCAqIDAuNSwgX2IpO1xyXG4gICAgX2NhbGN1bGF0ZURlcml2YXRpdmUoX2QsIF90ZW1wU3RhdGUsIGpvYiwgdCwgZHQsIF9jKTtcclxuXHJcbiAgICBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShcclxuICAgICAgICBfcG9zaXRpb25EZXJpdmF0aXZlLCBfYS52ZWxvY2l0eSwgX2IudmVsb2NpdHksIF9jLnZlbG9jaXR5LCBfZC52ZWxvY2l0eSk7XHJcbiAgICBfY2FsY3VsYXRlVmVjM0Rlcml2YXRpdmVXZWlnaHRlZFN1bShcclxuICAgICAgICBfbW9tZW50dW1EZXJpdmF0aXZlLCBfYS5mb3JjZSwgX2IuZm9yY2UsIF9jLmZvcmNlLCBfZC5mb3JjZSk7XHJcbiAgICBfY2FsY3VsYXRlUXVhdERlcml2YXRpdmVXZWlnaHRlZFN1bShfb3JpZW50YXRpb25EZXJpdmF0aXZlLCBfYS5zcGluLCBfYi5zcGluLCBfYy5zcGluLCBfZC5zcGluKTtcclxuICAgIF9jYWxjdWxhdGVWZWMzRGVyaXZhdGl2ZVdlaWdodGVkU3VtKFxyXG4gICAgICAgIF9hbmd1bGFyTW9tZW50dW1EZXJpdmF0aXZlLCBfYS50b3JxdWUsIF9iLnRvcnF1ZSwgX2MudG9ycXVlLCBfZC50b3JxdWUpO1xyXG5cclxuICAgIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUucG9zaXRpb24sIHN0YXRlLnBvc2l0aW9uLCBfcG9zaXRpb25EZXJpdmF0aXZlLCBkdCk7XHJcbiAgICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLm1vbWVudHVtLCBzdGF0ZS5tb21lbnR1bSwgX21vbWVudHVtRGVyaXZhdGl2ZSwgZHQpO1xyXG4gICAgX2dlb21ldHJ5LnNjYWxlQW5kQWRkUXVhdChzdGF0ZS5vcmllbnRhdGlvbiwgc3RhdGUub3JpZW50YXRpb24sIF9vcmllbnRhdGlvbkRlcml2YXRpdmUsIGR0KTtcclxuICAgIHZlYzMuc2NhbGVBbmRBZGQoc3RhdGUuYW5ndWxhck1vbWVudHVtLCBzdGF0ZS5hbmd1bGFyTW9tZW50dW0sIF9hbmd1bGFyTW9tZW50dW1EZXJpdmF0aXZlLCBkdCk7XHJcblxyXG4gICAgc3RhdGUudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBXcmFwcyB0aGUgaW50ZWdyYXRlIG1ldGhvZCBhbmQgY2hlY2sgZm9yIE5hTiB2YWx1ZXMgYWZ0ZXIgZWFjaCBpbnRlZ3JhdGlvbi5cclxuICAgKlxyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3dyYXBGb3JEZXZNb2RlKCkge1xyXG4gICAgY29uc3QgdW5ndWFyZGVkSW50ZWdyYXRlID0gdGhpcy5pbnRlZ3JhdGUuYmluZCh0aGlzKTtcclxuICAgIHRoaXMuaW50ZWdyYXRlID0gKGpvYiwgdCwgZHQpID0+IHtcclxuICAgICAgdW5ndWFyZGVkSW50ZWdyYXRlKGpvYiwgdCwgZHQpO1xyXG4gICAgICBfY2hlY2tGb3JTdGF0ZUVycm9yKGpvYi5jdXJyZW50U3RhdGUpO1xyXG4gICAgfTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBDYWxjdWxhdGUgdGhlIGRlcml2YXRpdmUgZnJvbSB0aGUgZ2l2ZW4gc3RhdGUgd2l0aCB0aGUgZ2l2ZW4gdGltZSBzdGVwLlxyXG4gKlxyXG4gKiBAcGFyYW0ge1BoeXNpY3NEZXJpdmF0aXZlfSBvdXRcclxuICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSB0XHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBkdFxyXG4gKiBAcGFyYW0ge1BoeXNpY3NEZXJpdmF0aXZlfSBkXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2FsY3VsYXRlRGVyaXZhdGl2ZShvdXQsIHN0YXRlLCBqb2IsIHQsIGR0LCBkKSB7XHJcbiAgdmVjMy5zY2FsZUFuZEFkZChzdGF0ZS5wb3NpdGlvbiwgc3RhdGUucG9zaXRpb24sIGQudmVsb2NpdHksIGR0KTtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLm1vbWVudHVtLCBzdGF0ZS5tb21lbnR1bSwgZC5mb3JjZSwgZHQpO1xyXG4gIF9nZW9tZXRyeS5zY2FsZUFuZEFkZFF1YXQoc3RhdGUub3JpZW50YXRpb24sIHN0YXRlLm9yaWVudGF0aW9uLCBkLnNwaW4sIGR0KTtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKHN0YXRlLmFuZ3VsYXJNb21lbnR1bSwgc3RhdGUuYW5ndWxhck1vbWVudHVtLCBkLnRvcnF1ZSwgZHQpO1xyXG5cclxuICBzdGF0ZS51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcclxuXHJcbiAgb3V0LnZlbG9jaXR5ID0gc3RhdGUudmVsb2NpdHk7XHJcbiAgb3V0LnNwaW4gPSBzdGF0ZS5zcGluO1xyXG4gIHZlYzMuc2V0KG91dC5mb3JjZSwgMCwgMCwgMCk7XHJcbiAgdmVjMy5zZXQob3V0LnRvcnF1ZSwgMCwgMCwgMCk7XHJcblxyXG4gIF9mb3JjZUFwcGxpZXJPdXRwdXQuZm9yY2UgPSBvdXQuZm9yY2U7XHJcbiAgX2ZvcmNlQXBwbGllck91dHB1dC50b3JxdWUgPSBvdXQudG9ycXVlO1xyXG4gIF9mb3JjZUFwcGxpZXJJbnB1dC5zdGF0ZSA9IHN0YXRlO1xyXG4gIF9mb3JjZUFwcGxpZXJJbnB1dC50ID0gdCArIGR0O1xyXG4gIF9mb3JjZUFwcGxpZXJJbnB1dC5kdCA9IGR0O1xyXG5cclxuICBqb2IuYXBwbHlGb3JjZXMoX2ZvcmNlQXBwbGllck91dHB1dCwgX2ZvcmNlQXBwbGllcklucHV0KTtcclxufVxyXG5cclxuY29uc3QgX0VNUFRZX0RFUklWQVRJVkUgPSBJbnRlZ3JhdG9yLmNyZWF0ZURlcml2YXRpdmUoKTtcclxuXHJcbmNvbnN0IF90ZW1wU3RhdGUgPSBuZXcgUGh5c2ljc1N0YXRlKCk7XHJcbmNvbnN0IF9hID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XHJcbmNvbnN0IF9iID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XHJcbmNvbnN0IF9jID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XHJcbmNvbnN0IF9kID0gSW50ZWdyYXRvci5jcmVhdGVEZXJpdmF0aXZlKCk7XHJcblxyXG5jb25zdCBfcG9zaXRpb25EZXJpdmF0aXZlID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgX21vbWVudHVtRGVyaXZhdGl2ZSA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IF9vcmllbnRhdGlvbkRlcml2YXRpdmUgPSBxdWF0LmNyZWF0ZSgpO1xyXG5jb25zdCBfYW5ndWxhck1vbWVudHVtRGVyaXZhdGl2ZSA9IHZlYzMuY3JlYXRlKCk7XHJcblxyXG5jb25zdCBfZm9yY2VBcHBsaWVyT3V0cHV0ID0ge307XHJcbmNvbnN0IF9mb3JjZUFwcGxpZXJJbnB1dCA9IHt9O1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7dmVjM30gb3V0XHJcbiAqIEBwYXJhbSB7dmVjM30gYVxyXG4gKiBAcGFyYW0ge3ZlYzN9IGJcclxuICogQHBhcmFtIHt2ZWMzfSBjXHJcbiAqIEBwYXJhbSB7dmVjM30gZFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NhbGN1bGF0ZVZlYzNEZXJpdmF0aXZlV2VpZ2h0ZWRTdW0ob3V0LCBhLCBiLCBjLCBkKSB7XHJcbiAgb3V0WzBdID0gMSAvIDYgKiAoYVswXSArIDIgKiAoYlswXSArIGNbMF0pICsgZFswXSk7XHJcbiAgb3V0WzFdID0gMSAvIDYgKiAoYVsxXSArIDIgKiAoYlsxXSArIGNbMV0pICsgZFsxXSk7XHJcbiAgb3V0WzJdID0gMSAvIDYgKiAoYVsyXSArIDIgKiAoYlsyXSArIGNbMl0pICsgZFsyXSk7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3F1YXR9IG91dFxyXG4gKiBAcGFyYW0ge3F1YXR9IGFcclxuICogQHBhcmFtIHtxdWF0fSBiXHJcbiAqIEBwYXJhbSB7cXVhdH0gY1xyXG4gKiBAcGFyYW0ge3F1YXR9IGRcclxuICogQHByaXZhdGVcclxuICovXHJcbmZ1bmN0aW9uIF9jYWxjdWxhdGVRdWF0RGVyaXZhdGl2ZVdlaWdodGVkU3VtKG91dCwgYSwgYiwgYywgZCkge1xyXG4gIG91dFswXSA9IDEgLyA2ICogKGFbMF0gKyAyICogKGJbMF0gKyBjWzBdKSArIGRbMF0pO1xyXG4gIG91dFsxXSA9IDEgLyA2ICogKGFbMV0gKyAyICogKGJbMV0gKyBjWzFdKSArIGRbMV0pO1xyXG4gIG91dFsyXSA9IDEgLyA2ICogKGFbMl0gKyAyICogKGJbMl0gKyBjWzJdKSArIGRbMl0pO1xyXG4gIG91dFszXSA9IDEgLyA2ICogKGFbM10gKyAyICogKGJbM10gKyBjWzNdKSArIGRbM10pO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtQaHlzaWNzU3RhdGV9IHN0YXRlXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfY2hlY2tGb3JTdGF0ZUVycm9yKHN0YXRlKSB7XHJcbiAgY29uc3QgZXJyb3JQcm9wZXJ0aWVzID0gW1xyXG4gICAgJ3Bvc2l0aW9uJyxcclxuICAgICdtb21lbnR1bScsXHJcbiAgICAnb3JpZW50YXRpb24nLFxyXG4gICAgJ2FuZ3VsYXJNb21lbnR1bScsXHJcbiAgXS5maWx0ZXIocHJvcGVydHkgPT4gX2NvbnRhaW5zTmFOKHN0YXRlW3Byb3BlcnR5XSkpO1xyXG4gIGNvbnN0IHByb3BlcnR5ID0gZXJyb3JQcm9wZXJ0aWVzWzBdO1xyXG4gIGlmIChwcm9wZXJ0eSkge1xyXG4gICAgdGhyb3cgbmV3IEVycm9yKGAke3Byb3BlcnR5fSBjb250YWlucyBhIE5hTiB2YWx1ZSBhZnRlciBpbnRlZ3JhdGluZzogJHtzdGF0ZVtwcm9wZXJ0eV19YCk7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRGV0ZXJtaW5lcyB3aGV0aGVyIHRoZSBnaXZlbiB2ZWN0b3IgY29udGFpbnMgYSBOYU4gdmFsdWUuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gdlxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX2NvbnRhaW5zTmFOKHYpIHtcclxuICByZXR1cm4gaXNOYU4odlswXSkgfHwgaXNOYU4odlsxXSkgfHwgaXNOYU4odlsyXSk7XHJcbn1cclxuXHJcbmNvbnN0IHJrNEludGVncmF0b3IgPSBuZXcgUks0SW50ZWdyYXRvcigpO1xyXG5cclxuZXhwb3J0IHtyazRJbnRlZ3JhdG9yfTtcclxuIiwiaW1wb3J0IHtGcmFtZUxhdGVuY3lQcm9maWxlciwgUGVyc2lzdGVudEFuaW1hdGlvbkpvYn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcclxuaW1wb3J0IHtfdXRpbH0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG5pbXBvcnQge1xyXG4gIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUsXHJcbiAgQ29sbGlkYWJsZVBoeXNpY3NKb2IsXHJcbiAgZGV0ZXJtaW5lSm9ic0F0UmVzdCxcclxuICBoYW5kbGVDb2xsaXNpb25zRm9ySm9iLFxyXG4gIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMsXHJcbn0gZnJvbSAnLi4vY29sbGlzaW9ucyc7XHJcbmltcG9ydCB7UGh5c2ljc1N0YXRlfSBmcm9tICcuL3BoeXNpY3Mtc3RhdGUnO1xyXG5pbXBvcnQge3JrNEludGVncmF0b3J9IGZyb20gJy4uL2ludGVncmF0b3InO1xyXG5cclxuY29uc3QgX0ZSQU1FX0xBVEVOQ1lfTE9HX1BFUklPRCA9IDUwMDA7XHJcbmNvbnN0IF9MQVRFTkNZX0xPR19MQUJFTCA9ICdQaHlzaWNzIGZyYW1lIGR1cmF0aW9uJztcclxuXHJcbi8qKlxyXG4gKiBUaGlzIHBoeXNpY3MgZW5naW5lIHNpbXVsYXRlcyBoaWdoLXBlcmZvcm1hbmNlLCB0aHJlZS1kaW1lbnNpb25hbCByaWdpZC1ib2R5IGR5bmFtaWNzLlxyXG4gKlxyXG4gKiBOb3RhYmxlIGZlYXR1cmVzOlxyXG4gKiAtIEluY2x1ZGVzIGNvbGxpc2lvbiBkZXRlY3Rpb24gd2l0aCBpbXB1bHNlLWJhc2VkIHJlc29sdXRpb24uXHJcbiAqIC0gRGVjb3VwbGVzIHRoZSBwaHlzaWNzIHNpbXVsYXRpb24gYW5kIGFuaW1hdGlvbiByZW5kZXJpbmcgdGltZSBzdGVwcywgYW5kIHVzZXMgYSBmaXhlZCB0aW1lc3RlcFxyXG4gKiBmb3IgdGhlIHBoeXNpY3MgbG9vcC4gVGhpcyBnaXZlcyB1cyBudW1lcmljYWwgc3RhYmlsaXR5IGFuZCBwcmVjaXNlIHJlcHJvZHVjaWJpbGl0eS5cclxuICogLSBTdXBwcmVzc2VzIGxpbmVhciBhbmQgYW5ndWxhciBtb21lbnRhIGJlbG93IGEgY2VydGFpbiB0aHJlc2hvbGQuXHJcbiAqXHJcbiAqIFRoZSBlbmdpbmUgY29uc2lzdHMgcHJpbWFyaWx5IG9mIGEgY29sbGVjdGlvbiBvZiBpbmRpdmlkdWFsIHBoeXNpY3Mgam9icyBhbmQgYW4gdXBkYXRlIGxvb3AuIFRoaXNcclxuICogdXBkYXRlIGxvb3AgaXMgaW4gdHVybiBjb250cm9sbGVkIGJ5IHRoZSBhbmltYXRpb24gbG9vcC4gSG93ZXZlciwgd2hlcmVhcyB0aGUgYW5pbWF0aW9uIGxvb3BcclxuICogcmVuZGVycyBlYWNoIGpvYiBvbmNlIHBlciBmcmFtZSBsb29wLS1yZWdhcmRsZXNzIG9mIGhvdyBtdWNoIHRpbWUgYWN0dWFsbHkgZWxhcHNlZCBzaW5jZSB0aGVcclxuICogcHJldmlvdXMgZnJhbWUtLXRoZSBwaHlzaWNzIGxvb3AgdXBkYXRlcyBpdHMgam9icyBhdCBhIGNvbnN0YW50IHJhdGUuIFRvIHJlY29uY2lsZSB0aGVzZSBmcmFtZVxyXG4gKiByYXRlcywgdGhlIHBoeXNpY3MgbG9vcCBydW5zIGFzIG1hbnkgdGltZXMgYXMgaXMgbmVlZGVkIGluIG9yZGVyIHRvIGNhdGNoIHVwIHRvIHRoZSB0aW1lIG9mIHRoZVxyXG4gKiBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gVGhlIHBoeXNpY3MgZnJhbWUgcmF0ZSBzaG91bGQgYmUgbXVjaCBoaWdoZXIgdGhhbiB0aGUgYW5pbWF0aW9uIGZyYW1lXHJcbiAqIHJhdGUuXHJcbiAqXHJcbiAqIEl0IGlzIFZFUlkgSU1QT1JUQU5UIGZvciBhIFBoeXNpY3NKb2IgdG8gbWluaW1pemUgdGhlIHJ1bnRpbWUgb2YgaXRzIHVwZGF0ZSBzdGVwLlxyXG4gKlxyXG4gKiAjIyBBIG5vdGUgb24gam9iIG9yZGVyXHJcbiAqXHJcbiAqIFRoZSBpbnRlZ3JhdGlvbitjb2xsaXNpb24gcGlwZWxpbmUgaGFuZGxlIG9uZSBqb2IgYXQgYSB0aW1lLiBBIGNvbnNlcXVlbmNlIG9mIHRoaXMgZGVzaWduXHJcbiAqIGlzIHRoYXQgaGFsZiBvZiB0aGUgY29sbGlzaW9ucyB0ZWNobmljYWxseSByZXByZXNlbnQgYSBmYWxzZSBpbnRlcmFjdGlvbiBiZXR3ZWVuIHRoZSBzdGF0ZSBvZiB0aGVcclxuICogZmlyc3Qgb2JqZWN0IGF0IHRpbWUgdCBhbmQgdGhlIHN0YXRlIG9mIHRoZSBzZWNvbmQgb2JqZWN0IGF0IHRpbWUgdCAtIDEuXHJcbiAqXHJcbiAqIFRoaXMgaW1wbGVtZW50YXRpb24gcHJldmVudHMgYSBtb3JlIHByb2JsZW1hdGljIGlzc3VlLiBJZiBhbGwgb2JqZWN0cyB3ZXJlIGZpcnN0IGludGVncmF0ZWQsIHRoZW5cclxuICogYWxsIG9iamVjdHMgd2VyZSBjaGVja2VkIGZvciBjb2xsaXNpb25zLCB0aGVuIGFsbCBjb2xsaXNpb25zIHdlcmUgcmVzb2x2ZWQsIHRoZW4gdGhlIGZvbGxvd2luZ1xyXG4gKiBzY2VuYXJpbyBjb3VsZCBhcmlzZTpcclxuICogLSBUaGUgbmV4dCBwb3NpdGlvbiBvZiBvYmplY3QgQSBjb2xsaWRlcyB3aXRoIHRoZSBwcmV2aW91cyBwb3NpdGlvbiBvZiBvYmplY3QgQiwgYnV0IG5vdCB3aXRoIHRoZVxyXG4gKiAgIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEIsIHNvIG9iamVjdCBBIG1vdmVzIHN1Y2Nlc3NmdWxseSB0byBpdHMgbmV3IHBvc2l0aW9uLlxyXG4gKiAtIFRoZSBuZXh0IHBvc2l0aW9uIG9mIG9iamVjdCBCIGNvbGxpZGVzIHdpdGggdGhlIG5leHQgcG9zaXRpb24gb2Ygb2JqZWN0IEMsIHNvIG9iamVjdHMgQiBhbmQgQ1xyXG4gKiAgIGFyZSByZXNldCB0byB0aGVpciBwcmV2aW91cyBwb3NpdGlvbnMuXHJcbiAqIC0gT2JqZWN0IEIgYW5kIEMgbm93IGludGVyc2VjdC5cclxuICovXHJcbmNsYXNzIFBoeXNpY3NFbmdpbmUgZXh0ZW5kcyBQZXJzaXN0ZW50QW5pbWF0aW9uSm9iIHtcclxuICAvKipcclxuICAgKiBDbGllbnRzIHNob3VsZCBjYWxsIFBoeXNpY3NFbmdpbmUuY3JlYXRlIGluc3RlYWQgb2YgaW5zdGFudGlhdGluZyBhIFBoeXNpY3NFbmdpbmUgZGlyZWN0bHkuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1BoeXNpY3NDb25maWd9IHBoeXNpY3NQYXJhbXNcclxuICAgKi9cclxuICBjb25zdHJ1Y3RvcihwaHlzaWNzUGFyYW1zKSB7XHJcbiAgICBzdXBlcigpO1xyXG5cclxuICAgIGlmIChfcGh5c2ljc0VuZ2luZSkge1xyXG4gICAgICB0aHJvdyBuZXcgRXJyb3IoJ0NhblxcJ3QgaW5zdGFudGlhdGUgbXVsdGlwbGUgaW5zdGFuY2VzIG9mIFBoeXNpY3NFbmdpbmUuJyk7XHJcbiAgICB9XHJcblxyXG4gICAgX3BoeXNpY3NFbmdpbmUgPSB0aGlzO1xyXG5cclxuICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMgPSBwaHlzaWNzUGFyYW1zO1xyXG4gICAgdGhpcy5pbnRlZ3JhdG9yID0gcms0SW50ZWdyYXRvcjtcclxuICAgIHRoaXMuX2VsYXBzZWRUaW1lID0gMC4wO1xyXG4gICAgdGhpcy5fcmVtYWluaW5nVGltZSA9IDAuMDtcclxuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzID0gW107XHJcbiAgICB0aGlzLl9jb2xsaWRhYmxlSm9icyA9IFtdO1xyXG5cclxuICAgIGlmIChfdXRpbC5pc0luRGV2TW9kZSkge1xyXG4gICAgICB0aGlzLl9zZXRVcEZvckluRGV2TW9kZSgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtQaHlzaWNzQ29uZmlnfSBwaHlzaWNzUGFyYW1zXHJcbiAgICovXHJcbiAgc3RhdGljIGNyZWF0ZShwaHlzaWNzUGFyYW1zKSB7XHJcbiAgICBuZXcgUGh5c2ljc0VuZ2luZShwaHlzaWNzUGFyYW1zKTtcclxuICB9XHJcblxyXG4gIHJlc2V0KCkge1xyXG4gICAgdGhpcy5fZWxhcHNlZFRpbWUgPSAwLjA7XHJcbiAgICB0aGlzLl9yZW1haW5pbmdUaW1lID0gMC4wO1xyXG4gICAgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMgPSBbXTtcclxuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzID0gW107XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBBZGRzIHRoZSBnaXZlbiBQaHlzaWNzSm9iLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcclxuICAgKi9cclxuICBhZGRKb2Ioam9iKSB7XHJcbiAgICAvLyBjb25zb2xlLmRlYnVnKGBTdGFydGluZyBQaHlzaWNzSm9iYCk7XHJcblxyXG4gICAgaWYgKGpvYiBpbnN0YW5jZW9mIENvbGxpZGFibGVQaHlzaWNzSm9iKSB7XHJcbiAgICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLnB1c2goam9iKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLnB1c2goam9iKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFJlbW92ZXMgdGhlIGdpdmVuIFBoeXNpY3NKb2IuXHJcbiAgICpcclxuICAgKiBUaHJvd3Mgbm8gZXJyb3IgaWYgdGhlIGpvYiBpcyBub3QgcmVnaXN0ZXJlZC5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAgICovXHJcbiAgcmVtb3ZlSm9iKGpvYikge1xyXG4gICAgLy8gY29uc29sZS5kZWJ1ZyhgQ2FuY2VsbGluZyBQaHlzaWNzSm9iYCk7XHJcbiAgICB0aGlzLl9yZW1vdmVKb2Ioam9iKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFdyYXBzIHRoZSBkcmF3IGFuZCB1cGRhdGUgbWV0aG9kcyBpbiBhIHByb2ZpbGVyIGZ1bmN0aW9uIHRoYXQgd2lsbCB0cmFjayB0aGUgZnJhbWUgbGF0ZW5jaWVzLlxyXG4gICAqXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfc2V0VXBGb3JJbkRldk1vZGUoKSB7XHJcbiAgICBjb25zdCB1bndyYXBwZWRVcGRhdGUgPSB0aGlzLnVwZGF0ZS5iaW5kKHRoaXMpO1xyXG4gICAgY29uc3QgbGF0ZW5jeVByb2ZpbGVyID0gbmV3IEZyYW1lTGF0ZW5jeVByb2ZpbGVyKF9GUkFNRV9MQVRFTkNZX0xPR19QRVJJT0QsIFxyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbiwgX0xBVEVOQ1lfTE9HX0xBQkVMKTtcclxuICAgIGxhdGVuY3lQcm9maWxlci5zdGFydCgpO1xyXG5cclxuICAgIHRoaXMudXBkYXRlID0gKC4uLmFyZ3MpID0+IHtcclxuICAgICAgY29uc3QgYmVmb3JlVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpO1xyXG4gICAgICB1bndyYXBwZWRVcGRhdGUoLi4uYXJncyk7XHJcbiAgICAgIGNvbnN0IGRlbHRhVGltZSA9IHBlcmZvcm1hbmNlLm5vdygpIC0gYmVmb3JlVGltZTtcclxuICAgICAgbGF0ZW5jeVByb2ZpbGVyLnJlY29yZEZyYW1lTGF0ZW5jeShkZWx0YVRpbWUpO1xyXG4gICAgfTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgcGh5c2ljcyBzdGF0ZSBmb3IgdGhlIGN1cnJlbnQgYW5pbWF0aW9uIHVwZGF0ZSBmcmFtZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7RE9NSGlnaFJlc1RpbWVTdGFtcH0gY3VycmVudFRpbWVcclxuICAgKiBAcGFyYW0ge0RPTUhpZ2hSZXNUaW1lU3RhbXB9IGRlbHRhVGltZVxyXG4gICAqL1xyXG4gIHVwZGF0ZShjdXJyZW50VGltZSwgZGVsdGFUaW1lKSB7XHJcbiAgICB0aGlzLl9yZW1haW5pbmdUaW1lICs9IGRlbHRhVGltZTtcclxuXHJcbiAgICAvLyBSdW4gYXMgbWFueSBjb25zdGFudC1pbnRlcnZhbCBwaHlzaWNzIHVwZGF0ZXMgYXMgYXJlIG5lZWRlZCBmb3IgdGhlIGdpdmVuIGFuaW1hdGlvbiBmcmFtZVxyXG4gICAgLy8gaW50ZXJ2YWwuXHJcbiAgICB3aGlsZSAodGhpcy5fcmVtYWluaW5nVGltZSA+PSB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb24pIHtcclxuICAgICAgdGhpcy5fdXBkYXRlVG9OZXh0UGh5c2ljc0ZyYW1lKCk7XHJcbiAgICAgIHRoaXMuX2VsYXBzZWRUaW1lICs9IHRoaXMuX3BoeXNpY3NQYXJhbXMudGltZVN0ZXBEdXJhdGlvbjtcclxuICAgICAgdGhpcy5fcmVtYWluaW5nVGltZSAtPSB0aGlzLl9waHlzaWNzUGFyYW1zLnRpbWVTdGVwRHVyYXRpb247XHJcbiAgICB9XHJcblxyXG4gICAgLy8gQ2FsY3VsYXRlIHRoZSBpbnRlcm1lZGlhdGUgcGh5c2ljcyBzdGF0ZSB0byB1c2UgZm9yIHJlbmRlcmluZyB0aGUgY3VycmVudCBhbmltYXRpb24gZnJhbWUuXHJcbiAgICBjb25zdCBwYXJ0aWFsUmF0aW8gPSB0aGlzLl9yZW1haW5pbmdUaW1lIC8gdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uO1xyXG4gICAgdGhpcy5fc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JBbGxKb2JzKHBhcnRpYWxSYXRpbyk7XHJcbiAgfVxyXG5cclxuICBfdXBkYXRlVG9OZXh0UGh5c2ljc0ZyYW1lKCkge1xyXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XHJcbiAgICAgIHRoaXMuX3JlY29yZE9sZFN0YXRlc0ZvckFsbEpvYnNGb3JEZXZNb2RlKCk7XHJcbiAgICAgIHJlY29yZE9sZENvbGxpc2lvbnNGb3JEZXZNb2RlRm9yQWxsQ29sbGlkYWJsZXMoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKHRoaXMuX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckpvYi5iaW5kKHRoaXMpKTtcclxuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goam9iID0+IHtcclxuICAgICAgaWYgKCFqb2IuaXNBdFJlc3QpIHtcclxuICAgICAgICB0aGlzLl9pbnRlZ3JhdGVQaHlzaWNzU3RhdGVGb3JDb2xsaWRhYmxlSm9iKGpvYik7XHJcbiAgICAgICAgaGFuZGxlQ29sbGlzaW9uc0ZvckpvYihqb2IsIHRoaXMuX2VsYXBzZWRUaW1lLCB0aGlzLl9waHlzaWNzUGFyYW1zKTtcclxuICAgICAgfVxyXG4gICAgfSk7XHJcblxyXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XHJcbiAgICAgIGNoZWNrVGhhdE5vT2JqZWN0c0NvbGxpZGUoKTtcclxuICAgIH1cclxuXHJcbiAgICB0aGlzLl9zdXBwcmVzc0xvd01vbWVudGFGb3JBbGxKb2JzKCk7XHJcblxyXG4gICAgZGV0ZXJtaW5lSm9ic0F0UmVzdCh0aGlzLl9jb2xsaWRhYmxlSm9icyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZW1vdmVzIHRoZSBnaXZlbiBqb2IgZnJvbSB0aGUgY29sbGVjdGlvbiBvZiBhY3RpdmUgam9icyBpZiBpdCBleGlzdHMuXHJcbiAgICpcclxuICAgKiBAcGFyYW0ge1BoeXNpY3NKb2J9IGpvYlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9LTFdXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfcmVtb3ZlSm9iKGpvYiwgaW5kZXggPSAtMSkge1xyXG4gICAgaWYgKGpvYiBpbnN0YW5jZW9mIENvbGxpZGFibGVQaHlzaWNzSm9iKSB7XHJcbiAgICAgIF9yZW1vdmVKb2JGcm9tQ29sbGVjdGlvbihqb2IsIGluZGV4LCB0aGlzLl9jb2xsaWRhYmxlSm9icyk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICBfcmVtb3ZlSm9iRnJvbUNvbGxlY3Rpb24oam9iLCBpbmRleCwgdGhpcy5fbm9uQ29sbGlkYWJsZUpvYnMpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogVXBkYXRlIHRoZSBjdXJyZW50IHBoeXNpY3Mgc3RhdGUgZm9yIGEgam9iIGZvciB0aGUgY3VycmVudCBwaHlzaWNzIHVwZGF0ZSBmcmFtZS5cclxuICAgKlxyXG4gICAqIFRoaXMgaW5jbHVkZXMgYXBwbHlpbmcgYWxsIGZvcmNlcyB0aGF0IGhhdmUgYmVlbiByZWdpc3RlcmVkIHdpdGggdGhlIHBoeXNpY3Mgam9iLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtDb2xsaWRhYmxlUGh5c2ljc0pvYn0gam9iXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfaW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9yQ29sbGlkYWJsZUpvYihqb2IpIHtcclxuICAgIHRoaXMuX2ludGVncmF0ZVBoeXNpY3NTdGF0ZUZvckpvYihqb2IpO1xyXG5cclxuICAgIC8vIFVwZGF0ZSB0aGUgY29sbGlkYWJsZSdzIHBvc2l0aW9uIGFuZCBvcmllbnRhdGlvbi5cclxuICAgIGpvYi5jb2xsaWRhYmxlLnBvc2l0aW9uID0gam9iLmN1cnJlbnRTdGF0ZS5wb3NpdGlvbjtcclxuICAgIGpvYi5jb2xsaWRhYmxlLm9yaWVudGF0aW9uID0gam9iLmN1cnJlbnRTdGF0ZS5vcmllbnRhdGlvbjtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIFVwZGF0ZSB0aGUgY3VycmVudCBwaHlzaWNzIHN0YXRlIGZvciBhIGpvYiBmb3IgdGhlIGN1cnJlbnQgcGh5c2ljcyB1cGRhdGUgZnJhbWUuXHJcbiAgICpcclxuICAgKiBUaGlzIGluY2x1ZGVzIGFwcGx5aW5nIGFsbCBmb3JjZXMgdGhhdCBoYXZlIGJlZW4gcmVnaXN0ZXJlZCB3aXRoIHRoZSBwaHlzaWNzIGpvYi5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAgICogQHByaXZhdGVcclxuICAgKi9cclxuICBfaW50ZWdyYXRlUGh5c2ljc1N0YXRlRm9ySm9iKGpvYikge1xyXG4gICAgam9iLnByZXZpb3VzU3RhdGUuY29weShqb2IuY3VycmVudFN0YXRlKTtcclxuICAgIHRoaXMuaW50ZWdyYXRvci5pbnRlZ3JhdGUoam9iLCB0aGlzLl9lbGFwc2VkVGltZSwgdGhpcy5fcGh5c2ljc1BhcmFtcy50aW1lU3RlcER1cmF0aW9uKTtcclxuICB9XHJcblxyXG4gIF9zdXBwcmVzc0xvd01vbWVudGFGb3JBbGxKb2JzKCkge1xyXG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChqb2IgPT4gX3N1cHByZXNzTG93TW9tZW50YUZvckpvYihqb2IsXHJcbiAgICAgICAgdGhpcy5fcGh5c2ljc1BhcmFtcy5sb3dNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkLFxyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpKTtcclxuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2goam9iID0+IF9zdXBwcmVzc0xvd01vbWVudGFGb3JKb2Ioam9iLFxyXG4gICAgICAgIHRoaXMuX3BoeXNpY3NQYXJhbXMubG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCxcclxuICAgICAgICB0aGlzLl9waHlzaWNzUGFyYW1zLmxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkKSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBDYWxjdWxhdGUgdGhlIGludGVybWVkaWF0ZSBwaHlzaWNzIHN0YXRlIHRvIHVzZSBmb3IgcmVuZGVyaW5nIHRoZSBjdXJyZW50IGFuaW1hdGlvbiBmcmFtZS4gVGhlXHJcbiAgICogZ2l2ZW4gcmF0aW8gc3BlY2lmaWVzIGhvdyBmYXIgdGhlIGN1cnJlbnQgcmVuZGVyIGZyYW1lIGlzIGJldHdlZW4gdGhlIHByZXZpb3VzIGFuZCBjdXJyZW50XHJcbiAgICogcGh5c2ljcyB1cGRhdGUgZnJhbWVzLlxyXG4gICAqXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpYWxSYXRpb1xyXG4gICAqIEBwcml2YXRlXHJcbiAgICovXHJcbiAgX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9yQWxsSm9icyhwYXJ0aWFsUmF0aW8pIHtcclxuICAgIHRoaXMuX2NvbGxpZGFibGVKb2JzLmZvckVhY2goX3NldFBhcnRpYWxTdGF0ZUZvclJlbmRlclRpbWVTdGVwRm9ySm9iLmJpbmQobnVsbCwgcGFydGlhbFJhdGlvKSk7XHJcbiAgICB0aGlzLl9ub25Db2xsaWRhYmxlSm9icy5mb3JFYWNoKF9zZXRQYXJ0aWFsU3RhdGVGb3JSZW5kZXJUaW1lU3RlcEZvckpvYi5iaW5kKG51bGwsIHBhcnRpYWxSYXRpbykpO1xyXG4gIH1cclxuXHJcbiAgX3JlY29yZE9sZFN0YXRlc0ZvckFsbEpvYnNGb3JEZXZNb2RlKCkge1xyXG4gICAgdGhpcy5fY29sbGlkYWJsZUpvYnMuZm9yRWFjaChfcmVjb3JkT2xkU3RhdGVzRm9ySm9iKTtcclxuICAgIHRoaXMuX25vbkNvbGxpZGFibGVKb2JzLmZvckVhY2goX3JlY29yZE9sZFN0YXRlc0ZvckpvYik7XHJcbiAgfVxyXG5cclxuICBkcmF3KCkge31cclxuXHJcbiAgLyoqXHJcbiAgICogQHJldHVybnMge1BoeXNpY3NFbmdpbmV9XHJcbiAgICovXHJcbiAgc3RhdGljIGdldCBpbnN0YW5jZSgpIHtcclxuICAgIGlmICghX3BoeXNpY3NFbmdpbmUpIHtcclxuICAgICAgdGhyb3cgbmV3IEVycm9yKCdDYW5cXCd0IGFjY2VzcyBQaHlzaWNzRW5naW5lLmluc3RhbmNlIGJlZm9yZSBpdCBoYXMgYmVlbiBpbnN0YW50aWF0ZWQuJyk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gX3BoeXNpY3NFbmdpbmU7XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtQaHlzaWNzSm9ifSBqb2JcclxuICogQHBhcmFtIHtudW1iZXJ9IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcclxuICogQHBhcmFtIHtudW1iZXJ9IGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfc3VwcHJlc3NMb3dNb21lbnRhRm9ySm9iKGpvYiwgbG93TW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCxcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBsb3dBbmd1bGFyTW9tZW50dW1TdXBwcmVzc2lvblRocmVzaG9sZCkge1xyXG4gIGNvbnN0IGN1cnJlbnRTdGF0ZSA9IGpvYi5jdXJyZW50U3RhdGU7XHJcblxyXG4gIGlmICh2ZWMzLnNxdWFyZWRMZW5ndGgoY3VycmVudFN0YXRlLm1vbWVudHVtKSA8IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpIHtcclxuICAgIHZlYzMuc2V0KGN1cnJlbnRTdGF0ZS5tb21lbnR1bSwgMCwgMCwgMCk7XHJcbiAgfVxyXG5cclxuICBpZiAodmVjMy5zcXVhcmVkTGVuZ3RoKGN1cnJlbnRTdGF0ZS5hbmd1bGFyTW9tZW50dW0pIDwgbG93QW5ndWxhck1vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGQpIHtcclxuICAgIHZlYzMuc2V0KGN1cnJlbnRTdGF0ZS5hbmd1bGFyTW9tZW50dW0sIDAsIDAsIDApO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBpbmRleFxyXG4gKiBAcGFyYW0ge0FycmF5LjxQaHlzaWNzSm9iPn0gam9ic1xyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gX3JlbW92ZUpvYkZyb21Db2xsZWN0aW9uKGpvYiwgaW5kZXgsIGpvYnMpIHtcclxuICBpZiAoaW5kZXggPj0gMCkge1xyXG4gICAgam9icy5zcGxpY2UoaW5kZXgsIDEpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICBjb25zdCBjb3VudCA9IGpvYnMubGVuZ3RoO1xyXG4gICAgZm9yIChpbmRleCA9IDA7IGluZGV4IDwgY291bnQ7IGluZGV4KyspIHtcclxuICAgICAgaWYgKGpvYnNbaW5kZXhdID09PSBqb2IpIHtcclxuICAgICAgICBqb2JzLnNwbGljZShpbmRleCwgMSk7XHJcbiAgICAgICAgYnJlYWs7XHJcbiAgICAgIH1cclxuICAgIH1cclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcGFydGlhbFJhdGlvXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfc2V0UGFydGlhbFN0YXRlRm9yUmVuZGVyVGltZVN0ZXBGb3JKb2IocGFydGlhbFJhdGlvLCBqb2IpIHtcclxuICBqb2IucmVuZGVyU3RhdGUubGVycChqb2IucHJldmlvdXNTdGF0ZSwgam9iLmN1cnJlbnRTdGF0ZSwgcGFydGlhbFJhdGlvKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7UGh5c2ljc0pvYn0gam9iXHJcbiAqIEBwcml2YXRlXHJcbiAqL1xyXG5mdW5jdGlvbiBfcmVjb3JkT2xkU3RhdGVzRm9ySm9iKGpvYikge1xyXG4gIGlmICgham9iLmV4dHJhUHJldmlvdXNTdGF0ZXMpIHtcclxuICAgIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzID0gW107XHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IDQ7IGkrKykge1xyXG4gICAgICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1tpXSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIGZvciAobGV0IGkgPSAzOyBpID4gMDsgaS0tKSB7XHJcbiAgICBqb2IuZXh0cmFQcmV2aW91c1N0YXRlc1tpXS5jb3B5KGpvYi5leHRyYVByZXZpb3VzU3RhdGVzW2kgLSAxXSk7XHJcbiAgfVxyXG4gIGpvYi5leHRyYVByZXZpb3VzU3RhdGVzWzBdLmNvcHkoam9iLnByZXZpb3VzU3RhdGUpO1xyXG59XHJcblxyXG5sZXQgX3BoeXNpY3NFbmdpbmUgPSBudWxsO1xyXG5cclxuZXhwb3J0IHtQaHlzaWNzRW5naW5lfTtcclxuIiwiaW1wb3J0IHthbmltYXRvcn0gZnJvbSAnbHNsLWFuaW1hdGV4JztcclxuaW1wb3J0IHtQaHlzaWNzRW5naW5lfSBmcm9tICcuL3BoeXNpY3MtZW5naW5lJztcclxuaW1wb3J0IHtQaHlzaWNzU3RhdGV9IGZyb20gJy4vcGh5c2ljcy1zdGF0ZSc7XHJcbmltcG9ydCB7X3V0aWx9IGZyb20gJy4uL3V0aWwnO1xyXG5cclxuLyoqXHJcbiAqIEEgUGh5c2ljc0pvYiBtYWludGFpbnMgYSBjdXJyZW50IGZvcmNlL21vbWVudHVtIHN0YXRlIGFuZCBkZWZpbmVzIGEgbWV0aG9kIGZvciBhcHBseWluZyBmb3JjZXMgYXRcclxuICogYSBnaXZlbiBwaHlzaWNzIHRpbWUgc3RlcC5cclxuICovXHJcbmNsYXNzIFBoeXNpY3NKb2Ige1xyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7QXJyYXkuPEZvcmNlQXBwbGllcj59IFtmb3JjZUFwcGxpZXJzXVxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBbc3RhdGVdXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZm9yY2VBcHBsaWVycywgc3RhdGUpIHtcclxuICAgIGZvcmNlQXBwbGllcnMgPSBmb3JjZUFwcGxpZXJzIHx8IFtdO1xyXG4gICAgc3RhdGUgPSBzdGF0ZSB8fCBuZXcgUGh5c2ljc1N0YXRlKCk7XHJcblxyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBudWxsO1xyXG4gICAgdGhpcy5jdXJyZW50U3RhdGUgPSBzdGF0ZTtcclxuICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IG51bGw7XHJcbiAgICB0aGlzLnJlbmRlclN0YXRlID0gbnVsbDtcclxuICAgIHRoaXMuX2ZvcmNlQXBwbGllcnMgPSBmb3JjZUFwcGxpZXJzO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFBhcmFtc1xyXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0UGFyYW1zXHJcbiAgICovXHJcbiAgYXBwbHlGb3JjZXMob3V0cHV0UGFyYW1zLCBpbnB1dFBhcmFtcykge1xyXG4gICAgdGhpcy5fZm9yY2VBcHBsaWVycy5mb3JFYWNoKGZvcmNlQXBwbGllciA9PiBmb3JjZUFwcGxpZXIob3V0cHV0UGFyYW1zLCBpbnB1dFBhcmFtcykpO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogQHBhcmFtIHtGb3JjZUFwcGxpZXJ9IGZvcmNlQXBwbGllclxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbaW5kZXg9MF0gVGhlIGluZGV4IHRvIGFkZCB0aGUgZ2l2ZW4gZm9yY2UgYXBwbGllciBpbiB0aGUgY3VycmVudCBsaXN0IG9mXHJcbiAgICogYXBwbGllcnMuXHJcbiAgICovXHJcbiAgYWRkRm9yY2VBcHBsaWVyKGZvcmNlQXBwbGllciwgaW5kZXggPSAwKSB7XHJcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzLnNwbGljZShpbmRleCwgMCwgZm9yY2VBcHBsaWVyKTtcclxuICB9XHJcblxyXG4gIC8qKlxyXG4gICAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVyfSBmb3JjZUFwcGxpZXJcclxuICAgKi9cclxuICByZW1vdmVGb3JjZUFwcGxpZXIoZm9yY2VBcHBsaWVyKSB7XHJcbiAgICB0aGlzLl9mb3JjZUFwcGxpZXJzLnNwbGljZSh0aGlzLl9mb3JjZUFwcGxpZXJzLmluZGV4T2YoZm9yY2VBcHBsaWVyKSwgMSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBSZWdpc3RlcnMgdGhpcyBQaHlzaWNzSm9iIGFuZCBhbGwgb2YgaXRzIGRlc2NlbmRhbnQgY2hpbGQgam9icyB3aXRoIHRoZSBwaHlzaWNzIGVuZ2luZS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7bnVtYmVyfSBbc3RhcnRUaW1lXVxyXG4gICAqL1xyXG4gIHN0YXJ0KHN0YXJ0VGltZSkge1xyXG4gICAgdGhpcy5zdGFydFRpbWUgPSBzdGFydFRpbWUgfHwgYW5pbWF0b3IuY3VycmVudFRpbWU7XHJcblxyXG4gICAgY29uc3QgcHJldmlvdXNTdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcclxuICAgIHByZXZpb3VzU3RhdGUuY29weSh0aGlzLmN1cnJlbnRTdGF0ZSk7XHJcbiAgICBjb25zdCByZW5kZXJTdGF0ZSA9IG5ldyBQaHlzaWNzU3RhdGUoKTtcclxuICAgIHJlbmRlclN0YXRlLmNvcHkodGhpcy5jdXJyZW50U3RhdGUpO1xyXG5cclxuICAgIHRoaXMucHJldmlvdXNTdGF0ZSA9IHByZXZpb3VzU3RhdGU7XHJcbiAgICB0aGlzLnJlbmRlclN0YXRlID0gcmVuZGVyU3RhdGU7XHJcblxyXG4gICAgaWYgKF91dGlsLmlzSW5EZXZNb2RlKSB7XHJcbiAgICAgIC8vIEl0IGlzIHVzZWZ1bCBmb3IgZGVidWdnaW5nIHRvIGJlIGFibGUgdG8gdHJhY2UgdGhlIHN0YXRlcyBiYWNrIHRvIHRoZWlyIGpvYnMuXHJcbiAgICAgIHRoaXMuY3VycmVudFN0YXRlLmpvYiA9IHRoaXM7XHJcbiAgICAgIHRoaXMucHJldmlvdXNTdGF0ZS5qb2IgPSB0aGlzO1xyXG4gICAgICB0aGlzLnJlbmRlclN0YXRlLmpvYiA9IHRoaXM7XHJcbiAgICB9XHJcblxyXG4gICAgUGh5c2ljc0VuZ2luZS5pbnN0YW5jZS5hZGRKb2IodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBVbnJlZ2lzdGVycyB0aGlzIFBoeXNpY3NKb2IgYW5kIGFsbCBvZiBpdHMgZGVzY2VuZGFudCBjaGlsZCBqb2JzIHdpdGggdGhlIHBoeXNpY3MgZW5naW5lLlxyXG4gICAqXHJcbiAgICogVGhyb3dzIG5vIGVycm9yIGlmIHRoZSBqb2IgaXMgbm90IHJlZ2lzdGVyZWQuXHJcbiAgICovXHJcbiAgZmluaXNoKCkge1xyXG4gICAgUGh5c2ljc0VuZ2luZS5pbnN0YW5jZS5yZW1vdmVKb2IodGhpcyk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge251bWJlcn0gW3N0YXJ0VGltZV1cclxuICAgKi9cclxuICByZXN0YXJ0KHN0YXJ0VGltZSkge1xyXG4gICAgdGhpcy5maW5pc2goKTtcclxuICAgIHRoaXMuc3RhcnQoc3RhcnRUaW1lKTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCB7UGh5c2ljc0pvYn07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge0Z1bmN0aW9ufSBGb3JjZUFwcGxpZXJcclxuICogQHByb3BlcnR5IHt2ZWMzfSBmb3JjZSBPdXRwdXQuXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gdG9ycXVlIE91dHB1dC5cclxuICogQHByb3BlcnR5IHtQaHlzaWNzU3RhdGV9IHN0YXRlIElucHV0LlxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gdCBJbnB1dC5cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGR0IElucHV0LlxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBQaHlzaWNzQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSB0aW1lU3RlcER1cmF0aW9uXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBncmF2aXR5XHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2dyYXZpdHlWZWNcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVhckRyYWdDb2VmZmljaWVudFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gYW5ndWxhckRyYWdDb2VmZmljaWVudFxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gY29lZmZpY2llbnRPZlJlc3RpdHV0aW9uXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBjb2VmZmljaWVudE9mRnJpY3Rpb25cclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvd01vbWVudHVtU3VwcHJlc3Npb25UaHJlc2hvbGRcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxvd0FuZ3VsYXJNb21lbnR1bVN1cHByZXNzaW9uVGhyZXNob2xkXHJcbiAqL1xyXG4iLCJpbXBvcnQge3JvdGF0ZVRlbnNvciwgY3JlYXRlQm94SW5lcnRpYVRlbnNvcn0gZnJvbSAnLi4vdXRpbCc7XHJcblxyXG4vKipcclxuICogVGhpcyBjbGFzcyByZXByZXNlbnRzIHRoZSBzdGF0ZSBvZiBhbiBvYmplY3QgdGhhdCBpcyBuZWVkZWQgZm9yIGEgcGh5c2ljcyBzaW11bGF0aW9uIChzdWNoIGFzXHJcbiAqIHBvc2l0aW9uLCBtb21lbnR1bSwgYW5kIG1hc3MpLlxyXG4gKi9cclxuY2xhc3MgUGh5c2ljc1N0YXRlIHtcclxuICAvKipcclxuICAgKiBAcGFyYW0ge0R5bmFtaWNzQ29uZmlnfSBbZHluYW1pY3NQYXJhbXM9e31dXHJcbiAgICovXHJcbiAgY29uc3RydWN0b3IoZHluYW1pY3NQYXJhbXMgPSB7fSkge1xyXG4gICAgY29uc3QgcG9zaXRpb24gPSBkeW5hbWljc1BhcmFtcy5wb3NpdGlvbiB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgY29uc3QgbW9tZW50dW0gPSBkeW5hbWljc1BhcmFtcy5tb21lbnR1bSB8fCB2ZWMzLmNyZWF0ZSgpO1xyXG4gICAgY29uc3Qgb3JpZW50YXRpb24gPSBkeW5hbWljc1BhcmFtcy5vcmllbnRhdGlvbiB8fCBxdWF0LmNyZWF0ZSgpO1xyXG4gICAgY29uc3QgYW5ndWxhck1vbWVudHVtID0gZHluYW1pY3NQYXJhbXMuYW5ndWxhck1vbWVudHVtIHx8IHZlYzMuY3JlYXRlKCk7XHJcbiAgICBjb25zdCBtYXNzID0gZHluYW1pY3NQYXJhbXMubWFzcyB8fCAxO1xyXG4gICAgY29uc3QgdW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9IGR5bmFtaWNzUGFyYW1zLnVucm90YXRlZEluZXJ0aWFUZW5zb3IgfHwgY3JlYXRlQm94SW5lcnRpYVRlbnNvcigxLCAxLCAxLCBtYXNzKTtcclxuXHJcbiAgICAvLyBDb25zdGFudCBmaWVsZHMuXHJcblxyXG4gICAgdGhpcy5tYXNzID0gbWFzcztcclxuICAgIHRoaXMuaW52ZXJzZU1hc3MgPSAxIC8gbWFzcztcclxuICAgIHRoaXMudW5yb3RhdGVkSW5lcnRpYVRlbnNvciA9IHVucm90YXRlZEluZXJ0aWFUZW5zb3I7XHJcblxyXG4gICAgLy8gSW5kZXBlbmRlbnQgZmllbGRzLlxyXG5cclxuICAgIHRoaXMucG9zaXRpb24gPSBwb3NpdGlvbjtcclxuICAgIHRoaXMubW9tZW50dW0gPSBtb21lbnR1bTtcclxuICAgIHRoaXMub3JpZW50YXRpb24gPSBvcmllbnRhdGlvbjtcclxuICAgIHRoaXMuYW5ndWxhck1vbWVudHVtID0gYW5ndWxhck1vbWVudHVtO1xyXG5cclxuICAgIC8vIERlcGVuZGVudCBmaWVsZHMuXHJcblxyXG4gICAgLy8gTGluZWFyIHZlbG9jaXR5LlxyXG4gICAgdGhpcy52ZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAvLyBRdWF0ZXJuaW9uLWJhc2VkIHJlcHJlc2VudGF0aW9uIG9mIHRoZSByYXRlIG9mIGNoYW5nZSBpbiBvcmllbnRhdGlvbi5cclxuICAgIHRoaXMuc3BpbiA9IHF1YXQuY3JlYXRlKCk7XHJcbiAgICAvLyBWZWN0b3ItYmFzZWQgcmVwcmVzZW50YXRpb24gb2YgdGhlIGFuZ3VsYXIgdmVsb2NpdHkuXHJcbiAgICB0aGlzLmFuZ3VsYXJWZWxvY2l0eSA9IHZlYzMuY3JlYXRlKCk7XHJcbiAgICAvLyBUaGUgaW52ZXJzZSBpbmVydGlhIHRlbnNvciByb3RhdGVkIHRvIHRoZSB3b3JsZCBjb29yZGluYXRlIGZyYW1lLlxyXG4gICAgdGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XHJcblxyXG4gICAgdGhpcy51cGRhdGVEZXBlbmRlbnRGaWVsZHMoKTtcclxuICB9XHJcblxyXG4gIHVwZGF0ZURlcGVuZGVudEZpZWxkcygpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxyXG4gICAgLy8gVXBkYXRlIGxpbmVhciB2ZWxvY2l0eS5cclxuICAgIHZlYzMuc2NhbGUodGhpcy52ZWxvY2l0eSwgdGhpcy5tb21lbnR1bSwgdGhpcy5pbnZlcnNlTWFzcyk7XHJcblxyXG4gICAgLy8gVXBkYXRlIGFuZ3VsYXIgdmVsb2NpdHkuXHJcbiAgICBxdWF0Lm5vcm1hbGl6ZSh0aGlzLm9yaWVudGF0aW9uLCB0aGlzLm9yaWVudGF0aW9uKTtcclxuICAgIHJvdGF0ZVRlbnNvcih0aGlzLmludmVyc2VJbmVydGlhVGVuc29yLCB0aGlzLnVucm90YXRlZEluZXJ0aWFUZW5zb3IsIHRoaXMub3JpZW50YXRpb24pO1xyXG4gICAgbWF0My5pbnZlcnQodGhpcy5pbnZlcnNlSW5lcnRpYVRlbnNvciwgdGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yKTtcclxuICAgIHZlYzMudHJhbnNmb3JtTWF0Myh0aGlzLmFuZ3VsYXJWZWxvY2l0eSwgdGhpcy5hbmd1bGFyTW9tZW50dW0sIHRoaXMuaW52ZXJzZUluZXJ0aWFUZW5zb3IpO1xyXG4gICAgcXVhdC5zZXQodGhpcy5zcGluLCB0aGlzLmFuZ3VsYXJWZWxvY2l0eVswXSwgdGhpcy5hbmd1bGFyVmVsb2NpdHlbMV0sXHJcbiAgICAgICAgdGhpcy5hbmd1bGFyVmVsb2NpdHlbMl0sIDApO1xyXG4gICAgcXVhdC5zY2FsZSh0aGlzLnNwaW4sIHRoaXMuc3BpbiwgMC41KTtcclxuICAgIHF1YXQubXVsdGlwbHkodGhpcy5zcGluLCB0aGlzLnNwaW4sIHRoaXMub3JpZW50YXRpb24pO1xyXG4gIH1cclxuXHJcbiAgLyoqXHJcbiAgICogUGVyZm9ybSBhIGRlZXAgY29weS5cclxuICAgKlxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBvdGhlclxyXG4gICAqL1xyXG4gIGNvcHkob3RoZXIpIHtcclxuICAgIHRoaXMubWFzcyA9IG90aGVyLm1hc3M7XHJcbiAgICB0aGlzLmludmVyc2VNYXNzID0gb3RoZXIuaW52ZXJzZU1hc3M7XHJcbiAgICBtYXQzLmNvcHkodGhpcy51bnJvdGF0ZWRJbmVydGlhVGVuc29yLCBvdGhlci51bnJvdGF0ZWRJbmVydGlhVGVuc29yKTtcclxuICAgIG1hdDMuY29weSh0aGlzLmludmVyc2VJbmVydGlhVGVuc29yLCBvdGhlci5pbnZlcnNlSW5lcnRpYVRlbnNvcik7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy5wb3NpdGlvbiwgb3RoZXIucG9zaXRpb24pO1xyXG4gICAgdmVjMy5jb3B5KHRoaXMubW9tZW50dW0sIG90aGVyLm1vbWVudHVtKTtcclxuICAgIHF1YXQuY29weSh0aGlzLm9yaWVudGF0aW9uLCBvdGhlci5vcmllbnRhdGlvbik7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy5hbmd1bGFyTW9tZW50dW0sIG90aGVyLmFuZ3VsYXJNb21lbnR1bSk7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy52ZWxvY2l0eSwgb3RoZXIudmVsb2NpdHkpO1xyXG4gICAgcXVhdC5jb3B5KHRoaXMuc3Bpbiwgb3RoZXIuc3Bpbik7XHJcbiAgICB2ZWMzLmNvcHkodGhpcy5hbmd1bGFyVmVsb2NpdHksIG90aGVyLmFuZ3VsYXJWZWxvY2l0eSk7XHJcbiAgfVxyXG5cclxuICAvKipcclxuICAgKiBAcGFyYW0ge1BoeXNpY3NTdGF0ZX0gYVxyXG4gICAqIEBwYXJhbSB7UGh5c2ljc1N0YXRlfSBiXHJcbiAgICogQHBhcmFtIHtudW1iZXJ9IHBhcnRpYWxSYXRpb1xyXG4gICAqL1xyXG4gIGxlcnAoYSwgYiwgcGFydGlhbFJhdGlvKSB7XHJcbiAgICB2ZWMzLmxlcnAodGhpcy5wb3NpdGlvbiwgYS5wb3NpdGlvbiwgYi5wb3NpdGlvbiwgcGFydGlhbFJhdGlvKTtcclxuICAgIHZlYzMubGVycCh0aGlzLm1vbWVudHVtLCBhLm1vbWVudHVtLCBiLm1vbWVudHVtLCBwYXJ0aWFsUmF0aW8pO1xyXG4gICAgcXVhdC5zbGVycCh0aGlzLm9yaWVudGF0aW9uLCBhLm9yaWVudGF0aW9uLCBiLm9yaWVudGF0aW9uLCBwYXJ0aWFsUmF0aW8pO1xyXG4gICAgcXVhdC5ub3JtYWxpemUodGhpcy5vcmllbnRhdGlvbiwgdGhpcy5vcmllbnRhdGlvbik7XHJcbiAgICB2ZWMzLmxlcnAodGhpcy5hbmd1bGFyTW9tZW50dW0sIGEuYW5ndWxhck1vbWVudHVtLCBiLmFuZ3VsYXJNb21lbnR1bSwgcGFydGlhbFJhdGlvKTtcclxuICAgIHRoaXMudXBkYXRlRGVwZW5kZW50RmllbGRzKCk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1BoeXNpY3NTdGF0ZX07XHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gRHluYW1pY3NDb25maWdcclxuICogQHByb3BlcnR5IHt2ZWMzfSBbcG9zaXRpb25dXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gW21vbWVudHVtXVxyXG4gKiBAcHJvcGVydHkge3F1YXR9IFtvcmllbnRhdGlvbl1cclxuICogQHByb3BlcnR5IHt2ZWMzfSBbYW5ndWxhck1vbWVudHVtXVxyXG4gKiBAcHJvcGVydHkge251bWJlcn0gW21hc3NdXHJcbiAqIEBwcm9wZXJ0eSB7bWF0M30gW3Vucm90YXRlZEluZXJ0aWFUZW5zb3JdXHJcbiAqL1xyXG4iLCJleHBvcnQgKiBmcm9tICcuL3NyYy9mb3JjZS11dGlscyc7XHJcbmV4cG9ydCAqIGZyb20gJy4vc3JjL2dlb21ldHJ5JztcclxuZXhwb3J0ICogZnJvbSAnLi9zcmMvaW5lcnRpYS10ZW5zb3ItdXRpbHMnO1xyXG5leHBvcnQgKiBmcm9tICcuL3NyYy91dGlsJztcclxuIiwiLyoqXHJcbiAqIFRoaXMgbW9kdWxlIGRlZmluZXMgYSBjb2xsZWN0aW9uIG9mIHN0YXRpYyBnZW5lcmFsIHV0aWxpdHkgZnVuY3Rpb25zIGZvciBjYWxjdWxhdGluZyBmb3JjZXMuXHJcbiAqL1xyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7R3Jhdml0eUFwcGxpZXJDb25maWd9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBseUdyYXZpdHkoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XHJcbiAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgY29uZmlnLl9ncmF2aXR5VmVjLCBpbnB1dC5zdGF0ZS5tYXNzKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7TGluZWFyRHJhZ0FwcGxpZXJDb25maWd9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBseUxpbmVhckRyYWcoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XHJcbiAgY29uc3QgZHJhZ01hZ25pdHVkZSA9IC12ZWMzLnNxdWFyZWRMZW5ndGgoaW5wdXQuc3RhdGUudmVsb2NpdHkpICogY29uZmlnLmxpbmVhckRyYWdDb2VmZmljaWVudDtcclxuICB2ZWMzLm5vcm1hbGl6ZShfdmVjMywgaW5wdXQuc3RhdGUudmVsb2NpdHkpO1xyXG4gIHZlYzMuc2NhbGVBbmRBZGQob3V0cHV0LmZvcmNlLCBvdXRwdXQuZm9yY2UsIF92ZWMzLCBkcmFnTWFnbml0dWRlKTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7QW5ndWxhckRyYWdBcHBsaWVyQ29uZmlnfSBjb25maWdcclxuICogQHBhcmFtIHtGb3JjZUFwcGxpZXJPdXRwdXR9IG91dHB1dFxyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllcklucHV0fSBpbnB1dFxyXG4gKi9cclxuZnVuY3Rpb24gYXBwbHlBbmd1bGFyRHJhZyhjb25maWcsIG91dHB1dCwgaW5wdXQpIHtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC50b3JxdWUsIG91dHB1dC50b3JxdWUsIGlucHV0LnN0YXRlLmFuZ3VsYXJWZWxvY2l0eSxcclxuICAgICAgY29uZmlnLmFuZ3VsYXJEcmFnQ29lZmZpY2llbnQpO1xyXG59XHJcblxyXG4vKipcclxuICogQXBwbGllcyBhIHNpbXBsZSBsaW5lYXIgc3ByaW5nIGZvcmNlICh1c2luZyBIb29rZSdzIGxhdykuXHJcbiAqXHJcbiAqIGZvcmNlID0gZGlzcGxhY2VtZW50ICogY29lZmZpY2llbnRcclxuICpcclxuICogQHBhcmFtIHtMaW5lYXJTcHJpbmdGb3JjZUFwcGxpZXJDb25maWd9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBseUxpbmVhclNwcmluZ0ZvcmNlKGNvbmZpZywgb3V0cHV0LCBpbnB1dCkge1xyXG4gIHZlYzMuc3VidHJhY3QoX3ZlYzMsIGNvbmZpZy5nZXRJbnRlbmRlZFBvc2l0aW9uKCksIGlucHV0LnN0YXRlLnBvc2l0aW9uKTtcclxuICB2ZWMzLnNjYWxlQW5kQWRkKG91dHB1dC5mb3JjZSwgb3V0cHV0LmZvcmNlLCBfdmVjMywgY29uZmlnLnNwcmluZ0NvZWZmaWNpZW50KTtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7U3ByaW5nRGFtcGluZ0FwcGxpZXJDb25maWd9IGNvbmZpZ1xyXG4gKiBAcGFyYW0ge0ZvcmNlQXBwbGllck91dHB1dH0gb3V0cHV0XHJcbiAqIEBwYXJhbSB7Rm9yY2VBcHBsaWVySW5wdXR9IGlucHV0XHJcbiAqL1xyXG5mdW5jdGlvbiBhcHBseVNwcmluZ0RhbXBpbmcoY29uZmlnLCBvdXRwdXQsIGlucHV0KSB7XHJcbiAgdmVjMy5zY2FsZShfdmVjMywgaW5wdXQuc3RhdGUudmVsb2NpdHksIC1jb25maWcuZGFtcGluZ0NvZWZmaWNpZW50KTtcclxuICB2ZWMzLmFkZChvdXRwdXQuZm9yY2UsIG91dHB1dC5mb3JjZSwgX3ZlYzMpO1xyXG59XHJcblxyXG5jb25zdCBfdmVjMyA9IHZlYzMuY3JlYXRlKCk7XHJcblxyXG5leHBvcnQge1xyXG4gIGFwcGx5QW5ndWxhckRyYWcsXHJcbiAgYXBwbHlHcmF2aXR5LFxyXG4gIGFwcGx5TGluZWFyRHJhZyxcclxuICBhcHBseUxpbmVhclNwcmluZ0ZvcmNlLFxyXG4gIGFwcGx5U3ByaW5nRGFtcGluZyxcclxufVxyXG5cclxuLyoqXHJcbiAqIEB0eXBlZGVmIHtPYmplY3R9IEdyYXZpdHlBcHBsaWVyQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7dmVjM30gX2dyYXZpdHlWZWNcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTGluZWFyRHJhZ0FwcGxpZXJDb25maWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGxpbmVhckRyYWdDb2VmZmljaWVudFxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBBbmd1bGFyRHJhZ0FwcGxpZXJDb25maWdcclxuICogQHByb3BlcnR5IHtudW1iZXJ9IGFuZ3VsYXJEcmFnQ29lZmZpY2llbnRcclxuICovXHJcblxyXG4vKipcclxuICogQHR5cGVkZWYge09iamVjdH0gTGluZWFyU3ByaW5nRm9yY2VBcHBsaWVyQ29uZmlnXHJcbiAqIEBwcm9wZXJ0eSB7bnVtYmVyfSBzcHJpbmdDb2VmZmljaWVudFxyXG4gKiBAcHJvcGVydHkge0Z1bmN0aW9uLjx2ZWMzPn0gZ2V0SW50ZW5kZWRQb3NpdGlvblxyXG4gKi9cclxuXHJcbi8qKlxyXG4gKiBAdHlwZWRlZiB7T2JqZWN0fSBTcHJpbmdEYW1waW5nQXBwbGllckNvbmZpZ1xyXG4gKiBAcHJvcGVydHkge251bWJlcn0gZGFtcGluZ0NvZWZmaWNpZW50XHJcbiAqL1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlb21ldHJ5IHV0aWxpdHkgZnVuY3Rpb25zLlxyXG4gKi9cclxuXHJcbmNvbnN0IEVQU0lMT04gPSAwLjAwMDAwMDE7XHJcbmNvbnN0IEhBTEZfUEkgPSBNYXRoLlBJIC8gMjtcclxuY29uc3QgVFdPX1BJID0gTWF0aC5QSSAqIDI7XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIG1pbmltdW0gc3F1YXJlZCBkaXN0YW5jZSBiZXR3ZWVuIHR3byBsaW5lIHNlZ21lbnRzLlxyXG4gKlxyXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QVxyXG4gKiBAcGFyYW0ge0xpbmVTZWdtZW50fSBzZWdtZW50QlxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFNxdWFyZWREaXN0YW5jZUJldHdlZW5TZWdtZW50cyhzZWdtZW50QSwgc2VnbWVudEIpIHtcclxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50KF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNCLFxyXG4gICAgICBzZWdtZW50QSwgc2VnbWVudEIpO1xyXG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQik7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyB0aGUgbWluaW11bSBzcXVhcmVkIGRpc3RhbmNlIGJldHdlZW4gYSBsaW5lIHNlZ21lbnQgYW5kIGEgcG9pbnQuXHJcbiAqXHJcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcclxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxyXG4gKiBAcmV0dXJucyB7bnVtYmVyfVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludChzZWdtZW50LCBwb2ludCkge1xyXG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KF9zZWdtZW50RGlzdGFuY2VfdG1wVmVjQSwgc2VnbWVudCwgcG9pbnQpO1xyXG4gIHJldHVybiB2ZWMzLnNxdWFyZWREaXN0YW5jZShfc2VnbWVudERpc3RhbmNlX3RtcFZlY0EsIHBvaW50KTtcclxufVxyXG5cclxuY29uc3QgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNBID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgX3NlZ21lbnREaXN0YW5jZV90bXBWZWNCID0gdmVjMy5jcmVhdGUoKTtcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IG91dHB1dFBvaW50IE91dHB1dCBwYXJhbWV0ZXIuXHJcbiAqIEBwYXJhbSB7QWFiYn0gYWFiYlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHRhcmdldFBvaW50XHJcbiAqL1xyXG5mdW5jdGlvbiBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50KG91dHB1dFBvaW50LCBhYWJiLCB0YXJnZXRQb2ludCkge1xyXG4gIG91dHB1dFBvaW50WzBdID0gYWFiYi5taW5YID4gdGFyZ2V0UG9pbnRbMF1cclxuICAgICAgPyBhYWJiLm1pblhcclxuICAgICAgOiBhYWJiLm1heFggPCB0YXJnZXRQb2ludFswXVxyXG4gICAgICAgICAgPyBhYWJiLm1heFhcclxuICAgICAgICAgIDogdGFyZ2V0UG9pbnRbMF07XHJcbiAgb3V0cHV0UG9pbnRbMV0gPSBhYWJiLm1pblkgPiB0YXJnZXRQb2ludFsxXVxyXG4gICAgICA/IGFhYmIubWluWVxyXG4gICAgICA6IGFhYmIubWF4WSA8IHRhcmdldFBvaW50WzFdXHJcbiAgICAgICAgICA/IGFhYmIubWF4WVxyXG4gICAgICAgICAgOiB0YXJnZXRQb2ludFsxXTtcclxuICBvdXRwdXRQb2ludFsyXSA9IGFhYmIubWluWiA+IHRhcmdldFBvaW50WzJdXHJcbiAgICAgID8gYWFiYi5taW5aXHJcbiAgICAgIDogYWFiYi5tYXhaIDwgdGFyZ2V0UG9pbnRbMl1cclxuICAgICAgICAgID8gYWFiYi5tYXhaXHJcbiAgICAgICAgICA6IHRhcmdldFBvaW50WzJdO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBvdXRwdXRQb2ludCBPdXRwdXQgcGFyYW1ldGVyLlxyXG4gKiBAcGFyYW0ge0FhYmJ9IGFhYmJcclxuICogQHBhcmFtIHt2ZWMzfSB0YXJnZXRQb2ludFxyXG4gKi9cclxuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludEZyb21BYWJiU3VyZmFjZVRvUG9pbnQob3V0cHV0UG9pbnQsIGFhYmIsIHRhcmdldFBvaW50KSB7XHJcbiAgZmluZENsb3Nlc3RQb2ludEZyb21BYWJiVG9Qb2ludChvdXRwdXRQb2ludCwgYWFiYiwgdGFyZ2V0UG9pbnQpO1xyXG5cclxuICAvLyBJZiB0aGUgY2FsY3VsYXRlZCBwb2ludCBsaWVzIHdpdGhpbiB0aGUgQUFCQiwgdGhlbiB3ZSBuZWVkIHRvIGFkanVzdCBvbmUgY29vcmRpbmF0ZSB0byBsaWVcclxuICAvLyBhbG9uZyB0aGUgZWRnZSBvZiB0aGUgQUFCQi5cclxuICBpZiAoYWFiYlZzUG9pbnQoYWFiYiwgb3V0cHV0UG9pbnQpKSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIGNsb3Nlc3QgdmVydGV4LlxyXG4gICAgX3RtcFZlYzFbMF0gPSB0YXJnZXRQb2ludFswXSAtIGFhYmIubWluWCA8IGFhYmIubWF4WCAtIHRhcmdldFBvaW50WzBdXHJcbiAgICAgICAgPyBhYWJiLm1pblhcclxuICAgICAgICA6IGFhYmIubWF4WDtcclxuICAgIF90bXBWZWMxWzFdID0gdGFyZ2V0UG9pbnRbMV0gLSBhYWJiLm1pblkgPCBhYWJiLm1heFkgLSB0YXJnZXRQb2ludFsxXVxyXG4gICAgICAgID8gYWFiYi5taW5ZXHJcbiAgICAgICAgOiBhYWJiLm1heFk7XHJcbiAgICBfdG1wVmVjMVsyXSA9IHRhcmdldFBvaW50WzJdIC0gYWFiYi5taW5aIDwgYWFiYi5tYXhaIC0gdGFyZ2V0UG9pbnRbMl1cclxuICAgICAgICA/IGFhYmIubWluWlxyXG4gICAgICAgIDogYWFiYi5tYXhaO1xyXG5cclxuICAgIC8vIENhbGN1bGF0ZSB0aGUgZGlzdGFuY2UgdG8gdGhlIHZlcnRleCBhbG9uZyBlYWNoIGRpbWVuc2lvbi5cclxuICAgIF90bXBWZWMyWzBdID0gX3RtcFZlYzFbMF0gLSBvdXRwdXRQb2ludFswXTtcclxuICAgIF90bXBWZWMyWzBdID0gX3RtcFZlYzJbMF0gPCAwID8gLV90bXBWZWMyWzBdIDogX3RtcFZlYzJbMF07XHJcbiAgICBfdG1wVmVjMlsxXSA9IF90bXBWZWMxWzFdIC0gb3V0cHV0UG9pbnRbMV07XHJcbiAgICBfdG1wVmVjMlsxXSA9IF90bXBWZWMyWzFdIDwgMSA/IC1fdG1wVmVjMlsxXSA6IF90bXBWZWMyWzFdO1xyXG4gICAgX3RtcFZlYzJbMl0gPSBfdG1wVmVjMVsyXSAtIG91dHB1dFBvaW50WzJdO1xyXG4gICAgX3RtcFZlYzJbMl0gPSBfdG1wVmVjMlsyXSA8IDIgPyAtX3RtcFZlYzJbMl0gOiBfdG1wVmVjMlsyXTtcclxuXHJcbiAgICAvLyBEZXRlcm1pbmUgYWxvbmcgd2hpY2ggZGltZW5zaW9uIHRoZSBwb2ludCBpcyBjbG9zZXN0IHRvIHRoZSBBQUJCLlxyXG4gICAgY29uc3QgaW5kZXggPSBfdG1wVmVjMlswXSA8IF90bXBWZWMyWzFdXHJcbiAgICAgICAgPyAoX3RtcFZlYzJbMF0gPCBfdG1wVmVjMlsyXVxyXG4gICAgICAgICAgICA/IDBcclxuICAgICAgICAgICAgOiAyKVxyXG4gICAgICAgIDogKF90bXBWZWMyWzFdIDwgX3RtcFZlYzJbMl1cclxuICAgICAgICAgICAgPyAxXHJcbiAgICAgICAgICAgIDogMik7XHJcblxyXG4gICAgb3V0cHV0UG9pbnRbaW5kZXhdID0gX3RtcFZlYzFbaW5kZXhdO1xyXG4gIH1cclxufVxyXG5cclxuLyoqXHJcbiAqIEZpbmRzIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gYmV0d2VlbiBhIGxpbmUgc2VnbWVudCBhbmQgYSBjb3BsYW5hciBxdWFkcmlsYXRlcmFsLlxyXG4gKlxyXG4gKiBUaGlzIGFzc3VtZXMgdGhlIHJlZ2lvbiBpcyBub3QgZGVnZW5lcmF0ZSAoaGFzIG5vbi16ZXJvIHNpZGUgbGVuZ3RocykuXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pIE91dHB1dCBwYXJhbS4gTnVsbCBpZiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXHJcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcclxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDFcclxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDJcclxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDNcclxuICogQHBhcmFtIHt2ZWMzfSBwbGFuZVZlcnRleDRcclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kUGxhbmVSZWdpb24ocG9pLCBzZWdtZW50LCBwbGFuZVZlcnRleDEsIHBsYW5lVmVydGV4MiwgcGxhbmVWZXJ0ZXgzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbGFuZVZlcnRleDQpIHtcclxuICByZXR1cm4gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUocG9pLCBzZWdtZW50LCBwbGFuZVZlcnRleDEsIHBsYW5lVmVydGV4MiwgcGxhbmVWZXJ0ZXgzKSB8fFxyXG4gICAgICBmaW5kUG9pQmV0d2VlblNlZ21lbnRBbmRUcmlhbmdsZShwb2ksIHNlZ21lbnQsIHBsYW5lVmVydGV4MSwgcGxhbmVWZXJ0ZXgzLCBwbGFuZVZlcnRleDQpO1xyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIHBvaW50IG9mIGludGVyc2VjdGlvbiBiZXR3ZWVuIGEgbGluZSBzZWdtZW50IGFuZCBhIHRyaWFuZ2xlLlxyXG4gKlxyXG4gKiBUaGlzIGFzc3VtZXMgdGhlIHRyaWFuZ2xlIGlzIG5vdCBkZWdlbmVyYXRlIChoYXMgbm9uLXplcm8gc2lkZSBsZW5ndGhzKS5cclxuICpcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIERhbiBTdW5kYXkncyBhbGdvcml0aG1zIGF0IGh0dHA6Ly9nZW9tYWxnb3JpdGhtcy5jb20vYTA2LV9pbnRlcnNlY3QtMi5odG1sLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAwMSBzb2Z0U3VyZmVyLCAyMDEyIERhbiBTdW5kYXlcclxuICogVGhpcyBjb2RlIG1heSBiZSBmcmVlbHkgdXNlZCBhbmQgbW9kaWZpZWQgZm9yIGFueSBwdXJwb3NlXHJcbiAqIHByb3ZpZGluZyB0aGF0IHRoaXMgY29weXJpZ2h0IG5vdGljZSBpcyBpbmNsdWRlZCB3aXRoIGl0LlxyXG4gKiBTb2Z0U3VyZmVyIG1ha2VzIG5vIHdhcnJhbnR5IGZvciB0aGlzIGNvZGUsIGFuZCBjYW5ub3QgYmUgaGVsZFxyXG4gKiBsaWFibGUgZm9yIGFueSByZWFsIG9yIGltYWdpbmVkIGRhbWFnZSByZXN1bHRpbmcgZnJvbSBpdHMgdXNlLlxyXG4gKiBVc2VycyBvZiB0aGlzIGNvZGUgbXVzdCB2ZXJpZnkgY29ycmVjdG5lc3MgZm9yIHRoZWlyIGFwcGxpY2F0aW9uLlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pIE91dHB1dCBwYXJhbS4gTnVsbCBpZiB0aGVyZSBpcyBubyBpbnRlcnNlY3Rpb24uXHJcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcclxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDFcclxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDJcclxuICogQHBhcmFtIHt2ZWMzfSB0cmlhbmdsZVZlcnRleDNcclxuICogQHJldHVybnMge2Jvb2xlYW59IFRydWUgaWYgdGhlcmUgaXMgYW4gaW50ZXJzZWN0aW9uLlxyXG4gKi9cclxuZnVuY3Rpb24gZmluZFBvaUJldHdlZW5TZWdtZW50QW5kVHJpYW5nbGUocG9pLCBzZWdtZW50LCB0cmlhbmdsZVZlcnRleDEsIHRyaWFuZ2xlVmVydGV4MixcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdHJpYW5nbGVWZXJ0ZXgzKSB7XHJcbiAgLy9cclxuICAvLyBGaW5kIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gYmV0d2VlbiB0aGUgc2VnbWVudCBhbmQgdGhlIHRyaWFuZ2xlJ3MgcGxhbmUuXHJcbiAgLy9cclxuXHJcbiAgLy8gRmlyc3QgdHJpYW5nbGUgZWRnZS5cclxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCB0cmlhbmdsZVZlcnRleDIsIHRyaWFuZ2xlVmVydGV4MSk7XHJcbiAgLy8gU2Vjb25kIHRyaWFuZ2xlIGVkZ2UuXHJcbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjMiwgdHJpYW5nbGVWZXJ0ZXgzLCB0cmlhbmdsZVZlcnRleDEpO1xyXG4gIC8vIFRyaWFuZ2xlIG5vcm1hbC5cclxuICB2ZWMzLmNyb3NzKF90bXBWZWMzLCBfdG1wVmVjMSwgX3RtcFZlYzIpO1xyXG4gIC8vIFRyaWFuZ2xlIHRvIHNlZ21lbnQuXHJcbiAgdmVjMy5zdWJ0cmFjdChfdG1wVmVjNCwgc2VnbWVudC5zdGFydCwgdHJpYW5nbGVWZXJ0ZXgxKTtcclxuXHJcbiAgY29uc3Qgbm9ybWFsVG9TZWdtZW50UHJvaiA9IHZlYzMuZG90KF90bXBWZWMzLCBzZWdtZW50LmRpcik7XHJcblxyXG4gIGlmIChub3JtYWxUb1NlZ21lbnRQcm9qIDwgRVBTSUxPTiAmJiBub3JtYWxUb1NlZ21lbnRQcm9qID4gLUVQU0lMT04pIHtcclxuICAgIC8vIFRoZSBsaW5lIHNlZ21lbnQgaXMgcGFyYWxsZWwgdG8gdGhlIHRyaWFuZ2xlLlxyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuXHJcbiAgY29uc3Qgbm9ybWFsVG9EaWZmUHJvaiA9IC12ZWMzLmRvdChfdG1wVmVjMywgX3RtcFZlYzQpO1xyXG4gIGNvbnN0IHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPSBub3JtYWxUb0RpZmZQcm9qIC8gbm9ybWFsVG9TZWdtZW50UHJvajtcclxuXHJcbiAgaWYgKHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPCAwIHx8IHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UgPiAxKSB7XHJcbiAgICAvLyBUaGUgbGluZSBzZWdtZW50IGVuZHMgYmVmb3JlIGludGVyc2VjdGluZyB0aGUgcGxhbmUuXHJcbiAgICByZXR1cm4gZmFsc2U7XHJcbiAgfVxyXG5cclxuICB2ZWMzLnNjYWxlQW5kQWRkKHBvaSwgc2VnbWVudC5zdGFydCwgc2VnbWVudC5kaXIsIHNlZ21lbnROb3JtYWxpemVkRGlzdGFuY2UpO1xyXG5cclxuICAvL1xyXG4gIC8vIERldGVybWluZSB3aGV0aGVyIHRoZSBwb2ludCBvZiBpbnRlcnNlY3Rpb24gbGllcyB3aXRoaW4gdGhlIHRyaWFuZ2xlLlxyXG4gIC8vXHJcblxyXG4gIGNvbnN0IGVkZ2UxRG90RWRnZTEgPSB2ZWMzLmRvdChfdG1wVmVjMSwgX3RtcFZlYzEpO1xyXG4gIGNvbnN0IGVkZ2UxRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMSwgX3RtcFZlYzIpO1xyXG4gIGNvbnN0IGVkZ2UyRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMiwgX3RtcFZlYzIpO1xyXG4gIC8vIFRyaWFuZ2xlIHRvIHBvaW50IG9mIGludGVyc2VjdGlvbi5cclxuICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMzLCBwb2ksIHRyaWFuZ2xlVmVydGV4MSk7XHJcbiAgY29uc3QgZGlmZkRvdEVkZ2UxID0gdmVjMy5kb3QoX3RtcFZlYzMsIF90bXBWZWMxKTtcclxuICBjb25zdCBkaWZmRG90RWRnZTIgPSB2ZWMzLmRvdChfdG1wVmVjMywgX3RtcFZlYzIpO1xyXG4gIGNvbnN0IGRlbm9taW5hdG9yID0gZWRnZTFEb3RFZGdlMiAqIGVkZ2UxRG90RWRnZTIgLSBlZGdlMURvdEVkZ2UxICogZWRnZTJEb3RFZGdlMjtcclxuXHJcbiAgLy8gQ2hlY2sgdGhlIHRyaWFuZ2xlJ3MgcGFyYW1ldHJpYyBjb29yZGluYXRlcy5cclxuICBjb25zdCBzID0gKGVkZ2UxRG90RWRnZTIgKiBkaWZmRG90RWRnZTIgLSBlZGdlMkRvdEVkZ2UyICogZGlmZkRvdEVkZ2UxKSAvIGRlbm9taW5hdG9yO1xyXG4gIGlmIChzIDwgMCB8fCBzID4gMSkge1xyXG4gICAgcmV0dXJuIGZhbHNlO1xyXG4gIH1cclxuICBjb25zdCB0ID0gKGVkZ2UxRG90RWRnZTIgKiBkaWZmRG90RWRnZTEgLSBlZGdlMURvdEVkZ2UxICogZGlmZkRvdEVkZ2UyKSAvIGRlbm9taW5hdG9yO1xyXG4gIGlmICh0IDwgMCB8fCBzICsgdCA+IDEpIHtcclxuICAgIHJldHVybiBmYWxzZTtcclxuICB9XHJcblxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vKipcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iLzEwOTNlMzlkOTFkZWY3ZmY2OTA1ZmI3NDg5ODkzMTkwZDdkODEzNTMvc3JjL0dlb21ldHJ5L09CQi5jcHAuXHJcbiAqXHJcbiAqIENvcHlyaWdodCAyMDExIEp1a2thIEp5bMOkbmtpXHJcbiAqXHJcbiAqIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSBcIkxpY2Vuc2VcIik7XHJcbiAqIHlvdSBtYXkgbm90IHVzZSB0aGlzIGZpbGUgZXhjZXB0IGluIGNvbXBsaWFuY2Ugd2l0aCB0aGUgTGljZW5zZS5cclxuICogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0XHJcbiAqXHJcbiAqIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMFxyXG4gKlxyXG4gKiBVbmxlc3MgcmVxdWlyZWQgYnkgYXBwbGljYWJsZSBsYXcgb3IgYWdyZWVkIHRvIGluIHdyaXRpbmcsIHNvZnR3YXJlXHJcbiAqIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuIFwiQVMgSVNcIiBCQVNJUyxcclxuICogV0lUSE9VVCBXQVJSQU5USUVTIE9SIENPTkRJVElPTlMgT0YgQU5ZIEtJTkQsIGVpdGhlciBleHByZXNzIG9yIGltcGxpZWQuXHJcbiAqIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmRcclxuICogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICpcclxuICogQHBhcmFtIHt2ZWMzfSBvdXRwdXRQb2ludCBPdXRwdXQgcGFyYW1ldGVyLlxyXG4gKiBAcGFyYW0ge09iYn0gb2JiXHJcbiAqIEBwYXJhbSB7dmVjM30gdGFyZ2V0UG9pbnRcclxuICovXHJcbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludChvdXRwdXRQb2ludCwgb2JiLCB0YXJnZXRQb2ludCkge1xyXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHRhcmdldFBvaW50LCBvYmIuY2VudGVyT2ZWb2x1bWUpO1xyXG4gIHZlYzMuY29weShvdXRwdXRQb2ludCwgb2JiLmNlbnRlck9mVm9sdW1lKTtcclxuICBmb3IgKGxldCBpID0gMDsgaSA8IDM7IGkrKykge1xyXG4gICAgLy8gQ29tcHV0ZSB0aGUgZGlzcGxhY2VtZW50IGFsb25nIHRoaXMgYXhpcy5cclxuICAgIGxldCBwcm9qZWN0aW9uID0gdmVjMy5kb3Qob2JiLmF4ZXNbaV0sIF90bXBWZWMxKTtcclxuICAgIHByb2plY3Rpb24gPSBwcm9qZWN0aW9uID4gb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA/IG9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gOlxyXG4gICAgICAgIChwcm9qZWN0aW9uIDwgLW9iYi5oYWxmU2lkZUxlbmd0aHNbaV0gPyAtb2JiLmhhbGZTaWRlTGVuZ3Roc1tpXSA6IHByb2plY3Rpb24pO1xyXG4gICAgdmVjMy5zY2FsZUFuZEFkZChvdXRwdXRQb2ludCwgb3V0cHV0UG9pbnQsIG9iYi5heGVzW2ldLCBwcm9qZWN0aW9uKTtcclxuICB9XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBGaW5kcyB0aGUgY2xvc2VzdCBwb3NpdGlvbiBvbiBvbmUgbGluZSBzZWdtZW50IHRvIHRoZSBvdGhlciBsaW5lIHNlZ21lbnQsIGFuZCB2aWNlIHZlcnNhLlxyXG4gKlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqIE9yaWdpbmFsbHkgYmFzZWQgb24gSnVra2EgSnlsw6Rua2kncyBhbGdvcml0aG0gYXRcclxuICogaHR0cHM6Ly9naXRodWIuY29tL2p1ai9NYXRoR2VvTGliL2Jsb2IvZmYyZDM0OGExNjcwMDhjODMxYWUzMDQ0ODNiODI0NjQ3ZjcxZmJmNi9zcmMvR2VvbWV0cnkvTGluZVNlZ21lbnQuY3BwLlxyXG4gKlxyXG4gKiBDb3B5cmlnaHQgMjAxMSBKdWtrYSBKeWzDpG5raVxyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlciB0aGUgQXBhY2hlIExpY2Vuc2UsIFZlcnNpb24gMi4wICh0aGUgXCJMaWNlbnNlXCIpO1xyXG4gKiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuXHJcbiAqIFlvdSBtYXkgb2J0YWluIGEgY29weSBvZiB0aGUgTGljZW5zZSBhdFxyXG4gKlxyXG4gKiBodHRwOi8vd3d3LmFwYWNoZS5vcmcvbGljZW5zZXMvTElDRU5TRS0yLjBcclxuICpcclxuICogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZVxyXG4gKiBkaXN0cmlidXRlZCB1bmRlciB0aGUgTGljZW5zZSBpcyBkaXN0cmlidXRlZCBvbiBhbiBcIkFTIElTXCIgQkFTSVMsXHJcbiAqIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLlxyXG4gKiBTZWUgdGhlIExpY2Vuc2UgZm9yIHRoZSBzcGVjaWZpYyBsYW5ndWFnZSBnb3Zlcm5pbmcgcGVybWlzc2lvbnMgYW5kXHJcbiAqIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLlxyXG4gKiAtLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tXHJcbiAqXHJcbiAqIEBwYXJhbSB7dmVjM30gY2xvc2VzdEEgT3V0cHV0IHBhcmFtLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNsb3Nlc3RCIE91dHB1dCBwYXJhbS5cclxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEFcclxuICogQHBhcmFtIHtMaW5lU2VnbWVudH0gc2VnbWVudEJcclxuICovXHJcbmZ1bmN0aW9uIGZpbmRDbG9zZXN0UG9pbnRzRnJvbVNlZ21lbnRUb1NlZ21lbnQoY2xvc2VzdEEsIGNsb3Nlc3RCLCBzZWdtZW50QSwgc2VnbWVudEIpIHtcclxuICBjb25zdCB7ZGlzdEEsIGRpc3RCfSA9IGZpbmRDbG9zZXN0UG9pbnRzRnJvbUxpbmVUb0xpbmUoXHJcbiAgICAgIHNlZ21lbnRBLnN0YXJ0LCBzZWdtZW50QS5kaXIsIHNlZ21lbnRCLnN0YXJ0LCBzZWdtZW50Qi5kaXIpO1xyXG5cclxuICBjb25zdCBpc0Rpc3RBSW5Cb3VuZHMgPSBkaXN0QSA+PSAwICYmIGRpc3RBIDw9IDE7XHJcbiAgY29uc3QgaXNEaXN0QkluQm91bmRzID0gZGlzdEIgPj0gMCAmJiBkaXN0QiA8PSAxO1xyXG5cclxuICBpZiAoaXNEaXN0QUluQm91bmRzKSB7XHJcbiAgICBpZiAoaXNEaXN0QkluQm91bmRzKSB7XHJcbiAgICAgIC8vIFRoZSBkaXN0YW5jZXMgYWxvbmcgYm90aCBsaW5lIHNlZ21lbnRzIGFyZSB3aXRoaW4gYm91bmRzLlxyXG4gICAgICB2ZWMzLnNjYWxlQW5kQWRkKGNsb3Nlc3RBLCBzZWdtZW50QS5zdGFydCwgc2VnbWVudEEuZGlyLCBkaXN0QSk7XHJcbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQoY2xvc2VzdEIsIHNlZ21lbnRCLnN0YXJ0LCBzZWdtZW50Qi5kaXIsIGRpc3RCKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIC8vIE9ubHkgdGhlIGRpc3RhbmNlIGFsb25nIHRoZSBmaXJzdCBsaW5lIHNlZ21lbnQgaXMgd2l0aGluIGJvdW5kcy5cclxuICAgICAgaWYgKGRpc3RCIDwgMCkge1xyXG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuc3RhcnQpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0Qiwgc2VnbWVudEIuZW5kKTtcclxuICAgICAgfVxyXG4gICAgICBmaW5kQ2xvc2VzdFBvaW50T25TZWdtZW50VG9Qb2ludChjbG9zZXN0QSwgc2VnbWVudEEsIGNsb3Nlc3RCKTtcclxuICAgIH1cclxuICB9IGVsc2Uge1xyXG4gICAgaWYgKGlzRGlzdEJJbkJvdW5kcykge1xyXG4gICAgICAvLyBPbmx5IHRoZSBkaXN0YW5jZSBhbG9uZyB0aGUgc2Vjb25kIGxpbmUgc2VnbWVudCBpcyB3aXRoaW4gYm91bmRzLlxyXG4gICAgICBpZiAoZGlzdEEgPCAwKSB7XHJcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5zdGFydCk7XHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RBLCBzZWdtZW50QS5lbmQpO1xyXG4gICAgICB9XHJcbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGNsb3Nlc3RCLCBzZWdtZW50QiwgY2xvc2VzdEEpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gTmVpdGhlciBvZiB0aGUgZGlzdGFuY2VzIGFsb25nIGVpdGhlciBsaW5lIHNlZ21lbnQgYXJlIHdpdGhpbiBib3VuZHMuXHJcbiAgICAgIGlmIChkaXN0QSA8IDApIHtcclxuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLnN0YXJ0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEEsIHNlZ21lbnRBLmVuZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGlmIChkaXN0QiA8IDApIHtcclxuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLnN0YXJ0KTtcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB2ZWMzLmNvcHkoY2xvc2VzdEIsIHNlZ21lbnRCLmVuZCk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IGFsdENsb3Nlc3RBID0gdmVjMy5jcmVhdGUoKTtcclxuICAgICAgY29uc3QgYWx0Q2xvc2VzdEIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5cclxuICAgICAgZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoYWx0Q2xvc2VzdEEsIHNlZ21lbnRBLCBjbG9zZXN0Qik7XHJcbiAgICAgIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50KGFsdENsb3Nlc3RCLCBzZWdtZW50QiwgY2xvc2VzdEEpO1xyXG5cclxuICAgICAgaWYgKHZlYzMuc3F1YXJlZERpc3RhbmNlKGFsdENsb3Nlc3RBLCBjbG9zZXN0QikgPFxyXG4gICAgICAgICAgdmVjMy5zcXVhcmVkRGlzdGFuY2UoYWx0Q2xvc2VzdEIsIGNsb3Nlc3RBKSkge1xyXG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QSwgYWx0Q2xvc2VzdEEpO1xyXG4gICAgICB9IGVsc2Uge1xyXG4gICAgICAgIHZlYzMuY29weShjbG9zZXN0QiwgYWx0Q2xvc2VzdEIpO1xyXG4gICAgICB9XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9zaXRpb24gb24gYSBsaW5lIHNlZ21lbnQgdG8gYSBwb2ludC5cclxuICpcclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKiBPcmlnaW5hbGx5IGJhc2VkIG9uIEp1a2thIEp5bMOkbmtpJ3MgYWxnb3JpdGhtIGF0XHJcbiAqIGh0dHBzOi8vZ2l0aHViLmNvbS9qdWovTWF0aEdlb0xpYi9ibG9iL2ZmMmQzNDhhMTY3MDA4YzgzMWFlMzA0NDgzYjgyNDY0N2Y3MWZiZjYvc3JjL0dlb21ldHJ5L0xpbmVTZWdtZW50LmNwcC5cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGNsb3Nlc3RQb2ludCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7TGluZVNlZ21lbnR9IHNlZ21lbnRcclxuICogQHBhcmFtIHt2ZWMzfSBwb2ludFxyXG4gKiBAcHJpdmF0ZVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludE9uU2VnbWVudFRvUG9pbnQoY2xvc2VzdFBvaW50LCBzZWdtZW50LCBwb2ludCkge1xyXG4gIGNvbnN0IGRpclNxdWFyZWRMZW5ndGggPSB2ZWMzLnNxdWFyZWRMZW5ndGgoc2VnbWVudC5kaXIpO1xyXG5cclxuICBpZiAoIWRpclNxdWFyZWRMZW5ndGgpIHtcclxuICAgIC8vIFRoZSBwb2ludCBpcyBhdCB0aGUgc2VnbWVudCBzdGFydC5cclxuICAgIHZlYzMuY29weShjbG9zZXN0UG9pbnQsIHNlZ21lbnQuc3RhcnQpO1xyXG4gIH0gZWxzZSB7XHJcbiAgICAvLyBDYWxjdWxhdGUgdGhlIHByb2plY3Rpb24gb2YgdGhlIHBvaW50IG9udG8gdGhlIGxpbmUgZXh0ZW5kaW5nIHRocm91Z2ggdGhlIHNlZ21lbnQuXHJcbiAgICB2ZWMzLnN1YnRyYWN0KF90bXBWZWMxLCBwb2ludCwgc2VnbWVudC5zdGFydCk7XHJcbiAgICBjb25zdCB0ID0gdmVjMy5kb3QoX3RtcFZlYzEsIHNlZ21lbnQuZGlyKSAvIGRpclNxdWFyZWRMZW5ndGg7XHJcblxyXG4gICAgaWYgKHQgPCAwKSB7XHJcbiAgICAgIC8vIFRoZSBwb2ludCBwcm9qZWN0cyBiZXlvbmQgdGhlIHNlZ21lbnQgc3RhcnQuXHJcbiAgICAgIHZlYzMuY29weShjbG9zZXN0UG9pbnQsIHNlZ21lbnQuc3RhcnQpO1xyXG4gICAgfSBlbHNlIGlmICh0ID4gMSkge1xyXG4gICAgICAvLyBUaGUgcG9pbnQgcHJvamVjdHMgYmV5b25kIHRoZSBzZWdtZW50IGVuZC5cclxuICAgICAgdmVjMy5jb3B5KGNsb3Nlc3RQb2ludCwgc2VnbWVudC5lbmQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgLy8gVGhlIHBvaW50IHByb2plY3RzIGJldHdlZW4gdGhlIHN0YXJ0IGFuZCBlbmQgb2YgdGhlIHNlZ21lbnQuXHJcbiAgICAgIHZlYzMuc2NhbGVBbmRBZGQoY2xvc2VzdFBvaW50LCBzZWdtZW50LnN0YXJ0LCBzZWdtZW50LmRpciwgdCk7XHJcbiAgICB9XHJcbiAgfVxyXG59XHJcblxyXG4vKipcclxuICogRmluZHMgdGhlIGNsb3Nlc3QgcG9zaXRpb24gb24gb25lIGxpbmUgdG8gdGhlIG90aGVyIGxpbmUsIGFuZCB2aWNlIHZlcnNhLlxyXG4gKlxyXG4gKiBUaGUgcG9zaXRpb25zIGFyZSByZXByZXNlbnRlZCBhcyBzY2FsYXItdmFsdWUgZGlzdGFuY2VzIGZyb20gdGhlIFwic3RhcnRcIiBwb3NpdGlvbnMgb2YgZWFjaCBsaW5lLlxyXG4gKiBUaGVzZSBhcmUgc2NhbGVkIGFjY29yZGluZyB0byB0aGUgZ2l2ZW4gZGlyZWN0aW9uIHZlY3RvcnMuXHJcbiAqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBKdWtrYSBKeWzDpG5raSdzIGFsZ29yaXRobSBhdFxyXG4gKiBodHRwczovL2dpdGh1Yi5jb20vanVqL01hdGhHZW9MaWIvYmxvYi9mZjJkMzQ4YTE2NzAwOGM4MzFhZTMwNDQ4M2I4MjQ2NDdmNzFmYmY2L3NyYy9HZW9tZXRyeS9MaW5lLmNwcC5cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTEgSnVra2EgSnlsw6Rua2lcclxuICpcclxuICogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlIFwiTGljZW5zZVwiKTtcclxuICogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLlxyXG4gKiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXRcclxuICpcclxuICogaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wXHJcbiAqXHJcbiAqIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmVcclxuICogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gXCJBUyBJU1wiIEJBU0lTLFxyXG4gKiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC5cclxuICogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZFxyXG4gKiBsaW1pdGF0aW9ucyB1bmRlciB0aGUgTGljZW5zZS5cclxuICogLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxyXG4gKlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0QSBUaGUgc3RhcnQgcG9zaXRpb24gb2YgbGluZSBBLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGRpckEgVGhlICh1bm5vcm1hbGl6ZWQpIGRpcmVjdGlvbiBvZiBsaW5lIEEuIENhbm5vdCBiZSB6ZXJvLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IHN0YXJ0QiBUaGUgc3RhcnQgcG9zaXRpb24gb2YgbGluZSBCLlxyXG4gKiBAcGFyYW0ge3ZlYzN9IGRpckIgVGhlICh1bm5vcm1hbGl6ZWQpIGRpcmVjdGlvbiBvZiBsaW5lIEIuIENhbm5vdCBiZSB6ZXJvLlxyXG4gKiBAcmV0dXJucyB7e2Rpc3RBOiBOdW1iZXIsIGRpc3RCOiBOdW1iZXJ9fVxyXG4gKi9cclxuZnVuY3Rpb24gZmluZENsb3Nlc3RQb2ludHNGcm9tTGluZVRvTGluZShzdGFydEEsIGRpckEsIHN0YXJ0QiwgZGlyQikge1xyXG4gIHZlYzMuc3VidHJhY3QoX3RtcFZlYzEsIHN0YXJ0QSwgc3RhcnRCKTtcclxuICBjb25zdCBkaXJCRG90RGlyQVRvQiA9IHZlYzMuZG90KGRpckIsIF90bXBWZWMxKTtcclxuICBjb25zdCBkaXJBRG90RGlyQVRvQiA9IHZlYzMuZG90KGRpckEsIF90bXBWZWMxKTtcclxuXHJcbiAgY29uc3Qgc3FyTGVuRGlyQiA9IHZlYzMuc3F1YXJlZExlbmd0aChkaXJCKTtcclxuICBjb25zdCBzcXJMZW5EaXJBID0gdmVjMy5zcXVhcmVkTGVuZ3RoKGRpckEpO1xyXG5cclxuICBjb25zdCBkaXJBRG90RGlyQiA9IHZlYzMuZG90KGRpckEsIGRpckIpO1xyXG5cclxuICBjb25zdCBkZW5vbWluYXRvciA9IHNxckxlbkRpckEgKiBzcXJMZW5EaXJCIC0gZGlyQURvdERpckIgKiBkaXJBRG90RGlyQjtcclxuXHJcbiAgY29uc3QgZGlzdEEgPSBkZW5vbWluYXRvciA8IEVQU0lMT05cclxuICAgICAgPyAwXHJcbiAgICAgIDogKGRpckFEb3REaXJCICogZGlyQkRvdERpckFUb0IgLSBzcXJMZW5EaXJCICogZGlyQURvdERpckFUb0IpIC8gZGVub21pbmF0b3I7XHJcbiAgY29uc3QgZGlzdEIgPSAoZGlyQkRvdERpckFUb0IgKyBkaXJBRG90RGlyQiAqIGRpc3RBKSAvIHNxckxlbkRpckI7XHJcblxyXG4gIHJldHVybiB7XHJcbiAgICBkaXN0QTogZGlzdEEsXHJcbiAgICBkaXN0QjogZGlzdEJcclxuICB9O1xyXG59XHJcblxyXG4vKipcclxuICogQSBnb29kIGRlc2NyaXB0aW9uIG9mIHdoeSB3ZSBuZWVkIHRoZXNlIHNwZWNpYWwgb3BlcmF0aW9ucyBmb3Igcm90YXRpbmcgdGVuc29ycyBjYW4gYmUgZm91bmRcclxuICogaGVyZTogaHR0cDovL3d3dy5yYW5keWdhdWwubmV0LzIwMTQvMDQvMDkvdHJhbnNmb3JtYXRpb25zLWNoYW5nZS1vZi1iYXNpcy1tYXRyaXgvLlxyXG4gKlxyXG4gKiBAcGFyYW0ge21hdDN9IG91dHB1dCBPdXRwdXQgcGFyYW0uXHJcbiAqIEBwYXJhbSB7bWF0M30gdGVuc29yXHJcbiAqIEBwYXJhbSB7cXVhdH0gcm90YXRpb25cclxuICovXHJcbmZ1bmN0aW9uIHJvdGF0ZVRlbnNvcihvdXRwdXQsIHRlbnNvciwgcm90YXRpb24pIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxyXG4gIG1hdDMuZnJvbVF1YXQoX3RtcE1hdCwgcm90YXRpb24pO1xyXG4gIG1hdDMubXVsdGlwbHkob3V0cHV0LCBfdG1wTWF0LCB0ZW5zb3IpO1xyXG4gIG1hdDMuaW52ZXJ0KF90bXBNYXQsIF90bXBNYXQpO1xyXG4gIG1hdDMubXVsdGlwbHkob3V0cHV0LCBvdXRwdXQsIF90bXBNYXQpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtBYWJifSBhYWJiXHJcbiAqIEBwYXJhbSB7dmVjM30gcG9pbnRcclxuICogQHJldHVybnMge2Jvb2xlYW59XHJcbiAqL1xyXG5mdW5jdGlvbiBhYWJiVnNQb2ludChhYWJiLCBwb2ludCkge1xyXG4gIHJldHVybiBwb2ludFswXSA+PSBhYWJiLm1pblggJiYgcG9pbnRbMF0gPD0gYWFiYi5tYXhYICYmXHJcbiAgICAgIHBvaW50WzFdID49IGFhYmIubWluWSAmJiBwb2ludFsxXSA8PSBhYWJiLm1heFkgJiZcclxuICAgICAgcG9pbnRbMl0gPj0gYWFiYi5taW5aICYmIHBvaW50WzJdIDw9IGFhYmIubWF4WlxyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHtxdWF0fSBvdXRcclxuICogQHBhcmFtIHtxdWF0fSBhXHJcbiAqIEBwYXJhbSB7cXVhdH0gYlxyXG4gKiBAcGFyYW0ge251bWJlcn0gc2NhbGVcclxuICogQHJldHVybnMge3F1YXR9XHJcbiAqL1xyXG5mdW5jdGlvbiBzY2FsZUFuZEFkZFF1YXQob3V0LCBhLCBiLCBzY2FsZSkge1xyXG4gIHJldHVybiBxdWF0LnNldChvdXQsXHJcbiAgICAgIGFbMF0gKyBiWzBdICogc2NhbGUsXHJcbiAgICAgIGFbMV0gKyBiWzFdICogc2NhbGUsXHJcbiAgICAgIGFbMl0gKyBiWzJdICogc2NhbGUsXHJcbiAgICAgIGFbM10gKyBiWzNdICogc2NhbGUpO1xyXG59XHJcblxyXG4vKipcclxuICogQHBhcmFtIHt2ZWMzfSBhXHJcbiAqIEBwYXJhbSB7dmVjM30gYlxyXG4gKiBAcmV0dXJucyB7Ym9vbGVhbn1cclxuICovXHJcbmZ1bmN0aW9uIGFyZVZlYzNzQ2xvc2UoYSwgYikge1xyXG4gIGZvciAobGV0IGkgPSAwOyBpIDwgMzsgaSsrKSB7XHJcbiAgICBpZiAoYVtpXSAtIGJbaV0gPiBFUFNJTE9OIHx8IGJbaV0gLSBhW2ldID4gRVBTSUxPTikge1xyXG4gICAgICByZXR1cm4gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG4gIHJldHVybiB0cnVlO1xyXG59XHJcblxyXG4vLyBSZS11c2VkIGFjcm9zcyB0aGUgZ2VvbWV0cnkgdXRpbGl0eSBmdW5jdGlvbnMsIHNvIHdlIGRvbid0IGluc3RhbnRpYXRlIGFzIG1hbnkgdmVjMyBvYmplY3RzLlxyXG5jb25zdCBfdG1wVmVjMSA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IF90bXBWZWMyID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgX3RtcFZlYzMgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCBfdG1wVmVjNCA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IF90bXBNYXQgPSBtYXQzLmNyZWF0ZSgpO1xyXG5cclxuLy8gRXhwb3NlZCB0byBjb25zdW1lcnMsIHNvIHRoZXkgZG9uJ3QgaGF2ZSB0byBpbnN0YW50aWF0ZSBhcyBtYW55IHZlYzMgb2JqZWN0cy5cclxuY29uc3QgdG1wVmVjMSA9IHZlYzMuY3JlYXRlKCk7XHJcbmNvbnN0IHRtcFZlYzIgPSB2ZWMzLmNyZWF0ZSgpO1xyXG5jb25zdCB0bXBWZWMzID0gdmVjMy5jcmVhdGUoKTtcclxuY29uc3QgdG1wVmVjNCA9IHZlYzMuY3JlYXRlKCk7XHJcblxyXG5jb25zdCBfZ2VvbWV0cnkgPSB7XHJcbiAgRVBTSUxPTixcclxuICBIQUxGX1BJLFxyXG4gIFRXT19QSSxcclxuICBzY2FsZUFuZEFkZFF1YXQsXHJcbn07XHJcblxyXG5leHBvcnQge1xyXG4gIF9nZW9tZXRyeSxcclxuICB0bXBWZWMxLFxyXG4gIHRtcFZlYzIsXHJcbiAgdG1wVmVjMyxcclxuICB0bXBWZWM0LFxyXG4gIGZpbmRTcXVhcmVkRGlzdGFuY2VCZXR3ZWVuU2VnbWVudHMsXHJcbiAgZmluZFNxdWFyZWREaXN0YW5jZUZyb21TZWdtZW50VG9Qb2ludCxcclxuICBmaW5kQ2xvc2VzdFBvaW50RnJvbUFhYmJUb1BvaW50LFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tQWFiYlN1cmZhY2VUb1BvaW50LFxyXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFRyaWFuZ2xlLFxyXG4gIGZpbmRQb2lCZXR3ZWVuU2VnbWVudEFuZFBsYW5lUmVnaW9uLFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRGcm9tT2JiVG9Qb2ludCxcclxuICBmaW5kQ2xvc2VzdFBvaW50c0Zyb21TZWdtZW50VG9TZWdtZW50LFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRPblNlZ21lbnRUb1BvaW50LFxyXG4gIGZpbmRDbG9zZXN0UG9pbnRzRnJvbUxpbmVUb0xpbmUsXHJcbiAgcm90YXRlVGVuc29yLFxyXG4gIGFhYmJWc1BvaW50LFxyXG4gIGFyZVZlYzNzQ2xvc2UsXHJcbn07XHJcbiIsIi8qKlxyXG4gKiBUaGlzIG1vZHVsZSBkZWZpbmVzIGEgY29sbGVjdGlvbiBvZiBzdGF0aWMgdXRpbGl0eSBmdW5jdGlvbnMgZm9yIGNhbGN1bGF0aW5nIGluZXJ0aWEgdGVuc29ycy5cclxuICovXHJcblxyXG5pbXBvcnQge19nZW9tZXRyeSwgcm90YXRlVGVuc29yfSBmcm9tICcuL2dlb21ldHJ5JztcclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXHJcbiAqIEByZXR1cm5zIHttYXQzfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcihyYWRpdXMsIG1hc3MpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxyXG4gIGNvbnN0IHRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XHJcbiAgY29uc3QgbW9tZW50ID0gMiAvIDUgKiBtYXNzICogcmFkaXVzICogcmFkaXVzO1xyXG4gIHRlbnNvclswXSA9IG1vbWVudDtcclxuICB0ZW5zb3JbNF0gPSBtb21lbnQ7XHJcbiAgdGVuc29yWzhdID0gbW9tZW50O1xyXG4gIHJldHVybiB0ZW5zb3I7XHJcbn1cclxuXHJcbi8qKlxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFuZ2VYXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSByYW5nZVlcclxuICogQHBhcmFtIHtudW1iZXJ9IHJhbmdlWlxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xyXG4gKiBAcmV0dXJucyB7bWF0M31cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IocmFuZ2VYLCByYW5nZVksIHJhbmdlWiwgbWFzcykgey8vIFRPRE86IFRlc3QgdGhpcyBzb21laG93Li4uXHJcbiAgY29uc3QgdGVuc29yID0gbWF0My5jcmVhdGUoKTtcclxuICBjb25zdCB0bXAgPSBtYXNzIC8gMTI7XHJcbiAgY29uc3QgeFJhbmdlU3F1YXJlZCA9IHJhbmdlWCAqIHJhbmdlWDtcclxuICBjb25zdCB5UmFuZ2VTcXVhcmVkID0gcmFuZ2VZICogcmFuZ2VZO1xyXG4gIGNvbnN0IHpSYW5nZVNxdWFyZWQgPSByYW5nZVogKiByYW5nZVo7XHJcbiAgdGVuc29yWzBdID0gdG1wICogKHlSYW5nZVNxdWFyZWQgKyB6UmFuZ2VTcXVhcmVkKTtcclxuICB0ZW5zb3JbNF0gPSB0bXAgKiAoeFJhbmdlU3F1YXJlZCArIHlSYW5nZVNxdWFyZWQpO1xyXG4gIHRlbnNvcls4XSA9IHRtcCAqICh4UmFuZ2VTcXVhcmVkICsgelJhbmdlU3F1YXJlZCk7XHJcbiAgcmV0dXJuIHRlbnNvcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICogT3JpZ2luYWxseSBiYXNlZCBvbiBCb2phbiBMb3Zyb3ZpYydzIGFsZ29yaXRobSBhdFxyXG4gKiBodHRwOi8vd3d3LmdhbWVkZXYubmV0L3BhZ2UvcmVzb3VyY2VzL18vdGVjaG5pY2FsL21hdGgtYW5kLXBoeXNpY3MvY2Fwc3VsZS1pbmVydGlhLXRlbnNvci1yMzg1Ni5cclxuICpcclxuICogQ29weXJpZ2h0IDIwMTQgQm9qYW4gTG92cm92aWNcclxuICpcclxuICogR2FtZURldi5uZXQgT3BlbiBMaWNlbnNlXHJcbiAqIChodHRwOi8vd3d3LmdhbWVkZXYubmV0L3BhZ2UvcmVzb3VyY2VzL18vZ2RuZXRoZWxwL2dhbWVkZXZuZXQtb3Blbi1saWNlbnNlLXIyOTU2KVxyXG4gKlxyXG4gKiBURVJNUyBBTkQgQ09ORElUSU9OUyBGT1IgVVNFLCBSRVBST0RVQ1RJT04sIEFORCBESVNUUklCVVRJT05cclxuICpcclxuICogMS4gRGVmaW5pdGlvbnMuXHJcbiAqXHJcbiAqIFwiQXJ0aWNsZVwiIHNoYWxsIHJlZmVyIHRvIGFueSBib2R5IG9mIHRleHQgd3JpdHRlbiBieSBBdXRob3Igd2hpY2ggZGVzY3JpYmVzIGFuZCBkb2N1bWVudHMgdGhlIHVzZVxyXG4gKiBhbmQvb3Igb3BlcmF0aW9uIG9mIFNvdXJjZS4gSXQgc3BlY2lmaWNhbGx5IGRvZXMgbm90IHJlZmVyIHRvIGFueSBhY2NvbXBhbnlpbmcgU291cmNlIGVpdGhlclxyXG4gKiBlbWJlZGRlZCB3aXRoaW4gdGhlIGJvZHkgb2YgdGV4dCBvciBhdHRhY2hlZCB0byB0aGUgYXJ0aWNsZSBhcyBhIGZpbGUuXHJcbiAqXHJcbiAqIFwiQXV0aG9yXCIgbWVhbnMgdGhlIGluZGl2aWR1YWwgb3IgZW50aXR5IHRoYXQgb2ZmZXJzIHRoZSBXb3JrIHVuZGVyIHRoZSB0ZXJtcyBvZiB0aGlzIExpY2Vuc2UuXHJcbiAqXHJcbiAqIFwiTGljZW5zZVwiIHNoYWxsIG1lYW4gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIGZvciB1c2UsIHJlcHJvZHVjdGlvbiwgYW5kIGRpc3RyaWJ1dGlvbiBhcyBkZWZpbmVkXHJcbiAqIGJ5IFNlY3Rpb25zIDEgdGhyb3VnaCA5IG9mIHRoaXMgZG9jdW1lbnQuXHJcbiAqXHJcbiAqIFwiTGljZW5zb3JcIiBzaGFsbCBtZWFuIHRoZSBjb3B5cmlnaHQgb3duZXIgb3IgZW50aXR5IGF1dGhvcml6ZWQgYnkgdGhlIGNvcHlyaWdodCBvd25lciB0aGF0IGlzXHJcbiAqIGdyYW50aW5nIHRoZSBMaWNlbnNlLlxyXG4gKlxyXG4gKiBcIllvdVwiIChvciBcIllvdXJcIikgc2hhbGwgbWVhbiBhbiBpbmRpdmlkdWFsIG9yIGVudGl0eSBleGVyY2lzaW5nIHBlcm1pc3Npb25zIGdyYW50ZWQgYnkgdGhpc1xyXG4gKiBMaWNlbnNlLlxyXG4gKlxyXG4gKiBcIlNvdXJjZVwiIHNoYWxsIGluY2x1ZGUgYWxsIHNvZnR3YXJlIHRleHQgc291cmNlIGNvZGUgYW5kIGNvbmZpZ3VyYXRpb24gZmlsZXMgdXNlZCB0byBjcmVhdGVcclxuICogZXhlY3V0YWJsZSBzb2Z0d2FyZVxyXG4gKlxyXG4gKiBcIk9iamVjdFwiIHNoYWxsIG1lYW4gYW55IFNvdXJjZSB3aGljaCBoYXMgYmVlbiBjb252ZXJ0ZWQgaW50byBhIG1hY2hpbmUgZXhlY3V0YWJsZSBzb2Z0d2FyZVxyXG4gKlxyXG4gKiBcIldvcmtcIiBjb25zaXN0cyBvZiBib3RoIHRoZSBBcnRpY2xlIGFuZCBTb3VyY2VcclxuICpcclxuICogXCJQdWJsaXNoZXJcIiByZWZlcnMgdG8gR2FtZURldi5uZXQgTExDXHJcbiAqXHJcbiAqIFRoaXMgYWdyZWVtZW50IGlzIGJldHdlZW4gWW91IGFuZCBBdXRob3IsIHRoZSBvd25lciBhbmQgY3JlYXRvciBvZiB0aGUgV29yayBsb2NhdGVkIGF0XHJcbiAqIEdhbWVkZXYubmV0LlxyXG4gKlxyXG4gKiAyLiBGYWlyIERlYWxpbmcgUmlnaHRzLlxyXG4gKlxyXG4gKiBOb3RoaW5nIGluIHRoaXMgTGljZW5zZSBpcyBpbnRlbmRlZCB0byByZWR1Y2UsIGxpbWl0LCBvciByZXN0cmljdCBhbnkgdXNlcyBmcmVlIGZyb20gY29weXJpZ2h0IG9yXHJcbiAqIHJpZ2h0cyBhcmlzaW5nIGZyb20gbGltaXRhdGlvbnMgb3IgZXhjZXB0aW9ucyB0aGF0IGFyZSBwcm92aWRlZCBmb3IgaW4gY29ubmVjdGlvbiB3aXRoIHRoZVxyXG4gKiBjb3B5cmlnaHQgcHJvdGVjdGlvbiB1bmRlciBjb3B5cmlnaHQgbGF3IG9yIG90aGVyIGFwcGxpY2FibGUgbGF3cy5cclxuICpcclxuICogMy4gR3JhbnQgb2YgQ29weXJpZ2h0IExpY2Vuc2UuXHJcbiAqXHJcbiAqIFN1YmplY3QgdG8gdGhlIHRlcm1zIGFuZCBjb25kaXRpb25zIG9mIHRoaXMgTGljZW5zZSwgdGhlIEF1dGhvciBoZXJlYnkgZ3JhbnRzIHRvIFlvdSBhIHBlcnBldHVhbCxcclxuICogd29ybGR3aWRlLCBub24tZXhjbHVzaXZlLCBuby1jaGFyZ2UsIHJveWFsdHktZnJlZSwgaXJyZXZvY2FibGUgY29weXJpZ2h0IGxpY2Vuc2UgdG8gdGhlIFdvcmtcclxuICogdW5kZXIgdGhlIGZvbGxvd2luZyBzdGF0ZWQgdGVybXM6XHJcbiAqIFlvdSBtYXkgbm90IHJlcHJvZHVjZSB0aGUgQXJ0aWNsZSBvbiBhbnkgb3RoZXIgd2Vic2l0ZSBvdXRzaWRlIG9mIEdhbWVkZXYubmV0IHdpdGhvdXQgZXhwcmVzc1xyXG4gKiB3cml0dGVuIHBlcm1pc3Npb24gZnJvbSB0aGUgQXV0aG9yXHJcbiAqIFlvdSBtYXkgdXNlLCBjb3B5LCBsaW5rLCBtb2RpZnkgYW5kIGRpc3RyaWJ1dGUgdW5kZXIgWW91ciBvd24gdGVybXMsIGJpbmFyeSBPYmplY3QgY29kZSB2ZXJzaW9uc1xyXG4gKiBiYXNlZCBvbiB0aGUgV29yayBpbiB5b3VyIG93biBzb2Z0d2FyZVxyXG4gKiBZb3UgbWF5IHJlcHJvZHVjZSwgcHJlcGFyZSBkZXJpdmF0aXZlIFdvcmtzIG9mLCBwdWJsaWNseSBkaXNwbGF5LCBwdWJsaWNseSBwZXJmb3JtLCBzdWJsaWNlbnNlLFxyXG4gKiBhbmQgZGlzdHJpYnV0ZSB0aGUgU291cmNlIGFuZCBzdWNoIGRlcml2YXRpdmUgU291cmNlIGluIFNvdXJjZSBmb3JtIG9ubHkgYXMgcGFydCBvZiBhIGxhcmdlclxyXG4gKiBzb2Z0d2FyZSBkaXN0cmlidXRpb24gYW5kIHByb3ZpZGVkIHRoYXQgYXR0cmlidXRpb24gdG8gdGhlIG9yaWdpbmFsIEF1dGhvciBpcyBncmFudGVkLlxyXG4gKiBUaGUgb3JpZ2luIG9mIHRoaXMgV29yayBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZDsgeW91IG11c3Qgbm90IGNsYWltIHRoYXQgeW91IHdyb3RlIHRoZVxyXG4gKiBvcmlnaW5hbCBTb3VyY2UuIElmIHlvdSB1c2UgdGhpcyBTb3VyY2UgaW4gYSBwcm9kdWN0LCBhbiBhY2tub3dsZWRnbWVudCBvZiB0aGUgQXV0aG9yIG5hbWUgd291bGRcclxuICogYmUgYXBwcmVjaWF0ZWQgYnV0IGlzIG5vdCByZXF1aXJlZC5cclxuICpcclxuICogNC4gUmVzdHJpY3Rpb25zLlxyXG4gKlxyXG4gKiBUaGUgbGljZW5zZSBncmFudGVkIGluIFNlY3Rpb24gMyBhYm92ZSBpcyBleHByZXNzbHkgbWFkZSBzdWJqZWN0IHRvIGFuZCBsaW1pdGVkIGJ5IHRoZSBmb2xsb3dpbmdcclxuICogcmVzdHJpY3Rpb25zOlxyXG4gKiBBbHRlcmVkIFNvdXJjZSB2ZXJzaW9ucyBtdXN0IGJlIHBsYWlubHkgbWFya2VkIGFzIHN1Y2gsIGFuZCBtdXN0IG5vdCBiZSBtaXNyZXByZXNlbnRlZCBhcyBiZWluZ1xyXG4gKiB0aGUgb3JpZ2luYWwgc29mdHdhcmUuXHJcbiAqIFRoaXMgTGljZW5zZSBtdXN0IGJlIHZpc2libHkgbGlua2VkIHRvIGZyb20gYW55IG9ubGluZSBkaXN0cmlidXRpb24gb2YgdGhlIEFydGljbGUgYnkgVVJJIGFuZFxyXG4gKiB1c2luZyB0aGUgZGVzY3JpcHRpdmUgdGV4dCBcIkxpY2Vuc2VkIHVuZGVyIHRoZSBHYW1lRGV2Lm5ldCBPcGVuIExpY2Vuc2VcIlxyXG4gKiBOZWl0aGVyIHRoZSBuYW1lIG9mIHRoZSBBdXRob3Igb2YgdGhpcyBXb3JrLCBub3IgYW55IG9mIHRoZWlyIHRyYWRlbWFya3Mgb3Igc2VydmljZSBtYXJrcywgbWF5IGJlXHJcbiAqIHVzZWQgdG8gZW5kb3JzZSBvciBwcm9tb3RlIHByb2R1Y3RzIGRlcml2ZWQgZnJvbSB0aGlzIFdvcmsgd2l0aG91dCBleHByZXNzIHByaW9yIHBlcm1pc3Npb24gb2ZcclxuICogdGhlIEF1dGhvclxyXG4gKiBFeGNlcHQgYXMgZXhwcmVzc2x5IHN0YXRlZCBoZXJlaW4sIG5vdGhpbmcgaW4gdGhpcyBMaWNlbnNlIGdyYW50cyBhbnkgbGljZW5zZSB0byBBdXRob3Inc1xyXG4gKiB0cmFkZW1hcmtzLCBjb3B5cmlnaHRzLCBwYXRlbnRzLCB0cmFkZSBzZWNyZXRzIG9yIGFueSBvdGhlciBpbnRlbGxlY3R1YWwgcHJvcGVydHkuIE5vIGxpY2Vuc2UgaXNcclxuICogZ3JhbnRlZCB0byB0aGUgdHJhZGVtYXJrcyBvZiBBdXRob3IgZXZlbiBpZiBzdWNoIG1hcmtzIGFyZSBpbmNsdWRlZCBpbiB0aGUgV29yay4gTm90aGluZyBpbiB0aGlzXHJcbiAqIExpY2Vuc2Ugc2hhbGwgYmUgaW50ZXJwcmV0ZWQgdG8gcHJvaGliaXQgQXV0aG9yIGZyb20gbGljZW5zaW5nIHVuZGVyIHRlcm1zIGRpZmZlcmVudCBmcm9tIHRoaXNcclxuICogTGljZW5zZSBhbnkgV29yayB0aGF0IEF1dGhvciBvdGhlcndpc2Ugd291bGQgaGF2ZSBhIHJpZ2h0IHRvIGxpY2Vuc2UuXHJcbiAqXHJcbiAqIDUuIEdyYW50IG9mIFBhdGVudCBMaWNlbnNlLlxyXG4gKlxyXG4gKiBTdWJqZWN0IHRvIHRoZSB0ZXJtcyBhbmQgY29uZGl0aW9ucyBvZiB0aGlzIExpY2Vuc2UsIGVhY2ggQ29udHJpYnV0b3IgaGVyZWJ5IGdyYW50cyB0byBZb3UgYVxyXG4gKiBwZXJwZXR1YWwsIHdvcmxkd2lkZSwgbm9uLWV4Y2x1c2l2ZSwgbm8tY2hhcmdlLCByb3lhbHR5LWZyZWUsIGlycmV2b2NhYmxlIChleGNlcHQgYXMgc3RhdGVkIGluXHJcbiAqIHRoaXMgc2VjdGlvbikgcGF0ZW50IGxpY2Vuc2UgdG8gbWFrZSwgaGF2ZSBtYWRlLCB1c2UsIG9mZmVyIHRvIHNlbGwsIHNlbGwsIGltcG9ydCwgYW5kIG90aGVyd2lzZVxyXG4gKiB0cmFuc2ZlciB0aGUgV29yaywgd2hlcmUgc3VjaCBsaWNlbnNlIGFwcGxpZXMgb25seSB0byB0aG9zZSBwYXRlbnQgY2xhaW1zIGxpY2Vuc2FibGUgYnkgc3VjaFxyXG4gKiBDb250cmlidXRvciB0aGF0IGFyZSBuZWNlc3NhcmlseSBpbmZyaW5nZWQgYnkgdGhlaXIgQ29udHJpYnV0aW9uKHMpIGFsb25lIG9yIGJ5IGNvbWJpbmF0aW9uIG9mXHJcbiAqIHRoZWlyIENvbnRyaWJ1dGlvbihzKSB3aXRoIHRoZSBXb3JrIHRvIHdoaWNoIHN1Y2ggQ29udHJpYnV0aW9uKHMpIHdhcyBzdWJtaXR0ZWQuIElmIFlvdSBpbnN0aXR1dGVcclxuICogcGF0ZW50IGxpdGlnYXRpb24gYWdhaW5zdCBhbnkgZW50aXR5IChpbmNsdWRpbmcgYSBjcm9zcy1jbGFpbSBvciBjb3VudGVyY2xhaW0gaW4gYSBsYXdzdWl0KVxyXG4gKiBhbGxlZ2luZyB0aGF0IHRoZSBXb3JrIG9yIFNvdXJjZSBpbmNvcnBvcmF0ZWQgd2l0aGluIHRoZSBXb3JrIGNvbnN0aXR1dGVzIGRpcmVjdCBvciBjb250cmlidXRvcnlcclxuICogcGF0ZW50IGluZnJpbmdlbWVudCwgdGhlbiBhbnkgcGF0ZW50IGxpY2Vuc2VzIGdyYW50ZWQgdG8gWW91IHVuZGVyIHRoaXMgTGljZW5zZSBmb3IgdGhhdCBXb3JrXHJcbiAqIHNoYWxsIHRlcm1pbmF0ZSBhcyBvZiB0aGUgZGF0ZSBzdWNoIGxpdGlnYXRpb24gaXMgZmlsZWQuXHJcbiAqXHJcbiAqIDYuIExpbWl0YXRpb24gb2YgTGlhYmlsaXR5LlxyXG4gKlxyXG4gKiBJbiBubyBldmVudCBhbmQgdW5kZXIgbm8gbGVnYWwgdGhlb3J5LCB3aGV0aGVyIGluIHRvcnQgKGluY2x1ZGluZyBuZWdsaWdlbmNlKSwgY29udHJhY3QsIG9yXHJcbiAqIG90aGVyd2lzZSwgdW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IChzdWNoIGFzIGRlbGliZXJhdGUgYW5kIGdyb3NzbHkgbmVnbGlnZW50IGFjdHMpIG9yXHJcbiAqIGFncmVlZCB0byBpbiB3cml0aW5nLCBzaGFsbCBhbnkgQXV0aG9yIG9yIFB1Ymxpc2hlciBiZSBsaWFibGUgdG8gWW91IGZvciBkYW1hZ2VzLCBpbmNsdWRpbmcgYW55XHJcbiAqIGRpcmVjdCwgaW5kaXJlY3QsIHNwZWNpYWwsIGluY2lkZW50YWwsIG9yIGNvbnNlcXVlbnRpYWwgZGFtYWdlcyBvZiBhbnkgY2hhcmFjdGVyIGFyaXNpbmcgYXMgYVxyXG4gKiByZXN1bHQgb2YgdGhpcyBMaWNlbnNlIG9yIG91dCBvZiB0aGUgdXNlIG9yIGluYWJpbGl0eSB0byB1c2UgdGhlIFdvcmsgKGluY2x1ZGluZyBidXQgbm90IGxpbWl0ZWRcclxuICogdG8gZGFtYWdlcyBmb3IgbG9zcyBvZiBnb29kd2lsbCwgd29yayBzdG9wcGFnZSwgY29tcHV0ZXIgZmFpbHVyZSBvciBtYWxmdW5jdGlvbiwgb3IgYW55IGFuZCBhbGxcclxuICogb3RoZXIgY29tbWVyY2lhbCBkYW1hZ2VzIG9yIGxvc3NlcyksIGV2ZW4gaWYgc3VjaCBBdXRob3IgaGFzIGJlZW4gYWR2aXNlZCBvZiB0aGUgcG9zc2liaWxpdHkgb2ZcclxuICogc3VjaCBkYW1hZ2VzLlxyXG4gKlxyXG4gKiA3LiBESVNDTEFJTUVSIE9GIFdBUlJBTlRZXHJcbiAqXHJcbiAqIFRIRSBTT0ZUV0FSRSBJUyBQUk9WSURFRCBcIkFTIElTXCIsIFdJVEhPVVQgV0FSUkFOVFkgT0YgQU5ZIEtJTkQsIEVYUFJFU1MgT1IgSU1QTElFRCwgSU5DTFVESU5HIEJVVFxyXG4gKiBOT1QgTElNSVRFRCBUTyBUSEUgV0FSUkFOVElFUyBPRiBNRVJDSEFOVEFCSUxJVFksIEZJVE5FU1MgRk9SIEEgUEFSVElDVUxBUiBQVVJQT1NFIEFORFxyXG4gKiBOT05JTkZSSU5HRU1FTlQuIElOIE5PIEVWRU5UIFNIQUxMIFRIRSBBVVRIT1JTIE9SIENPUFlSSUdIVCBIT0xERVJTIEJFIExJQUJMRSBGT1IgQU5ZIENMQUlNLFxyXG4gKiBEQU1BR0VTIE9SIE9USEVSIExJQUJJTElUWSwgV0hFVEhFUiBJTiBBTiBBQ1RJT04gT0YgQ09OVFJBQ1QsIFRPUlQgT1IgT1RIRVJXSVNFLCBBUklTSU5HIEZST00sXHJcbiAqIE9VVCBPRiBPUiBJTiBDT05ORUNUSU9OIFdJVEggVEhFIFNPRlRXQVJFIE9SIFRIRSBVU0UgT1IgT1RIRVIgREVBTElOR1MgSU4gVEhFIFNPRlRXQVJFLlxyXG4gKlxyXG4gKiA4LiBQdWJsaXNoZXIuXHJcbiAqXHJcbiAqIFRoZSBwYXJ0aWVzIGhlcmVieSBjb25maXJtIHRoYXQgdGhlIFB1Ymxpc2hlciBzaGFsbCBub3QsIHVuZGVyIGFueSBjaXJjdW1zdGFuY2VzLCBiZSByZXNwb25zaWJsZVxyXG4gKiBmb3IgYW5kIHNoYWxsIG5vdCBoYXZlIGFueSBsaWFiaWxpdHkgaW4gcmVzcGVjdCBvZiB0aGUgc3ViamVjdCBtYXR0ZXIgb2YgdGhpcyBMaWNlbnNlLiBUaGVcclxuICogUHVibGlzaGVyIG1ha2VzIG5vIHdhcnJhbnR5IHdoYXRzb2V2ZXIgaW4gY29ubmVjdGlvbiB3aXRoIHRoZSBXb3JrIGFuZCBzaGFsbCBub3QgYmUgbGlhYmxlIHRvIFlvdVxyXG4gKiBvciBhbnkgcGFydHkgb24gYW55IGxlZ2FsIHRoZW9yeSBmb3IgYW55IGRhbWFnZXMgd2hhdHNvZXZlciwgaW5jbHVkaW5nIHdpdGhvdXQgbGltaXRhdGlvbiBhbnlcclxuICogZ2VuZXJhbCwgc3BlY2lhbCwgaW5jaWRlbnRhbCBvciBjb25zZXF1ZW50aWFsIGRhbWFnZXMgYXJpc2luZyBpbiBjb25uZWN0aW9uIHRvIHRoaXMgbGljZW5zZS4gVGhlXHJcbiAqIFB1Ymxpc2hlciByZXNlcnZlcyB0aGUgcmlnaHQgdG8gY2Vhc2UgbWFraW5nIHRoZSBXb3JrIGF2YWlsYWJsZSB0byBZb3UgYXQgYW55IHRpbWUgd2l0aG91dCBub3RpY2VcclxuICpcclxuICogOS4gVGVybWluYXRpb25cclxuICpcclxuICogVGhpcyBMaWNlbnNlIGFuZCB0aGUgcmlnaHRzIGdyYW50ZWQgaGVyZXVuZGVyIHdpbGwgdGVybWluYXRlIGF1dG9tYXRpY2FsbHkgdXBvbiBhbnkgYnJlYWNoIGJ5IFlvdVxyXG4gKiBvZiB0aGUgdGVybXMgb2YgdGhpcyBMaWNlbnNlLiBJbmRpdmlkdWFscyBvciBlbnRpdGllcyB3aG8gaGF2ZSByZWNlaXZlZCBEZXJpdmlhdGl2ZSBXb3JrcyBmcm9tXHJcbiAqIFlvdSB1bmRlciB0aGlzIExpY2Vuc2UsIGhvd2V2ZXIsIHdpbGwgbm90IGhhdmUgdGhlaXIgbGljZW5zZXMgdGVybWluYXRlZCBwcm92aWRlZCBzdWNoXHJcbiAqIGluZGl2aWR1YWxzIG9yIGVudGl0aWVzIHJlbWFpbiBpbiBmdWxsIGNvbXBsaWFuY2Ugd2l0aCB0aG9zZSBsaWNlbnNlcy4gU2VjdGlvbnMgMSwgMiwgNiwgNywgOCBhbmRcclxuICogOSB3aWxsIHN1cnZpdmUgYW55IHRlcm1pbmF0aW9uIG9mIHRoaXMgTGljZW5zZS5cclxuICogU3ViamVjdCB0byB0aGUgYWJvdmUgdGVybXMgYW5kIGNvbmRpdGlvbnMsIHRoZSBsaWNlbnNlIGdyYW50ZWQgaGVyZSBpcyBwZXJwZXR1YWwgKGZvciB0aGVcclxuICogZHVyYXRpb24gb2YgdGhlIGFwcGxpY2FibGUgY29weXJpZ2h0IGluIHRoZSBXb3JrKS4gTm90d2l0aHN0YW5kaW5nIHRoZSBhYm92ZSwgTGljZW5zb3IgcmVzZXJ2ZXNcclxuICogdGhlIHJpZ2h0IHRvIHJlbGVhc2UgdGhlIFdvcmsgdW5kZXIgZGlmZmVyZW50IGxpY2Vuc2UgdGVybXMgb3IgdG8gc3RvcCBkaXN0cmlidXRpbmcgdGhlIFdvcmsgYXRcclxuICogYW55IHRpbWU7IHByb3ZpZGVkLCBob3dldmVyIHRoYXQgYW55IHN1Y2ggZWxlY3Rpb24gd2lsbCBub3Qgc2VydmUgdG8gd2l0aGRyYXcgdGhpcyBMaWNlbnNlIChvclxyXG4gKiBhbnkgb3RoZXIgbGljZW5zZSB0aGF0IGhhcyBiZWVuLCBvciBpcyByZXF1aXJlZCB0byBiZSwgZ3JhbnRlZCB1bmRlciB0aGUgdGVybXMgb2YgdGhpcyBMaWNlbnNlKSxcclxuICogYW5kIHRoaXMgTGljZW5zZSB3aWxsIGNvbnRpbnVlIGluIGZ1bGwgZm9yY2UgYW5kIGVmZmVjdCB1bmxlc3MgdGVybWluYXRlZCBhcyBzdGF0ZWQgYWJvdmUuXHJcbiAqIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cclxuICpcclxuICogQHBhcmFtIHtudW1iZXJ9IGhhbGZEaXN0YW5jZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gcmFkaXVzXHJcbiAqIEBwYXJhbSB7bnVtYmVyfSBtYXNzXHJcbiAqIEByZXR1cm5zIHttYXQzfVxyXG4gKi9cclxuZnVuY3Rpb24gY3JlYXRlQ2Fwc3VsZUluZXJ0aWFUZW5zb3IoaGFsZkRpc3RhbmNlLCByYWRpdXMsIG1hc3MpIHsvLyBUT0RPOiBUZXN0IHRoaXMgc29tZWhvdy4uLlxyXG4gIGNvbnN0IHRlbnNvciA9IG1hdDMuY3JlYXRlKCk7XHJcblxyXG4gIGNvbnN0IGN5bGluZGVySGVpZ2h0ID0gaGFsZkRpc3RhbmNlICogMjtcclxuICBjb25zdCByYWRpdXNTcXVhcmVkID0gcmFkaXVzICogcmFkaXVzO1xyXG4gIGNvbnN0IGN5bGluZGVyVm9sdW1lID0gTWF0aC5QSSAqIHJhZGl1c1NxdWFyZWQgKiBjeWxpbmRlckhlaWdodDtcclxuICBjb25zdCBoZW1pc3BoZXJlQ29tYmluZWRWb2x1bWUgPSA0IC8gMyAqIE1hdGguUEkgKiByYWRpdXNTcXVhcmVkO1xyXG4gIGNvbnN0IGN5bGluZGVyTWFzcyA9IGN5bGluZGVyVm9sdW1lIC8gKGN5bGluZGVyVm9sdW1lICogaGVtaXNwaGVyZUNvbWJpbmVkVm9sdW1lKSAqIG1hc3M7XHJcbiAgY29uc3QgaGVtaXNwaGVyZU1hc3MgPSAobWFzcyAtIGN5bGluZGVyTWFzcykgLyAyO1xyXG5cclxuICAvLyBDb250cmlidXRpb24gZnJvbSB0aGUgY3lsaW5kZXIuXHJcbiAgdGVuc29yWzRdID0gcmFkaXVzU3F1YXJlZCAqIGN5bGluZGVyTWFzcyAvIDI7XHJcbiAgdGVuc29yWzBdID0gdGVuc29yWzRdIC8gMiArIGN5bGluZGVyTWFzcyAqIGN5bGluZGVySGVpZ2h0ICogY3lsaW5kZXJIZWlnaHQgLyAxMjtcclxuICB0ZW5zb3JbOF0gPSB0ZW5zb3JbMF07XHJcblxyXG4gIC8vIENvbnRyaWJ1dGlvbnMgZnJvbSB0aGUgaGVtaXNwaGVyZXMuXHJcbiAgY29uc3QgdG1wMSA9IGhlbWlzcGhlcmVNYXNzICogMiAqIHJhZGl1c1NxdWFyZWQgLyA1O1xyXG4gIHRlbnNvcls0XSArPSB0bXAxICogMjtcclxuICBjb25zdCB0bXAyID1cclxuICAgICAgKHRtcDEgKyBoZW1pc3BoZXJlTWFzcyAqIChoYWxmRGlzdGFuY2UgKiBoYWxmRGlzdGFuY2UgKyAzIC8gOCAqIGN5bGluZGVySGVpZ2h0ICogcmFkaXVzKSkgKiAyO1xyXG4gIHRlbnNvclswXSArPSB0bXAyO1xyXG4gIHRlbnNvcls4XSArPSB0bXAyO1xyXG5cclxuICAvLyBUaGUgYWJvdmUgY2FsY3VsYXRpb25zIGFzc3VtZSB0aGUgY2Fwc3VsZSBpcyBhbGlnbmVkIGFsb25nIHRoZSB5LWF4aXMuIEhvd2V2ZXIsIG91ciBkZWZhdWx0XHJcbiAgLy8gY2Fwc3VsZSBvcmllbnRhdGlvbiBpcyBhbGlnbmVkIGFsb25nIHRoZSB6LWF4aXMuXHJcbiAgY29uc3Qgcm90YXRpb24gPSBxdWF0LmNyZWF0ZSgpO1xyXG4gIHF1YXQucm90YXRlWChyb3RhdGlvbiwgcm90YXRpb24sIF9nZW9tZXRyeS5IQUxGX1BJKTtcclxuICByb3RhdGVUZW5zb3IodGVuc29yLCB0ZW5zb3IsIHJvdGF0aW9uKTtcclxuXHJcbiAgcmV0dXJuIHRlbnNvcjtcclxufVxyXG5cclxuLyoqXHJcbiAqIEBwYXJhbSB7Q29sbGlkYWJsZX0gY29sbGlkYWJsZVxyXG4gKiBAcGFyYW0ge251bWJlcn0gbWFzc1xyXG4gKiBAcmV0dXJucyB7bWF0M31cclxuICovXHJcbmZ1bmN0aW9uIGNyZWF0ZUZvckNvbGxpZGFibGUoY29sbGlkYWJsZSwgbWFzcykge1xyXG4gIHN3aXRjaCAoY29sbGlkYWJsZS5jb25zdHJ1Y3Rvci5uYW1lKSB7XHJcbiAgICBjYXNlICdTcGhlcmUnOlxyXG4gICAgICByZXR1cm4gY3JlYXRlU3BoZXJlSW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLnJhZGl1cywgbWFzcyk7XHJcbiAgICBjYXNlICdBYWJiJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUJveEluZXJ0aWFUZW5zb3IoY29sbGlkYWJsZS5yYW5nZVgsIGNvbGxpZGFibGUucmFuZ2VZLCBjb2xsaWRhYmxlLnJhbmdlWiwgbWFzcyk7XHJcbiAgICBjYXNlICdDYXBzdWxlJzpcclxuICAgICAgcmV0dXJuIGNyZWF0ZUNhcHN1bGVJbmVydGlhVGVuc29yKGNvbGxpZGFibGUuaGFsZkRpc3RhbmNlLCBjb2xsaWRhYmxlLnJhZGl1cywgbWFzcyk7XHJcbiAgICBjYXNlICdPYmInOlxyXG4gICAgICByZXR1cm4gY3JlYXRlQm94SW5lcnRpYVRlbnNvcihjb2xsaWRhYmxlLmhhbGZTaWRlTGVuZ3Roc1swXSAqIDIsXHJcbiAgICAgICAgICBjb2xsaWRhYmxlLmhhbGZTaWRlTGVuZ3Roc1sxXSAqIDIsIGNvbGxpZGFibGUuaGFsZlNpZGVMZW5ndGhzWzJdICogMiwgbWFzcyk7XHJcbiAgfVxyXG59XHJcblxyXG5leHBvcnQge1xyXG4gIGNyZWF0ZVNwaGVyZUluZXJ0aWFUZW5zb3IsXHJcbiAgY3JlYXRlQm94SW5lcnRpYVRlbnNvcixcclxuICBjcmVhdGVDYXBzdWxlSW5lcnRpYVRlbnNvcixcclxuICBjcmVhdGVGb3JDb2xsaWRhYmxlLFxyXG59O1xyXG4iLCIvKipcclxuICogVGhpcyBtb2R1bGUgZGVmaW5lcyBhIGNvbGxlY3Rpb24gb2Ygc3RhdGljIGdlbmVyYWwgdXRpbGl0eSBmdW5jdGlvbnMuXHJcbiAqL1xyXG5cclxuLy8gVE9ETzogVGhpcyBzaG91bGQgYmUgc2V0IGZyb20gc29tZXdoZXJlIGVsc2UgKHByb2JhYmx5IGFzIGEgcGFyYW0gdG8gY29udHJvbGxlciBsaWtlIGJlZm9yZTsgYnV0IHRoZW4gSSBuZWVkIHRvIG1ha2UgdGhpcyB1cGRhdGFibGUpXHJcbmNvbnN0IGlzSW5EZXZNb2RlID0gdHJ1ZTtcclxuXHJcbmNvbnN0IF91dGlsID0ge1xyXG4gIGlzSW5EZXZNb2RlOiBpc0luRGV2TW9kZVxyXG59O1xyXG5cclxuZXhwb3J0IHtcclxuICBfdXRpbCxcclxufTtcclxuIl19"}